<!DOCTYPE html>
<html lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>CardMemo2</title>
	<meta content="width=device-width,initial-scale=1,maximum-scale=1.0" name="viewport">
<style>
body{color:#111;background-color:#f4f4f4;font-family:Montserrat, sans-serif;}
h1{font-size:2em;background-color:#202020;color:#e7e7e7;margin:0;padding-top:0.5em;padding-left:0.5em;}
h2{font-size:1.5em;color:#037;padding-top:0.2em;margin:0.2em;}
h3{color:#409eff;}
p{font-size:1.2em;}
em{color:#00f;font-style:normal;}strong{color:#f00;font-style:normal;}
pre{white-space:pre-wrap;font-size:1.1em;}
code{background-color:#f1f1f1;font-size:1.1em;color:#d73737;}
pre code{display: block;border: 1px solid #cccccc;}
blockquote{border-left:5px solid #bbb;padding-left:0.5em;}
ul li{list-style:circle;}ol li{list-style:hiragana;}
table{border-collapse:collapse;border:1px solid;}th{border:1px solid;}td{border:1px solid;}
textarea{font-family:Montserrat, sans-serif;width:100%;height:80vh;font-size:1.1em}
article{background-color:hsl(60, 9%, 87%);max-width:80rem;margin:0 auto;padding:0 1rem;}
.card{opacity: 0.87;position: relative;max-width:80rem;margin:0 auto 8px;
box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
border-radius: 8px;background: white;}
div.card h1{font-size:1.8em;color:#026;background-color:#f0f0f0;}
.sec_pad{padding: 8px 12px;}
.art_pad{padding: 2px 12px;}
.kwd_pad{padding: 0px 12px;}
div.edit_zone{border: 4px solid blue;}
div.auto_high{position: relative;}
span.auto_high{display: block;white-space: pre-wrap;word-wrap: break-word;visibility: hidden;}
textarea.auto_high{position: absolute;top: 0;height: 100%;line-height: 20px;padding:0px 4px;box-sizing: border-box;}
div.sd_by_sd{flex:1;}
.prv_pad{padding-left:8px;}
span.kwd_em{color:red}
.footer{margin: 0 auto;text-align: center}
nav {background: #202020;max-width:80rem;padding:0 12px;margin:0 auto;display: flex;}
nav h1 {flex: 3;}
nav label {color: #fff;padding-top: 0.5em;}
.s_item{margin: 10px auto;text-decoration: underline;color: blue;}
@media screen and (max-width: 400px) { #kwd{width: 100px;} }
</style>
<script type="text/javascript">
!(function(top){ top.$tm||(top.$tm={})
var jctx=[];
function load_jctx(){
/*include_mds_start*/
jctx.push(JSON.parse('{"id": "140712", "tag": "design", "text": "# 功能重用与接口设计\\n\\n最近在做内部的维基网站，内容是从Word文档解析然后以页面形式呈现。Word可以导出Html，解析也就是针对Html的标签做些过滤并对需要的内容做分类提取。第一期的工作，原有的协议内容绝大多数是一份表格为一个请求/应答，由于表格和章节号都是一一对应关系，即一个标题下也只会有一张张表，解析的时候，就以表结束作为时机，在此时刻插入数据库。这种做法其实是比较死板的，只适合于这一类文档，当出现一个标题下有多张表格，或是除表格外有文字甚至图片时，就难以处理。虽然这类文档都以网页形式呈现，但其中少量的图片，除非对原有解析代码做伤筋动骨的改动，修改起来是十分困难的。\\n\\n第二期开始的文档，格式就变得多变了。这时我才意识到，只有以章节标题来划分，才是比较通用的做法。并需要对章节内的信息作归类，把标题下的内容按类别加入数据库，这样才更符合日常的整理思维。\\n\\n虽然第一期作了很多解析功能，函数却不容易被复用，由于接口的注释不明，或是对入参有些隐含的期望，在第二期的工作时，很多函数看起来能用，却忘记了原先的期望，得到的结果自然也就不正确了。这和我虽然计划要做单元测试，却没有真正去实现也有关系。好在函数本身还是可重入的，补上测试用例，单个都可测，测完补上注释就好。回想起来，接口文档里除了描述接口功能，对出入参的描述也是非常重要的。像Python或者Common Lisp都有函数功能描述的专门语法，是个很好的语言设计。\\n\\n对于表格的解析，一期的文档是按列解析，而二期的文档由于关联性不强，按行比较方便。按最小功能划分，把功能细分成每个单元格才是最通用的设计。这个编译原理中视单元格为词法，将词法按需要的语法规则拼装是一个道理。\\n"}'));jctx.push(JSON.parse('{"id": "150725", "tag": "think", "text": "# 信息的价值与认知理解\\n\\n当媒体说互联网带来了知识的普及，这句话并没有全部说对。我一直就疑惑，\\n虽然互联网上看似能搜索到很多东西，但是有两个问题：\\n\\n1. 信息是谁放上去的，他出于什么样的利益放到网上？\\n2. 谁让你看到这些放上去的信息，你又怎么知道你看到的信息，就是全部的信息？\\n\\n先说1，在互联网出现以前，我们获取知识的途径可以买书，也可以去图书馆，\\n但是不管怎么样，一定要有人来出版书。互联网的出现，\\n简化的只是出版一篇文章的成本（注意是文章，而不是书）。\\n你可能会问，为什么我能从网上搜索到这么多资料？早期借着互联网的东风，\\n很多人无偿地贡献着各种次数，或者有人在blog上发表文章。这些行为的背后，\\n一定是有背后的利益驱动。对于真正有价值的内容，往往由于利益无法匹配，\\n不可能出现在网络上。也就是你能看到的内容，往往是他人不在意的内容。\\n\\n再说2，回忆一下你是怎么找到内容的？最常见的就是通过搜索引擎，\\n但是搜索引擎的算法不是使用者能够控制的，这也正是百度的信用日下，\\n而内容无法保证的原因。\\n\\ntinyfool的一篇文章，提到机器学习就是对人脑的一种模仿，那么反过来这种模仿也是对我们理解大脑的一种方式。\\n\\n机器学习最常见的理论是：模型+数据，看书看报，好一点的是可以拿到新的、有价值的数据，而更好的则是了解一种新的模型。 数据要经过梳理，并和模型结合，才真正被机器所用，我们也一样。好比学英语，背单词只是数据，只有结合语法语境，才不会出现一篇文章，所有单词都认识，但就是看不懂的情况。\\n\\n编程亦然，我学lua快9年了，却一直没有输入高质量的数据，没有看过好的代码，manual看了一遍又一遍，却总感觉雾里看花。最近因为想把一个web服务从apache+php切到异步模型，找到了alilua这个项目，突然觉得以前没有接触过的方面好多，甚至连lua_thread都刚看到该怎么用。如果我只看手册，再学10年我也不会明白coroutine的价值。 同样的，看异步网络编程的书，提到2.6.28内核开始提供的accept4调用，只有当我结合代码和实际的需求，我才真正理解它的价值。\\n\\n学习的意义，在于把接触到的例子，总结成共性并正交化的点。共性后的规律，再应用到新问题，反过来完善规律，正交则是使点的数量达到最小，从而减少记忆负担。\\n\\n输入和输出间的变换，可以叫函数，也叫模型。输入是训练集，之所以这么叫，是为了将函数打磨得更通用和简洁。\\n\\n思维导图的用法，核心是连接，又叫索引。建立一个点，是不是中心没关系，只要这个点推演生长，中心最终会被发现。把所知的概念融汇在名词性的点或动词性的线上，让你的知识精炼，连结并产生新的知识。"}'));jctx.push(JSON.parse('{"id": "150926", "tag": "design", "text": "# 软件可靠性硬件可靠\\n\\n通常我们在写软件时，总会做各种各样的错误或异常判断，比如输入非法啊，执行异常之类的。但我们很少去怀疑是不是硬件本身出现问题，仿佛这个世界，只有逻辑错误而不会有电路错误一样。\\n\\n以前听一次云存储的入门讲座，其中就讲到硬盘的存储位出错机率是10e-12，换算下来一块1个T的硬盘，在一年里总会发生一次非正常的bit位翻转。那是我第一次听到有人这么仔细地计算硬件错误机率给软件设计带来的影响。\\n\\n今天在吃饭时，又听到两个有意思的异常问题\\n\\n1.软件经常莫名其妙地死机，甚至一天之内死机十数次，经过调试发现总是内存地址的最高位变成错误的1，把1改成0就不会发生死机。从软件层面问题已经无法解答，最后硬件部的人承认是电路设计有问题，类似是电磁兼容一类的，导致内存受影响，引起最高的bit位翻转。\\n\\n2.某个版本的主程序启动后，会引起busybox死机，但只在那个版本上会出现，经过反复调查，最后偶然发现死机版本的busybox的内存映像竟然和静态编译出的汇编代码不同。考虑到其它版本没有问题，排除加载器问题，于是只好对主程序的内核调用一条条地排查，最后果然发现是某条内核调用，因为代码写得不完善，将某一内存地址的bit位做了翻转，而busybox正好加载到该内存地址。通常code页的内容是不可修改的，但因为这个奇怪的bit翻转，导致汇编指令从Mov变成了Shift，进而导致后续的内存映射异常。又因为异常的内存地址是编译期固定的，所以只在某个版本会影响到busybox的代码段，引起奇怪异常。\\n\\n这两个问题我没有亲身参与，具体细节也是听说而已，但却让我对软件的底层可靠性有了不一样的认识。平时我们写程序，一般是不考虑内存bit位异常翻转，一方面民用的内存、主板在出厂前还是做了相对完善的检验，电磁兼容也必须要通过3C认证，故这种问题反映较少，但公司产品，尤其低成本平台，研发周期又短，发生这种问题，也就不足为奇了。\\n\\n第二个问题则是系统层的奇怪异常，以前我自己写代码，如果遇到底层的函数异常，一般也就不去深究了，一方面是信任，另一方面也确实是看不懂。但从实际情况来看，只要是人写的代码，不论它在哪一层，都有出错的可能。\\n\\n以前还听说过IBM的Z系列大型机，用在金融领域，有个特性就是两个一模一样的CPU同时计算，如果计算出的结果不一致，则丢弃该次计算，当时我看到这段介绍，觉得根本就不可能，今天再去反观，才发觉自己真是见识太少。"}'));jctx.push(JSON.parse('{"id": "160313", "tag": "design", "text": "# 模块功能的划分与解耦\\n\\n这周工作上解决了一个困惑我很久的需求，记一些要点。\\n\\n在C-S模型中，向来都是客户端发请求服务端应答，偶尔也会有服务端推送业务，但已经是比较不常规的方法了。服务器的推送是不做确认的，即发了就发了，也不会要求确认，更没有重传机制。至少我看iOS的推送也是不承诺这些的。但是需求总会时不时来一个推送确认/重传来恶心一下。\\n\\n当前代码的订阅推送是采用传统的观察者模型，事件源向事件中心发消息，所有向事件中心订阅过的模块都会收到消息。事件中心是与业务无关的，即不关心事件来自哪里，也不关心事件发给了谁。在这种前提下要做事件确认，而且必然是向事件源确认，是件很困难的事情。现在留存的确认机制，是直接向事件中心确认，向分发器发送确认，但真正需要关心的，是事件源，这就把两个功能放在一个模块里，造成了职责的混乱。也许当初认为这两个都是事件相关，就放在一处了吧。\\n\\n不过好在内部实现时，事件分发dispatch和事件确认receipt最终还是分成了两个组件，只是在dispatch组件中直接调用receipt的接口，把消息又转出来了，需要关心事件是否被客户端确认的源模块，主动向receipt注册，在收到事件确认后，会回调出确认函数。考虑到事件确认毕竟是定制化为主的需求，即使增加事件源模块的注册代码量，也是比较容易接受的做法。\\n\\n这周因为又收到了事件重传的需求，起初我理解重传restore既然在确认步骤之后，这两个功能就可以放在一个组件里面，但代码实现时意外发现receipt的代码是实现在基础组件的(原来我以为是在定制模块实现的)，这就直接导致了restore不可能和receipt做到一起，因为基础组件组是不可能接受这样的业务需求的。也正因为这种组织上的制约，反而让我重新思考，确认和重传真的需要放在一起吗？还是我想当然地一种认识。只能说重传依赖于确认，但不能说确认会推导出重传。这是典型的必要非充分条件。既然这样，那就更应该把这两者给区分开来，所以最终dispatch、receipt、restore是按三个组件的接口来划分。\\n\\n这件事的反思就是，需求分解要做到好的解耦，其实是非常难。稍一被客户表示的需求给带着，就会把并不强相关的内容合并到一起。不知为什么往一个接口或组件里增加内容似乎总是很容易，但要从原有的接口把内容剥离出来，则是千难万难。软件工程所追求的高内聚低耦合，又或者正交的高组合性，需要对概念非常清晰的认识，稍一含糊可能就会破坏两个概念的边界，进而造成模块间职责错位，再往后就是代码一团麻无法理清。\\n\\n这周正好读到一些文章，也是讲到人类的认识原理中，概念是个非常重要的东西，概念的多少，区分度直接导致了知识的广度和深度的不同，甚至语言对概念描述的详实程度，都会影响认识。比如英语单词数量之多是有目共睹的，甚至很多就是完全无意义的组合，但即使这样，所包含的信息量，和各信息之间的区别，就天然地会在单词不同目有体现，也就迫使人去理解单词间的不同，进而区分、明确概念，这就是语言对认识的推进作用。姑且不论对错，这个观点至少是有启发性的。"}'));jctx.push(JSON.parse('{"id": "160424", "tag": "design", "text": "# 程序的被集成性\\n\\n算是一点杂想吧。起因是调试一个bug引起的。\\n\\n公司产品的通信协议一直都是明文，为了达到安全审计的要求，就对信令做了RSA+AES的加密，虽然达到了安全的要求，可是对开发来说再也不能抓包看到数据，调试就很不方便了。组里的同事在转岗前做了一个小工具，但我也一直没关心过这一块，这次重新提起这事，却发现解密小工具不能用了。好在向已经转岗的同事要到了小工具的源码，源码是用MFC写的，我以前一直没有好好学过MFC，也不知道该怎么下手，决定还是从源码中，把GUI之外的解密部分，做成个命令程序，先把问题解决了再看。\\n\\n还好解密和GUI部分代码是分开的，写了命令行的wrap，跟踪后很快就发现问题，是个Base64反解后长度处理不对，没有对齐到16的倍数，导致无法进入AES解密流程。可能当时测试的时候用例正好没触发，也没现这个问题。改了长度，在命令行下面很快就调试通过了。于是我把修改的两处代码给了另一个同事，让他重新编译一个MFC程序，却不知道什么原因在MFC下一直失败。我和同事聊了下，既然解密部分和GUI已经分离，那就不用MFC做界面，自己重新写一个好了。事实证明，我和同事各自用Lua和Python重写一个界面，工作量的确不大。\\n\\n这里的问题就在于，解密的接口原来是用C++写的，在MFC程序里，这种做法没有问题，但要整合到其它语言时，C++就非常地困难了，这次因为只有一个接口，改写成C并导出成dll的改动量不大，但如果有大量的接口都是用C++写成，恐怕做Wrap也是件很烦燥的事情。我们写软件，通常都是先集成其它人的库，然后能力到了，自己做的东西也期望能被集成，在被集成这一点上，C是当之无愧的王者。从接口的封装性上来说，C++并没有比C抽象得更高，\'.\'语法的调用，也只是把this指针从函数的第一个参数移到了函数的前面，仅仅是一个写法上的差异，Go的语法就很清楚地体现了这一点。但这种风格却很难更广泛地被各种语言所兼容，再加上更花样繁多的参数重载、默认参数，却没有一个统一的二进制规范，也使得各种语言最终选择了虽然简陋却也朴实无华的C作为约定。C语言的规范进化了好几版，似乎也没有引入甚至以后也不会引入参数重载、默认参数这样的机制。\\n\\n写一个小工具，按我的个人偏好，也是先有个命令行（或者有相同入出参格式的so/dll），然后基于此做个GUI的Wrap。但做Windows开发的人来说，似乎这种做法也显得老土，这大约也是习惯使然，至少*nix系下，先有命令行，再有GUI的传统现在依然保留着。"}'));jctx.push(JSON.parse('{"id": "160515", "tag": "design", "text": "# 我对两种同步异步的认识\\n\\n网络编程中经常会遇到如上四个概念，网上也有很多讲解，我想讲一个\\n至少是没有看到过的提法。\\n\\n先给我的认识：\\n\\n* 同步异步：针对的是函数调用者，即caller而言\\n* 阻塞非阻塞：针对的是函数实现者，即callee而言\\n\\n先说阻塞非阻塞，落实到代码就一句话，文件句柄有没有设置过`NONBLOCK`。\\n一旦设置了`NONBLOCK`，则耗时的网络操作就不会等待，立即返回。\\n因此函数就不会**阻塞**在网络IO上。由于默认的文件句柄都是BLOCK，\\n所以对这概念需要一点时间来理解。\\n\\n同步异步说的是业务层的一种逻辑做法，它的前提就是函数区分了阻塞和非阻塞。\\n由于函数的实现有了阻塞和非阻塞的区分，一旦调用非阻塞函数，\\n看起来函数是返回了，但结果却还在网络的另一端，此时有两种做法：\\n\\n1. 等着消息返回，不停地查询IO结果，等结果出来了流程再继续走下去\\n2. 先做别的事，等消息返回了再回过头来处理这个非阻塞的消息\\n\\n1的做法，是同步，而2的做法，则是异步。\\n\\n从上面可以看出，由于调用阻塞函数只能等待，因此一定是同步调用。\\n只有非阻塞函数才会出现同步和异步两种情况。虽然理论上非阻塞函数\\n可以按同步的方法做逻辑，但这样一来就与调用阻塞函数没有区别，\\n体现不出非阻塞函数的优点，因此实际运用时，\\n非阻塞函数通常都是按异步模式来处理。\\n\\n异步模式最明显的风格就是设置回调函数，原因很明显：因为不知道什么时候\\n非阻塞函数会返回，所以只能把一个callback函数往下设，由下层来回调这个函数。\\n由于这种写法不符合普通人的逻辑，因此异步的逻辑很不好写。\\n也有人会将非阻塞函数按同步的逻辑来写，就是常说的异步转同步，\\n其实我倒觉得更严谨的说法，是同步地调用非阻塞函数，更准确。\\n\\n另外针对回调函数不直观的做法，业界也有诸如coroutine，promise等方案，\\n可以做到看上去像同步的写法，但实质上并不会导致CPU空转的做法，\\n这块还没研究透，就先不铺开了。\\n\\n再说说同步回调和异步回调\\n\\n程序中经常会遇到钩子函数和回调，这里就引申出回调函数何时执行的问题。一个函数最终都会在确定的线程中执行，先考虑触发形式的回调，执行触发逻辑的线程，和回调函数执行线程是否在同一个线程，就分为了同步回调和异步回调两种类型。\\n\\n同步回调方式，比如外部触发一个notify，所有注册的回调函数就会在notify的内部依次执行，所有都执行结束notify才会返回。坏处是notify可能会等待很久，但是逻辑非常清楚，调用者可以很确定地知道注册的回调业务执行完毕，在notify之后可以放心地做其它工作。\\n\\n与之相对应的是异步回调，这时触发notify可以很快返回，然后另一个线程就会被唤醒，但因为另一个线程什么时候开始执行，更重要的是什么时候结束是完全无法预测的，导致notify之后业务状态不确定，很多的复杂逻辑是无法开展的。\\n\\n这两种回调，在公司代码中都有体现，其中异步回调是网络框架的Close和`handle_close`，这也是一个初学者经常犯错误的地方，由于Close之后什么时候执行`handle_close`未知，也就不能在Close之后对NetHandler做任何操作，一旦赋值或delete就很容易招来死机。同步回调则是上层的事件中心notify，触发事件后，把所有注册函数执行完才返回，从调用者来看，notify之后，至少业务是完了状态，不过回调函数的成功或失败状态无法返回，不过到底要不要返回，似乎也无必要。\\n\\n至于定时回调，比较多的是有个独立线程进行异步回调。但也有单线程模式下在同一个线程内回调，如果业务执行得比较久，定时器的精度会比较成问题。"}'));jctx.push(JSON.parse('{"id": "160621", "tag": "design", "text": "# 我理解的面向对象设计原则\\n\\n面向对象的程序设计和面向对象的程序语言，两者并不完全一样。\\n面向对象的程序设计是一系列原则，是指导思想；而面向对象的语言，则是把这些原则和思想，用一些规范化的语法给规定下来。\\n\\n初学面向对象时，教科书都会提三大概念：封装、继承、多态。\\n但是我的理解，这里面只有多态才是面向对象的核心观念，继承分接口继承和实现继承，接口继承勉强算是，实现继承则不算。\\n而封装更是和面向对象关系不大。\\n\\n## 面向对象设计的几条重要设计原则\\n\\n* 开闭原则(Open-Close-Principle)\\n* 里氏替换原则(Liskov Substitution Principle)\\n* 依赖倒置原则(Dependence Inversion Principle)\\n\\n除了这三条还有许多，但我觉得这些就够了。这其中最原则性的，就是开闭原则。即**软件要对扩展开放，对修改封闭**。我对这句话的解读是：**当你修改了代码并替换后，其它的使用者是感知不到的。**\\n上面这个例子中的开放，就是对代码做修改；而封闭，就是使用者感知不到。在《松本行弘的程序世界》和陈天的《谈谈编程思想》中，也都认为OCP是最根本、最基础的原则。\\n\\n从刚才的说明来看，就是在交互的双方之间，要保持接口的一致性。好的接口不是泛泛而谈功能，\\n不是任意地扩展参数，而是在屏蔽细节的基础上，完成具体而明确的行为。比如接口是阻塞或是非阻塞的，出现错误时是返回错误码还是抛异常，这些都是要明确的，而接口的大O值是O(N)或O(logN)，则是偏重实现层面。\\n其它的里氏替换原则说的是怎么界定基类和子类，依赖倒置则是说细节要依赖于抽象，抽象不应依赖于细节。相比之下都是更具体的操作手法。\\n\\n因此只要能实现OCP原则的语言，就完成了最核心的功能，都可以称之为OO语言。\\nC++实现OCP的机制是多态，但多态从语法层面是强依赖于继承的，而C++的继承又只有实现继承，\\n因此多数人会自然地关注类的特性，偏偏C++的类有public、protected、private关键字，且非常直观易懂，导致很多人在入门的时候\\n把认知的重心放在封装上。加上对象二字又和现实世界中的具体的实体对应，\\n这又强化了面向对象即封装的认识。其实很多动态语言，根本没有提供封装的语法关键字，但不妨碍很优雅地实现OCP。\\n\\n很多教科书在讲授面向对象时，都用鸟能飞，于是继承自鸟的子类大雁也能飞，但一碰到企鹅就傻眼了。\\n我反倒奇怪，为什么很少有教科书拿Duck Typing作例子，如果一种东西能飞，\\n那它就是一只抽象的鸟，即便它其实是飞机，又有什么关系呢，反正它满足了我们对于飞的期望，而且比鸟飞得更好。\\n\\n以上讲了面向对象中最核心的概念是开闭原则，接下来结合我的经历说说这个原则的具体应用。\\n\\n先说句题外话，在面向对象思想发展之前，讨论更多的是结构化编程思想。\\n今天已经很少有人提了，但是并不代表结构化编程思想过时，而是两者的出现时代，要解决的问题不同。\\n结构化编程的年代，代码规模还很小，也没有什么代码规范，更多的时候都是用汇编甚至机器码写程序，因此怎么抽象机器，\\n怎么规范化地表达程序，是当时重点要解决的问题。而随着结构化思想被众人接受，程序规范化提高，\\n给大规模编程提供了基础设施，使得多人合作完成程序成为可能。这时怎样更好地配合，怎样使软件更稳定，成为了那个时代的痛点(今天依然是)。当人们为解决这些问题时，才催生了面向对象思想。\\n\\n因为多人配合，互相之间不会去关注对方的实现细节，这时接口就成了联系的纽带。要让这个纽带好用，就要满足开闭原则所说的对扩展开放，对修改封闭。\\n\\n比如一开始有这样一个接口：`int getVersion(void* ver);`。\\n这个接口被定下来的时候，ver指针指向的真实内容是`char*`，\\n一段类似\\"2.1.11.3.R\\"这样的字符串。为什么要用`void*`而不是`char*`呢？\\n据说是制定的时候为了扩展性，因为`void*`可以转换成任何类型嘛。\\n\\n果然没过多久，需求就来了，原始版本只能表示软件版本号，\\n可现在需求要SVN版本号，怎么办，扩展呗。把参数改成\\n\\n```\\nstruct Version{\\n  const char* softVer;\\n  uint32_t svnVer;\\n};\\n```\\n\\n因为结构体的第一个字段也是`char*`，所以不影响即有代码。而且能通过`void*`强制转换得到想要的结果。看，当初使用`void*`多么明智啊。\\n\\n可是这样真的对吗，是不是还漏考虑了另一种情况，即使用者已经按struct来使用了，可是因为一些原因，\\n提供实现的人也许漏实现了或者提供错了版本，这时svnVer尽管也能取到值，可是这个值所指向的内存，根本不是期望的内容啊。\\n更正确的做法，是一开始就把接口定义成`int getVersion(struct Version * ver);`结构体的定义类似\\n\\n```\\nstruct Version{\\n  const char* softVer;\\n  int resv[3];\\n};\\n```\\n\\n则使用者在扩展后，即使库没有更新，因为取到的内存值就是0。而0显然是个非法的SVN版本号，使用者可以因此做到区分。\\n\\n那么是不是增加保留位就可以了呢？不够，如何正确地扩展保留位，也是有技巧的。考虑这样一个场景：原来的产品都有NAT穿透功能，\\n因为产品细分做CostDown，为了做到市场区分，部分产品从软件层面屏蔽了该功能。可是界面需要根据是否有NAT来配置界面啊，那就继续扩展吧。\\n增加一个`int8_t hasNAT`？可是这样就不对了。因为原来的产品其实是有NAT的，按hasNAT的意思，原有产品都得修改代码这样，这就增加了无谓的工作量，\\n所以正确的扩展应该是noNAT，这样才是对修改关闭的。说来简单的一个小技巧，可从我的经历来看，却很少有人注意到。\\n\\n在我刚工作不久的时候，我的主管和我说：在做大型项目的时候，一定要有面向对象思想。\\n那时我的对面向对象还停留在类、封装这些概念上，并没有体会出面向对象在大型项目里有什么应用，今天想来，也许就是想说在大型项目中接口的重要程度吧。"}'));jctx.push(JSON.parse('{"id": "160812", "tag": "design", "text": "# 接入协议、账户体系和权限\\n\\n视频监控行业有个Onvif协议，作用是通过这种协议来控制设备。\\n由于Onvif是个行业级的通用标准，修订比较漫长，甚至很多定制的协议根本不可能纳入Onvif标准。\\n一般稍大一些的厂商，都会有自己的接入标准。对于网络接入来说，\\n因为涉及权限，就一定有身份概念。对存在两套接入标准的设备来说，\\n账户体系究竟该怎么设置，这是本文想讨论的问题。\\n\\n如果把Onvif仅仅看成是一套XML格式的网络接入协议，那么它就和账户体系没有关联，\\n但是Onvif标准定义了4种用户组，同时也规定了每个组所对应的权限，\\n而账户，或者说身份，应该包括完整的四层概念，又名4A。\\n包括Account、Authentication、Authorization、Audit。由于Onvif定义了登陆的加密方式，\\n和登陆后的权限定义，包括了Authentication和Authorization这两级。\\n也就是说是有完整的账户体系的。\\n\\n而厂商如果也定义了账户加密方式和权限，且两者不能一一对应，这时两种接入协议，\\n就可以认为是两套独立的账户，互相并不干扰。即使能对应，也只是为了简化模型而做的优化。\\n从这个角度再去看产品的逻辑：第一次用admin登陆会提醒用户修改密码，\\n同时把这个密码也同步到Onvif账户的admin(注意这里只是恰好重名而已，\\n完全可以做到一个体系用root作为管理员名称)。而后续对admin的修改，并不会同步到Onvif。\\n因为第一次，可以认为是用户的初始化动作，做一次自动同步是出于简化操作的目的。\\n而当用户体系已建立，从一个账户体系下修改另一个体系，显然就不合适了。\\n\\n但这种做法最初我是很困惑的：私有协议和Onvif协议只是一种接入方式，和用户没有关系，\\n既然要做密码同步，就应当每次都同步，或者不同步，同步一次这种半调子的行为，让我非常难理解。\\n\\n但是看了Kerberos的一些介绍后，对这个问题重新理解后，觉得应该是这样的：\\n客户端希望向服务端申请做一些业务，服务端需要对这个申请作一个判断，\\n是否允许客户执行这个操作。即客户提供一个双方都知道的信息，当这个信息被验证后，\\n才会让客户去执行。在这里用户名和密码，除了证明客户是否作假，\\n有了一个更重要的作用，即业务的授权性。\\n甚至更进一步，把用户名这种带有强烈倾向性的命名，换成服务名理解起来会更容易。\\n客户端向服务端提交一个服务名和密码，服务端验证后，允许操作。\\n又因为服务端提供了很多种服务，如果把服务种类分得太细，\\n会导致客户端不停地验证，比较烦琐，此时把多个服务名称合并成一个，\\n产品把这个多合一的名称取名为用户名，就造成了一些概念上的混淆。\\n\\n那么在广义的C-S模式下，这个会话开始之初发送的名称、密码究竟归属谁呢？\\n这就取决于业务形态和资源的归属了。\\n\\n对监控相机而言，所提供的服务主要是音视频流，或者磁盘的存储功能，\\n这些都是属于设备，不会因使用者而改变的。\\n这种情况下，建立会话的这个名称就归属服务端，更准确的叫法，应该是服务集名称。\\n\\n再对比经常使用的微信或者QQ，虽然我们发送文字或语音，要经过服务器的中转，\\n但是我们选择发给谁，即这些好友名单并不属于服务器。\\n这些好友都是使用者一个一个地添加进通讯录的，从资源所有权角度看，理应属于客户端。\\n\\n最后来看私有协议和Onvif协议的问题：这两套协议都是在设备上，也就拥有各自的服务集，因此两套体系之间是不能同步的。为什么第一次又要做同步呢？\\n可以理解为产品在发到用户手中，需要做一个初始服务集密码的修改操作，\\n如果不做同步，就要用户操作两遍，显得比较烦琐。为了提高使用便利性，\\n才做了这个相当于全局初始化的动作。"}'));jctx.push(JSON.parse('{"id": "161102", "tag": "design", "text": "# 设计方案的不动点和弱化点\\n\\n软件开发领域里有句教训：手里拿了锤子，看什么都是钉子。这句话也可以反过来看，并不是所有的需求都是钉子，面对不是钉子的需求，也就不应该用锤子的解决方案。架构也是一样，并没有一个包罗万象、适用于所有需求的架构。必须要先理解需求，到底是木钉子还是螺丝钉又或是水泥钉，再选择合适的工具。\\n\\n我把设计架构的法则称为定义不动点，设计一个系统前必须有一个核心前提是不能变动的，也可以称为约束点。所有的演化都是基于这个约束前提得到的，约束的宽度和系统最终演化的宽度成负相关关系。\\n\\n举17年4月智能库重构的例子，应用层视频智能库的不动点就是基于视频分析器做业务。首先要定义分析器是什么，它是这样一个实体，必须接受一路YUV数据，包含了若干个算法(这些算法统一以Scene的名义暴露给外层)，并输出各种分析后的元数据的物件。为什么很多的系统会遇到未来无法扩展，是因为前期的约束条件太多太严苛，比如基本约束太接近原始需求，导致需求稍有变化，尤其发生冲突时，基本约束就被破坏，整体体系的不动点也随之动摇。所以在设计前，对基本约束的定义，一定要原子、明确化。原子是便于组合，明确是把各种条件正交化，不要耦合。\\n\\n说完约束点，再说说弱化点。以设备初始化需求为例，一直以来设备出厂会有默认用户和密码，由于安全因素被提到越来越高的位置，要求去掉设备上的默认密码，\\n演化为用户第一次开机时，必须要输入初始密码。此处有两点要关心：\\n\\n1. 不仅要初始化大华用户密码，也要同步Onvif密码\\n2. 传输密码必须加密，且加密算法要可逆，进而能还原出明文密码(Onvif要求保存明文)\\n\\n要对称加密，就必须要在初始化之前得到公钥，否则对称加密就无从下手。\\n传输有两种，单机的HTTP方案和批量的组播方案。HTTP方案无非就是请求公钥，传输密文密码。\\n而组播方案，由于UDP报文长度的限制，获取密钥要和组播发现分开，经两次交互来完成初始化密码过程。\\n\\n明文密码到了设备后，接着就是怎么存储的问题。大华帐号仍使用带Salt的MD5方式，\\n\\n从以上内容看到，设计一个方案是由非常多步骤组成，这些步骤间的组合性就是评价方案的关键。\\n就像函数式编程一样，如果每个函数都是无状态，则整个流程一定是可并发不会受限的，一旦有一个函数包含了状态(全局或静态变量，又或是成员函数)，\\n则整个调用链就受制于这个环节。方案设计也是一样，如果每个环节的流转都是无损的，则整个方案就不会有问题。上面的例子，激活密码从客户端经明文发送到设备，\\n一旦保存到大华账号，就退化成hash值，这个过程发生信息丢失，以后想用明文密码的地方，就不能再使用序列化后的内容，必须在客户端再一次输入明文，\\n因此这个明文密码的序列化过程，就成了方案中的弱化点，会在某些程度上限制方案的拓展空间，在设计时要特别注明存在弱化的环节。弱化也是约束的一种延伸。\\n\\n很多系统在开始阶段缺少约束和弱化的说明，仿佛害怕他人知道这个架构的短处，但这样做的后果往往是，过一段时间，随着需求的变化，原始的架构约束已经被破坏，于是整个架构呈现出很多的不适，后来加入团队的新人不知道前期留下的约束是什么，以致被破坏了还不自知，然后抱怨为什么这个架构这么差，其实这个差，从需求改变那刻起就已注定。"}'));jctx.push(JSON.parse('{"id": "161112", "tag": "design", "text": "# 通过限制来降低沟通成本\\n\\n看了王垠的[对Rust语言的分析](http://www.yinwang.org/blog-cn/2016/09/18/rust)，\\n其中提到一点，少用类型推导而用明确的类型声明，大概这种大逆不道的话，也只有王垠敢说吧。\\n但是他的原因我是深以为然的，代码写出来是给人阅读和交流的，\\n甚至更多的时候只有你会读你的代码，所以更具备更读性，也是对自己好的一种方式。\\n\\n想起工作中的一件事，公司的接口和协议使用Json有5、6年了，协议使用Json没什么大问题，\\n但是如果头文件也直接用Json，然后在注释段直接来一句：参见XX文档，就很有问题。\\n现在做产品的，都提倡不要让用户想，不要增加用户的获取成本，\\n如果把程序员也当成设计人员的用户，那么这条准则依然适用。\\n因为有可能，程序员根本不知道所谓的XX文档是什么，也不知道去哪里获取，\\n即使有了文档，还是会不确定。比如我在昨天遇到的一个例子，当时文档上很清楚地标明了，\\nJson格式是这个样子的：\\n<pre>\\n{\\n\\"content\\" : {},\\n\\"alarm\\" : 1\\n}\\n</pre>\\n但是他还是不确定alarm和content是否平级，并为此还特意拉了几个人，在群里确认了一遍。\\n虽然这样的例子不多，但是随着组织的扩大，人员平均水平的下滑(这几乎是一定的)。\\n这就造成了非常大的重复沟通浪费和注意力分散。\\n\\n我一直提倡在头文件中，用struct来替代Json。能做到自解释，也能明确的规定类型，\\n规定类型是一种限制，可是这种限制带来的确定性，在一个组织变得庞大后，\\n更多的仍是明确含义，减少沟通的益处。组织庞大及随之而来的低效，往往是沟通不畅造成的，\\n在程序员这一级，我们有很好的技术手段来简化这种沟通成本，为什么不用呢？\\n"}'));jctx.push(JSON.parse('{"id": "170109", "tag": "design", "text": "# 业务分离和厘清概念\\n\\n所有服务端的程序，都离不开3A(Authentication Authorization and Accounting)。其中又以前两个最容易混淆。一般把鉴权称为A1，授权称为A2。在Apache中的简称则是authN和authZ。我们的程序在校验权限时，一般是长连接，所以A1交给登陆认证模块，后续不再考虑，加上没有计费，所以只有A2。\\n\\n校验权限的回调接口是这样的：`bool cbCheckAuth(const char*, void*, char*);`第1个入参是请求的方法名，第2个入参是对应的参数，第3个出参是对应的权限名称。返回值为true表示找到权限，而false表示不关心，采用默认策略。这时有个新需求，某些敏感操作比如重置系统即使用admin登陆，还需要再次确认用户身份。显然现有的接口无法满足需求，我本来想通过返回false，并且用第3个参数表示错误码的形式来做，但是这个想法不被认同。于是仔细查了3A的概念，既然身份确认属于A1，放在A2的阶段确实不合适。有了理论依据接下来就简单了，在检查A2前增加一个A1的检查函数。\\n\\n平时做很多业务，都没有把业务划细。虽然平时经常说分层，但对于怎么分层并没有标准，我的理解就是只要能把业务里的每个概念、差异点给明确了，把不相同的概念隔离开，层次自然就出来了。否则只能是拍脑袋凭感觉，是无法让其他人信服的。"}'));jctx.push(JSON.parse('{"id": "170207", "tag": "design", "text": "# 仔细打磨写过的程序\\n\\n从去年12月到最近，把公司内的AppWiki网站还有这个博客网站的代码，重新进行了调整，颇多感触。\\n\\n比如代码中早期很多地方因为求快都是HardCode，最典型的比如AppWiki的更新日期居然都是每天手动修改PHP，直到昨天才忽然想到可以利用stat函数取出数据库文件的mtime来自动更新，把依赖降到数据库文件本身。同样如博客的首页，原来是手写的2016、2017年，过了一年还要手动创建目录，改成每页固定显示10篇，用下部的页号签来自动导引。凡此种种都是让整个网站环环相扣，互相关联，自然就能有牵一发而动全身。\\n\\n还有就是AppWiki的解析代码，因为发现Win7的cmd用chcp65001转成UTF-8的显示效果比XP好了很多，就切过来了。但是原来的代码由于用ls来判断文件是否被更新，就依赖于终端的编码环境，造成移植的困难，加之需要批处理、VBScript和Lua三种语言共同使用，在Windows下速度慢不说，还屡次因不熟悉VBScript而苦恼，后来发现核心的VBS就三行代码，用luacom实现也不难，中途还顺手编译了luaiconv解决GBK到UTF-8的问题。整个切换完用一种语言实现，不仅速度快了，代码文件和中间文件也变少了。(因为不同语言只能靠中间文件来交互，导致目录下非常凌乱而难看)\\n\\n新的段落式解析代码，也一直有bug，多个文件只能解析第一个文件，当时不愿意解决，就用批处理的方式分次处理，后来为了提高自动化程度，把批处理也改用Lua来实现，就必须解决这个bug，直到早上通过打印才发现原来是解析完第一个文件后，协程状态就变成dead了。原因是协程代码在结束时用了return，必然会导致dead。这是我第一次用协程，对语义不熟悉造成的。一个dead的协程无法resume，而我整个程序始终用这个协程变量处理文件，所以超过一个文件就失败了。找到这个问题后，顺带发现原来的协程变量还是全局的，坏味道。把协程变量的范围缩小到函数内，并增加了协程状态判断，\\n保证每个新的文件解析开始创建一个新协程，解决问题。然后也按照三代协议解析代码重构的思路，用lua实现了比较文件时间，生成HTML和SQL并写数据库等配套环节。重构后的流程非常清晰，增加一份文档只要三步：\\n\\n1. 在man.old里添加源Word名称、更新时间和输出HTML名(这里必须用GBK，没办法)\\n2. 在解析代码增加一个入口，并确定文件的归类(我用了生物学上的Tribe)和层级，这个环节必须要人工干预\\n3. SQL脚本里加一项.read xxx.sql\\n\\n三个步骤分别对应Word->HTML->SQL->DB，任何人接手都能很简单地增加文档了。3月份的时候又做了一次合并，把1和2的内容都记入man.old，再通过中间得到的差分结果来生成SQL脚本，因此需要个性的就只有一个文件，是目前能想到的极限了。\\n\\n写代码是个不断打磨自己思路的过程，让流程更自然，环节更严密。"}'));jctx.push(JSON.parse('{"id": "170304", "tag": "design", "text": "# 并发和并行\\n\\n先比较两者的定义：\\n\\n* 并行是parallel，指多进程可以互不干扰地执行程序，与之相对应的则是串行。如果处理的数据不同，自然不用加锁。并行存在数据的归集操作，Perl6也提供了Promise等原语支持。\\n* 并发是concurrent，指多个程序同时运行的现象，注意用词，并发的重点在于它是一种现象，至于实现并发是并行，还是快速切换的串行，反而不重要。所以并发就涉及锁是不严谨的，要说对同一资源的多核并发时，才会涉及锁。\\n\\n并发更多的强调的是有没有这样的能力或特征，它是从事物的性质和对外表现上来说的，它不在乎内部如何实现，相对而言是在更高层次上的概括；而并行则规定了它们在物理上一定是同时进行的，相对而言更严格。\\n\\n存在很多的[[并发编程模型]]，有一本《七周七并发模型》的书介绍了诸如：多进程/多线程的并发模型、异步事件并发模型，Erlang 的 Actor 并发模型和 Golang 的 CSP 并发模型。\\n\\n## 并行涉及的概念解析\\n\\n并行在软件层面大多是创建线程，线程有两种属性join和detach。pth的线程实现有5个队列NRWSD，分别是new/ready/wait/suspend/dead。join属性的线程在退出时加入dead队列，因此依然被调度，而detach属性的线程则不会，因此直接把线程控制变量free掉不再调度。所以退出时也不一样，join用`pthread_exit`可以捕获退出状态，detach可以直接用return。\\n\\n条件变量必须配合锁，在wait前显式地获取锁，在wait函数内进入cond等待队列并释放锁，然后线程block住，将将调度权交还系统。直到另一个线程signal或broadcast才重新执行。而signal函数如果发现cond队列为空，不执行任何动作直接返回。\\n\\n信号量并不是pthread定义的，各个平台函数名也不同，等效于mutex和condition再外加一个计数器的总和。因此mutex和condition可以认为是线程同步的原语。\\n\\n比如公司的RPC网络框架库，后台启动4个业务线程，平时以semaphore的方式等待，消息到了就在epoll线程执行加1操作，接着就会有一个业务线程被执行。但是这个场景中直接用condition是不行的，试想如果4个业务线程都还在执行中，此时又来一个请求，如果是condition的语义，由于所有业务线程都在执行导致cond队列没有等待，这时的signal没有任何意义，导致这个请求丢失。当然如果真用condition，RPC框架也不是这么实现了。\\n\\n## perl6对于同步和并发的探索\\n\\n从slide上摘录要点。\\n\\n* 线程 存在数据竞争\\n* 锁 会导致死锁\\n* 条件变量 spurious wakeups？不清楚是什么\\n\\nPerl6给出的解决方式，用start启动一个promise，再await就可以得到promise结果。\\n\\n支持monitor和actor模式，类似Java的synchronizised同步块语法，可见多线程抢夺资源是如此的普遍，编程语言都会作出方便的支持，Perl6提供了OO::Monitor和OO::Actor两种原语。\\n\\n## 异步接口转为同步接口案例\\n\\n起因是图片识别人脸的协议最早的对接方式是阻塞的，新品改成异步方式，本来以为异步转同步很简单，真正实做才发现细节值得思考。\\n\\n首先异步通常意味着执行的结束时间很长且不确定的，但转同步的时候必须要加上限制约不能无限等待，等待的最长时间全凭经验，是无法量化的因素。\\n\\n接着考虑多线程同步的问题，异步通常需要订阅回调函数，执行并等待的线程A和回调执行结果的线程B间就必然存在资源竞争的问题。常见的等待方式就在是A线程启动一个带超时的信号量(semaphore/event)，并由线程B来释放它。但是如果线程B被触发时线程A的信号量已超时并过期，B就不应该释放。但目前基础库中并没有办法探测A的信号量是否还在等待。因此提高了复杂性。\\n\\n再进一步考虑，执行函数能否并发执行，如果不能并发则在上层调用前就要加锁防止重入。"}'));jctx.push(JSON.parse('{"id": "170309", "tag": "design", "text": "# 接口设计的原则与反思\\n\\n先说说VideoEncode类的感想，\\n目前的Encode类的构造函数，需要传入一个视频通道号和编码类型，然后返回一个对象。现阶段遇到有个需求，需要解码后的YUV数据经过智能分析，对分析结果的区域进行局部抠图。这时也需要编码资源，但这个编码器似乎又和视频通道并不强关联，再多的还是和解码器的输出有关，这时原先的假设就不再适用了，需要定义新的构造函数才能使用。\\n\\n再说两个接口的反思\\n\\n在MCU头文件增加了一种读数据的枚举值。看起来小得不能再小的改动，但还是发现了问题。\\n\\n原来的头文件中有两个类似接口，分别是recv和recvData，接口注释分别是阻塞等待事件和读取数据，但是看阻塞等待事件的接口，返回的数据结构似乎也能表示数据，为什么偏偏要加在recvData，这两个接口的差异在哪里？\\n\\n细问之下才知道原来recv的内部实现是把代表MCU的fd加到select的读和异常集合，且超时时间为无限，recvData只是个读数据的接口，不会阻塞。看了实现才明白原来是用recv来等待数据到来，结束后调用recvData。说实话这样的命名方式实在太糟糕，加上接口注释又不清晰，导致这次新增的枚举在recvData中又增加了select操作，原来是上层没有调用recv。这种改动虽然不影响原有逻辑，但从整体功能上造成了recvData的含义不同，阻塞或非阻塞的特性还会随着读取的数据类型而变化，这就很明显地破坏了接口含义的一致性。\\n\\n再说一个错误的例子，有个createNetBrigde接口，入参有个`const char *name`，从接口看，无非创建一张网桥，然后用name来标识一下，类似创建线程操作，何曾想实现代码中竟然要求name必须是br开头且第3个字符必须是数字，否则不予创建。无论怎么看接口注释，都看不出有这样的限制。而且既然限制必须用br开头，何不把参数定义成uint8，只让调用者传入数字，在实现层构造出br0这样的名字，不仅没有歧义还减少空间。\\n\\n以前看接口，最多能看出参数是否合适，最近越来越意识到接口的用法、使用前提、使用预期等隐含的语义。\\n\\n软件工程总是提复用，我的理解复用是有范围的，比如接口恰恰是最不能复用的，一个萝卜一个坑，绝对不能有二意性，且最好功能尽可能单一。只有接口不复用，业务代码才能尽可能地复用。"}'));jctx.push(JSON.parse('{"id": "170325", "tag": "think", "text": "# 辛弃疾的青玉案赏析\\n\\n```\\n东风夜放花千树，更吹落，星如雨。\\n宝马雕车香满路。\\n凤萧声动，玉壶光转，一夜鱼龙舞。\\n\\n蛾儿雪柳黄金缕，笑语盈盈暗香去。\\n众里寻他千百度。\\n蓦然回首，那人却在，灯火阑珊处。\\n```\\n\\n这首词最为人熟知的是最后一句，但整首词其实非常有讲究。从后往前解读，最后一句不消多说，为了衬托寻找的那个她，先来个铺垫，于是有蛾儿雪柳黄金缕，这三个词都是女性饰物，泛指元宵节时街道上来来往往的女子，而且这些女子笑语盈盈而去，但作者却偏偏要寻找那个她，这里便是强烈的反差的对最后找到伊人的烘托。\\n\\n既然下半阙写人，上半阙便是写景。东风夜放花千树的**放**字用得极好，因风吹过而绽放的花便活灵活现起来，从更吹落星如雨到宝马雕车香满地，镜头从天下拉到地下，再经过凤萧声动，玉壶光转，一夜鱼龙舞的描写，开始将景向人的活动迁移，从而引出后面对人的描写。这样看下来，整首词的逻辑、顺序简直无可挑剔，在这么小的篇幅里把内容都写到，且过渡自然，不愧是名篇。"}'));jctx.push(JSON.parse('{"id": "170421", "tag": "think", "text": "# 练习健身纪要\\n\\n健身不必追求健子肉，平衡也很重要\\n\\n> 外行看腹，新手看胸，高手看背，大师看腿。\\n\\n## 部位练习法\\n\\n### 练习肱二头肌\\n\\n提臀收腹，腰部要正。因为我腰椎前倾，一定要摆正。不耸肩夹紧肘关节，手腕必须和臂平直。发力过程吐气，想象抗东西要大喝“起”，大喝就是吐气！发力后恢复过程中吸气，为下次运动储能。练习肱二不同的速度会造成形状不同，如果始终快上快下，则只会造成中部发达，如果下放时速度缓慢，则可以使整个上臂都变得粗壮。\\n\\n### 练习卷腹\\n\\n腿呈90度，手沿腿向上肩离开地面以背不离开地面为宜。下巴收起，脖子不要上拉，否则就是颈部肌肉带动用力。\\n\\n### 练习背部肌群\\n\\n长期桌前久坐导致胸小肌过紧，背部无力，人就会圆肩驼背。\\n\\n坐立下拉，拉到锁骨位置，肩部与背交汇处发力。向上时吸气，向下发力到最后吐气。\\n\\n### 练习腿\\n\\n小腿垂直站立，大腿与小腿平齐，背靠墙站立，坚持1分钟。\\n\\n1. 鸟飞，站直，膝盖不弯，上身放松，前脚掌用力，练习浅面股群。\\n1. 半蹲鸟飞，膝盖弯曲，上身不用力（站直），后跟不着地，前脚掌用力托起身体，练习膝内侧，膑骨。\\n1. 台阶步，前脚掌站于台阶，后跟悬空，用力顶起身体，练足弓\\n1. 单腿抬，一脚踏楼梯，另一脚悬空，靠单脚力弹支撑身体。练单腿力量\\n1. 三弓同动，身弓（髋和腰之间夹角，上身笔直）\\n1. 箭蹲，弓步蹲，上身下压，手可上举，缓解下压力。两脚三脚宽。\\n\\n大成拳摩擦步，步行过程中，后脚尖先抬起，想像脚底踩着滚木向前，脚不要抬太高。\\n\\n## 不当健身影响\\n\\n练胸大肌脖子会疼的原因\\n\\n1. 发力时使用了后背的斜方肌，左右斜方肌力量不平衡，挤压颈椎。\\n1. 推时腰部会发力，后腰左右两块肌肉通过脊柱带动，力量传递到颈椎，使颈部发力导致紧张。\\n1. 颈椎僵硬加上左右斜方肌力量不对等，产生侧倾，长期造成颈部歪曲，双肩不平衡。\\n\\n## 器械要点\\n\\n划船机：小腿垂直站地，拉下时肘不要弯，背略向后，脖子不前倾，拉开背和肩。\\n"}'));jctx.push(JSON.parse('{"id": "170423", "tag": "design", "text": "# 对《谈谈架构》的理解\\n\\n以下是《谈谈架构》这本书的目录，内容没有看，但从目录上已经有很多启发。\\n\\n第一部分 认识架构\\n\\n第 1 章 生命周期\\n\\n1.1 生命周期的识别\\n\\n1.2 核心与非核心生命周期\\n\\n1.3 生命周期与分工\\n\\n第 2 章 时间\\n\\n第 3 章 为什么会产生架构\\n\\n3.1 分工\\n\\n3.2 分工和生命周期\\n\\n第 4 章 什么是架构\\n\\n4.1 架构产生的条件\\n\\n4.2 什么是架构\\n\\n4.3 架构的生命周期\\n\\n第 5 章 架构和树\\n\\n5.1 树与增长\\n\\n5.2 架构和树\\n\\n第 6 章 概念\\n\\n6.1 何为名相\\n\\n6.2 究竟什么才是相\\n\\n6.3 概念是沟通的基础\\n\\n6.4 把握概念的力量\\n\\n第六章说概念，经常我们会被要求用一句话把一件事件概括出来，看似是考验我们的表达能力，但却有个前提就是双方必须有共同的概念基础。概念是对一件事件的浓缩提炼，要想一句话把一件复杂的事件说清楚，必须是把很多复杂的事件，以一种合乎逻辑的顺序表述出来，如果缺少对概念的共识，一句话就不可能达到好的效果。\\n\\n第 7 章 什么是抽象\\n\\n7.1 个性与共性\\n\\n7.2 个性是基础\\n\\n经常会经历过度抽象的错误，一方面原因是对忽略了两个事件之间细节的差异，导致认为可以抽象，典型的是把监视和回放合二为一。我也认为个性即差异是根本，在不确定的时候宁可分开，分开也许会造成冗余，但冗余后如果发现合并就是了，但如果开始就合并在一起，随着对细节认识的加深，就会在一份代码中加入越来越多的分支判断，导致代码无法拆解，最后变成一个大麻团。合并易于拆分，所以我对抽象持谨慎态度。\\n\\n第 8 章 识别问题\\n\\n8.1 面对问题有哪些困难\\n\\n8.2 如何识别问题\\n\\n8.3 寻找问题主体\\n\\n第 9 章 切分的原则\\n\\n9.1 切分就是利益的调整\\n\\n9.2 为什么需要切分\\n\\n9.3 切分的原则 \\n\\n9.4 树和分层\\n\\n9.5 切分与建模\\n\\n9.6 切分的输出和组织架构\\n\\n前段时间在公众号上看到类似的观点，架构是发现stakeholder，然后解决之间concerns的工作。使用视点和视角与利益相关者合作。\\n\\n第 10 章 架构与流程\\n\\n10.1 什么是流程\\n\\n10.2 流程和架构拆分的关系\\n\\n第 11 章 什么是架构师\\n\\n11.1 架构师做什么\\n\\n11.2 架构师也是人 \\n\\n11.3 人人都是架构师 \\n\\n11.4 架构师和权利 \\n\\n第二部分 软件架构 \\n\\n第 12 章 什么是软件 \\n\\n12.1 以模拟人为目标的冯诺依曼结构和图灵机 \\n\\n12.2 成本为王 \\n\\n12.3 天空才是极限 \\n\\n12.4 软件的作用 \\n\\n第 13 章 软件的生命周期 \\n\\n13.1 软件的开发生命周期 \\n\\n13.2 软件开发的增长 \\n\\n13.3 软件开发的迭代 \\n\\n13.4 软件的运行生命周期 \\n\\n第 14 章 什么是软件架构 \\n\\n14.1 要解决什么问题 \\n\\n14.2 分别是谁的问题呢 \\n\\n14.3 分别有什么问题 \\n\\n14.4 分析问题 \\n\\n14.5 会生成哪些架构 \\n\\n14.6 什么是软件架构 \\n\\n第 15 章 什么是软件架构师 \\n\\n15.1 软件架构师的区别 \\n\\n15.2 软件架构师的困境 \\n\\n15.3 生命周期的思考 \\n\\n15.4 软件架构师的权力 \\n\\n15.5 软件架构师和技术人员对技术的态度区别 \\n\\n15.6 架构师是技术的使用者 \\n\\n15.7 如何保障架构落地 \\n\\n第 16 章 业务、架构和技术三者的关系 \\n\\n16.1 什么是技术 \\n\\n16.2 业务和架构及技术之间的关系 \\n\\n16.3 技术人员和业务人员的关系 \\n\\n16.4 重新发明轮子 \\n\\n16.5 开源技术 \\n\\n第 17 章 软件研发 \\n\\n17.1 软件工程师的兴起和使命 \\n\\n17.2 分工的困境 \\n\\n17.3 软件的迭代 \\n\\n17.4 软件开发的分工 \\n\\n17.5 软件开发模式和架构 \\n\\n17.6 软件工程师的支持者 \\n\\n第 18 章 软件的架构拆分 \\n\\n18.1 软件拆分的原动力 \\n\\n18.2 软件开发团队的拆分 \\n\\n18.3 软件的拆分 \\n\\n18.4 软件开发的基础技术 \\n\\n18.5 软件拆分的第二动力 \\n\\n18.6 架构一步到位 \\n\\n第 19 章 如何写好代码 \\n\\n19.1 什么叫业务逻辑 \\n\\n19.2 业务逻辑分散的危害 \\n\\n19.3 业务逻辑内聚的好处 \\n\\n19.4 代码架构实例 \\n\\n19.5 代码误解 \\n\\n19.6 软件的拆分 \\n\\n第 20 章 单元测试 \\n\\n20.1 什么是单元测试 \\n\\n20.2 单元测试的困境 \\n\\n20.3 单元测试测什么 \\n\\n20.4 如何改造代码 \\n\\n20.5 为什么要做单元测试 \\n\\n20.6 如何做单元测试 \\n\\n第 21 章 软件架构和面向对象 \\n\\n21.1 什么是面向过程 \\n\\n21.2 什么是面向对象 \\n\\n21.3 生命周期和面向对象及面向过程 \\n\\n21.4 架构和面向对象及面向过程 \\n\\n21.5 面向对象的误区 \\n\\n21.6 对象和生命 \\n\\n第 22 章 软件架构与设计模式 \\n\\n22.1 模式以及模式的意义 \\n\\n22.2 什么是设计模式 \\n\\n22.3 软件设计模式 \\n\\n22.4 设计模式和架构 \\n\\n22.5 设计模式的误区 \\n\\n第 23 章 软件架构和软件框架 \\n\\n23.1 访问类框架 \\n\\n23.2 业务类框架 \\n\\n23.3 什么是框架 \\n\\n23.4 框架的特点 \\n\\n第 24 章 软件运维 \\n\\n24.1 软件运行生命周期\\n\\n24.2 什么是软件运维\\n\\n24.3 运维的业务模型\\n\\n24.4 控制变化\\n\\n24.5 监控变更\\n\\n24.6 预警变更\\n\\n24.7 主导变更 \\n\\n24.8 提升变更质量 \\n\\n24.9 运维的架构拆分 \\n\\n第 25 章 软件访问生命周期 \\n\\n25.1 软件访问的业务模型 \\n\\n25.2 软件访问路径的架构拆分 \\n\\n25.3 大规模软件访问的架构拆分 \\n\\n25.4 集群 \\n\\n25.5 数据中心 \\n\\n第 26 章 软件架构和大数据 \\n\\n26.1 什么是大数据 \\n\\n26.2 如何做好大数据 \\n\\n26.3 软件大数据 \\n\\n第 27 章 软件架构和建筑架构 \\n\\n27.1 软件架构和建筑架构的目标之异同 \\n\\n27.2 软件和建筑的架构扩展之异同 \\n\\n第三部分 软件架构的应用 \\n\\n第 28 章 交易 \\n\\n28.1 什么是交易 \\n\\n28.2 货币的出现 \\n\\n28.3 企业的实质 \\n\\n28.4 软件对交易的影响 \\n\\n28.5 软件的交易 \\n\\n28.6 企业的核心 \\n\\n第 29 章 产品 \\n\\n29.1 什么是产品 \\n\\n29.2 什么是商品 \\n\\n29.3 识别产品 \\n\\n29.4 产品系统 \\n\\n29.5 产品列表 \\n\\n29.6 产品详情 \\n\\n29.7 商品的规则 \\n\\n第 30 章 用户 \\n\\n30.1 什么是用户 \\n\\n30.2 为什么需要用户 \\n\\n30.3 客户的出现 \\n\\n30.4 用户的生命周期\\n\\n30.5 用户的识别\\n\\n第 31 章 订单\\n\\n31.1 什么是订单\\n\\n31.2 订单的生命周期架构拆分\\n\\n31.3 订单支付\\n\\n31.4 订单生命周期\\n\\n第 32 章 交易系统\\n\\n32.1 企业的架构拆分\\n\\n32.2 软件系统的建模\\n\\n32.3 访问业务模型\\n\\n32.4 交易软件系统的架构拆分\\n\\n32.5 服务的产生和粒度\\n\\n32.6 用户系统的拆分\\n\\n第 33 章 事务\\n\\n33.1 什么是事务\\n\\n33.2 软件中的事务\\n\\n33.3 数据库事务的滥用\\n\\n33.4 数据库的正确使用方式\\n\\n33.5 服务调用"}'));jctx.push(JSON.parse('{"id": "170530", "tag": "design", "text": "# 组件化与线程模型及缺陷\\n\\n今天夏杰和我看了他的PPT，讲到组件化在实现过程中留下的缺点，很值得反思。\\n\\n组件化以类为单位，并提供接口给外部操作。这种开发模式更像是提供一堆的工具类，而不是程序的框架。因此在开发时，必须要另外提供线程模型来执行这些组件，对设备而言，线程就在各个接入协议里自顾自地跑起来了。这样带来两个问题\\n\\n1. 随着接入协议变多，线程池和线程数量肯定会越来越多。\\n2. 对组件实现者而言，由于不确实组件的执行环境，为了确保多线程安全，最简单粗暴的做法就是大量的加锁，所以代码中经常可见不知有用还是无用的锁。\\n\\n原因就是程序是静态的代码组织和动态的代码执行两部分组成的，组件化解决了面条代码的问题，但在大华的执行期上却处理得很糟糕，虽然有RPCFramework这一理论上可用的公用业务线程池，比如Onvif也可以把请求转交到这里执行，但想用RPCFramework却强依赖继承的方式，侵入性太高，且接口又过度地和大华私有业务绑定，导致三方接入库不愿意用。\\n\\n分析下来，也不能全怪组件化，只是它缺少一个好的动态运行框架，才导致组件层面实现沉重无比。下一步就是要想办法提出一个好的动态运行模型，和组件化一起承担完整的业务模型。\\n\\n通过给NetSDK培训了协议和组件化的课件，也让我自己梳理出如果从协议角度看组件化，最核心的概念就是反射。根据字符串消息，找到类和方法进而执行。\\n公司的组件化从接口层看就是带了工厂的类，但从全局的角度看其实是更大粒度的模块。一个组件的接口可以由很多个类来分担实现，每个实现类可以具备自己的public接口，但并不是所有实现类的public接口都需要暴露给组件层面。\\n组件更多的是用于外部网络或者不同库之间的协作，包含的功能会更大一些。既然组件是不同库之间的契约，因此参数就更需要明确，不能使用Json式的灵活接口。\\n\\n6月份7日追记：\\n\\n由于组件化又和RPC协议联合使用，而RPC方式即意味着一个请求到来变成了对另一个模块的调用，这种模式对测试很不友好，只能打桩测或者整体测试了。如果整体测，出了问题无法确定出在哪个模块，而打桩测又必须对接口有很严格的定义，而大华接口定义的不严谨根本无法支撑打桩所需要的提前。\\n\\n软件作为一个新兴行业，只要验证和测试这关难过，就无法成为一个成熟的行业。硬件由于物理的限制，一个特性呈现出的行为是固定的，而软件因为完全由人实现，几乎可以达到无限的自由度，因此对接口的定义一定要严格，否则可测试性也就无从谈起。"}'));jctx.push(JSON.parse('{"id": "170601", "tag": "design", "text": "# PPT到底做什么\\n\\n不是动画也不是美学，是观点以合理的逻辑顺便呈现。\\n\\n提到Jobs在第一代iPhone发布会上，三种功能因为是并列关系，不能以开门的方式展现。也许观众不会注意，但从组织观点角度看，平铺的方式确实是对的。\\n\\n幻灯片根据使用场景不同，制作方式的差别是非常大的。如果是用于看的幻灯，内容可以多，更像写一个Word，只是在呈现上每个版面空间有限放的内容更少。但如果是给人讲的幻灯，则重点在于控制观众的注意力。控制注意力就是把控焦点，所以内容呈现上决不可出现大量的内容，即使有，也要用渐隐方式每次只呈现一点，这样才能始终引导焦点。\\n\\n定位mp4播放失败，先看http抓包以为是回复的MIME类型错误application/http，但改成octet-stream和video/mp4均没用。后者甚至是RFC规范。\\n\\n看mp4包头似乎也没有大问题，但拿到完整文件才发现中间少了一截，50M的文件在9M处少了260K就一点都放不了，这和MP4非流式的文件特性有关。可能是wireshark本身的问题，数据是完整的，但就会存在数据丢失的情况，怎么证明抓TCP包会丢，seq和ack明显不连续，从IP包序号看源端发出了但收端没有捕获。一般只能重抓。"}'));jctx.push(JSON.parse('{"id": "170604", "tag": "design", "text": "# 从串口功能的封装看如何抽象\\n\\n串口并不是不可分割的一体，就好像网络socket的TCP和UDP是差异巨大的两个类别，232和485的差别也是非常之大。之所以会混为一谈，只是对它了解不够，所以必须区别对待。\\n\\n232串口有点类似TCP，类似虚电路的点到点连接，且一个串口只能连接一个设备。而485串口则类似UDP，一条总线挂载多台设备，以类似广播方式发送消息。从硬件层面(PAL)抽象无非就是把一个串口作为一个对象，把设置串口属性、读、写都作为独立接口，这无可厚非，但应用层如果也只是简单封装，232可能没问题，485则会有严重不足。\\n\\n设想485上挂的两台设备使用的波特率、奇偶位都不相同，但又因为硬件限制要共用一个硬件，每次发送消息前都要先设置串口属性再发送，如果是等待结果的消息，还必须等待读返回。三步操作如果任何一个被其它线程从中切入都会造成数据异常。因此485串口属性设置和读写必须是原子化的，应用层的操作接口要基于硬件层原始接口封装,而且PAL要提供锁接口才能保证不同上层使用同一把锁。\\n\\n综上，485串口比较理想的抽象应该是PAL层提供原子化的设置/读/写接口，并提供接口间的锁。应用层基于这些基础设施，提供更高一级的设置写读一体化接口，才能满足一个串口接不同设备的通信需求。"}'));jctx.push(JSON.parse('{"id": "170608", "tag": "design", "text": "# 灯光和相机差异的关联和协议需求\\n\\n不同相机对灯光的需求差异很大，交通相机、普通IPC、球式相机都有各自的特点。\\n\\n比如交通相机工作重点在于车牌抓拍，最主要的就是如何把车牌拍清晰，重在静态的图片而不是视频，另外车牌和相机的距离必须在一个固定值，否则拍出来的照片内车牌尺寸就不合适。基于此，交通相机补光的范围只要保证在一个固定范围能恰好能打亮就行，加上车牌必须是彩色，只能用白光灯，红外灯是没有价值的。因此交通相机的补光灯有频闪、爆闪和常亮三种灯，频闪和爆闪更是只追求瞬间亮度，保证这一时刻车牌清晰就足够了。\\n\\n球机除了旋转功能，缩放也是一大亮点。目前球机的比拼很大一块也投入了比谁看得更远。30倍甚至40倍变焦都已出现。所以球机的指标里距离是很重要的。为了配合距离灯光也有近中远的区分。而灯光又分为红外、白光、激光。红外主要用于晚上距离可以达到几百米，白光可以照亮但距离也短得多，往往只有几十米。\\n\\nIPC主要使用场景是室内，一般只配备红外灯，和IPC体积小散热结构有关，白光的热能比红外更大。\\n\\n可见仅仅是补光一项，必须根据不同相机的使用场景搭配适当的灯光。\\n\\n灯光差异这么大，灯光协议也很容易入坑。比如球机的灯光配置要从全时扩展成分时，就怎么修改都无法满足。\\n\\n最初的灯光协议只说明是补光，未说明是红外还是白光。了解到原来球机因为只有一种灯，如果是复合灯则用另一套配置。虽然暂时解决了问题，但Lighting配置的作用到底是夜视还是全彩，依然不确定。这是协议的第一个问题。教训，不要把一种配置作多种明显不同的用途。\\n\\n配置的形式是数组，但只用了第一维元素。不知道最初设计数组的目的是什么，然后需求来了，对不同的时间段要有不同的灯光配置。但问题又出在是否启用日夜模式并不在Lighting配置，就会出现A客户端修改了灯光模式，结果B客户端无论如何修改都无法成功。所以模式必须也在Lighting配置中。"}'));jctx.push(JSON.parse('{"id": "170621", "tag": "design", "text": "# 云升级项目的反思\\n\\n这个项目大概是我在大华经历最失败的项目了，因为不确定最初的需求到底是什么，我自己的理解应该只是客户无法下载升级包，如果是这样提供工具可以\\n下载升级，而不是执着于必须由设备主动从云下载。\\n\\n嵌入式设备的升级包包含的分区非常多，比如一个典型的NVR升级包，去掉签名包还有6个分区，分别是uBoot、kernel、rootfs、web、custom、logo。前三个是执行所不可少的，web一般来说也是必须的，custom和logo则和公司的商业模式有关，因为有些大的OEM商不会修改功能，只要把logo换掉，最多把web界面的配色换了就可以，所以这两个分区独立是有价值的，custom分区则给一些小的定制功能使用，通过配置来打开/关闭某些功能。uboot和kernel不需多说，rootfs包括了执行程序，和busybox等接触最多的程序。\\n\\n正是因为多个分区具有独立升级的需求，导致需求分散极难实现。\\n\\n因为云升级项目考虑到法务上的风险(不明白为什么会有这样的顾虑？)，在初始化的阶段又加入一个云升级自动检测的开关，最初在做初始化需求的时候并没有考虑会有多个步骤，认为只要账号初始化整个过程就完成了。结果多了一个步骤后，导致原来一个原子化的操作有了状态。一旦有了状态，就必然要考虑中间的异常情况，另外还涉及到多个库间的兼容性问题，变得非常难处理。\\n\\n经过一个星期的理解，突然意识到云升级自动检测、云接入并不是必须的，和账号初始化的重要性不同，云升级只是个可选项，并不影响设备的使用，因此就不应该和初始化使用同一个状态机。把云接入总结为开机向导的概念，和初始化分离开。所以协议最重视的，就是概念或定义一定要清晰，市场或需求包会统称为初始化，但在程序实施时必须要把不同的概念分开处理。\\n\\n考虑到云升级可能会没有网络(神设定啊！)又在NVR上增加一层代理设计。代理本身是个专门的领域也有专门的SOCK5协议，但由于时间关系显然不可能集成SOCK5的情况下，领导安排手动实现一个代理，且最好两端都能做到无感知。可是显然是不可能的，因为作为代理方，必须要知道下一跳去哪里，或者说请求发必须要知道代理的存在，这个下一跳的存在就不可能作到和直连完全等价，因此一定有一方需要做出区分。但是总有人妄图用一套接口实现两个流程，可惜当时没能把下一跳这个关键点亮出来，花了很多唇舌才说服众人保持方案不变。"}'));jctx.push(JSON.parse('{"id": "170730", "tag": "think", "text": "# 思考、笔记与记忆\\n\\n学会正确地思考，不被欺骗(不被收智商税)，就一定要提升自己的认知能力。光说正确的思考方式比较抽象，就和读书的时候看教科书往往很难学到东西，只有做错了题目才能更进一步掌握，这是因为我们的思维对比较差异是很高效的。\\n\\n本文试图探讨如何将碎片时间的点滴，积累成完整的内容；如何更好的记忆和复习；如何将内容分类并形成体系。\\n\\n## 1. 记忆与间隔重复\\n\\n** 解决问题的公式=知识+逻辑 **\\n\\n知识需要记忆，如何才能达到高效的记忆？间隔重复SRS(Spaced Repetition Scheduler)，是对艾宾浩斯的更精确的量化方式。比较公认的是SuperMemo作者 Piotr Wozniak 提出的DSR(Dificulty-Stability-Retrievability)模型。Difficulty 难度，越大越难，Stability 稳定性指的是记忆的存储强度，越高，记忆遗忘得越慢。量化方式是回忆概率从 100% 下降到 90% 所需的天数，Retrievability 可提取性指的是记忆的检索强度，越低，记忆遗忘的概率越高。估计今天复习回忆成功的概率。\\n\\n这3个参数中S最难计算，也是核心。基于以下记忆规律来设计SRS的公式：\\n\\n* 记忆材料越难，记忆稳定性增长越慢\\n* 记忆稳定性越高，记忆稳定性增长越慢（又称为记忆稳定化衰减）\\n* 记忆可提取性越低，记忆稳定性增长越快（又称为记忆稳定化曲线）\\n\\n换成算法表述，对于一堆要复习的素材，就是以时间T为衰减项，根据难度D和稳定性S这两个系数值，更新召回率R。当R低于阈值后就进入复习序列，难度和稳定性影响召回率的下降速度。每次复习后的反馈会修正难度和稳定性（不是替换老的值，而是加权修正），进而影响召回率的更新速度。\\n\\n参考FSRS并简化后的计算公式如下\\n\\n* R = 1 / (pow(1+dT/S, -1) * D) # dT: 过去的天数\\n* D = D - d(Grade-1) - e(1-R) # Grade: 0-遗忘 1-一般 2-简单  d/e: 默认1\\n* S(成功) = S(1 + a * pow(D, -b) * pow(S, -c) * (exp(1-R)-1)) #\\n* S(失败) = pow(S, f * L) # L: 遗忘次数\\n\\n## 2.思考方式与思维误区\\n\\n传统的逻辑学分类是演绎和归纳两种。\\n\\n演绎的基本是我们所熟知的三段论，如果再细分的话，有直言三段论、假言三段论和析取三段论，这几种都是古典逻辑，现代逻辑的符号学或者更复杂的形式，我还不了解。演绎的推导是必然和确定的，但是这里存在一个弱点就是最初的出发点，要如何如证真？为了提炼出最初的前提，就会用到归纳法。\\n\\n归纳通常来自我们对外在世界的观察，并以类比的方式总结出一些结论，这也是经验主义者(如大卫休谟)所推崇的。归纳不像演绎，它是或然的(probable)。但不能因为这个就不否认归纳法，而是要用大量的事实来尽可能提高结论的适用性。但如果真的出现归纳前提不成立，也不见得是坏事，这时世界已经对你展现了另一面从未见识的地方，理应感到高兴才对。\\n\\n经常会有误区认为：做好了开发，就能做好架构。其实前者重在逻辑推理，算法构建，而后者更多是种权衡与取舍，甚至对人心的把握。做好了架构，不一定做得好技术白皮书，因为面向的是市场，又是完全不同的内容，对素材的要求也不一样。\\n\\n不同阶段不同人群，都是不一样的打法，可能其中有些粗看相同，但细看却差别很大。需要厘清概念分而解之。只有将思维误区必须和思考方式互为参照，才真正能提高。\\n\\n## 3. 实践与写作\\n\\n卡片笔记是一种思考方式，把它作为过程的外化和具象化。记录+链接的wiki未必是最好的载体。卢曼卡片有两个阶段，第1阶段是一种按目录组织的知识体系，第2阶段会给卡片标上类似3125分类，每位数字代表一个领域，逐级细化。\\n\\n还有一种是链接，尤其是双链。因为分类天然是深度优先，只有用链接重新跳出来，才会触发更多的灵感。双向链接有4种子分类，主题索引，前后逻辑，文本内容，卡片编码链接。主题用来确定大的类目，前后逻辑表示卡片的引用关系，文本内容则是更具体的内容详情展开，卡片编码似乎也是分类。链接的同时也是一个思考的过程。\\n\\n写作之难，在于把网状的思考，做成树状的结构，用线性的语言表达出来。三种结构，时序、逻辑、情绪。挑选一种作为推动故事发展的内核。文章运用修辞，如李笑来就是比喻和排比。手法上长短镜头结合。\\n\\n## 4.目标与积累 up at 23年1月\\n\\n我相信人都是有路径依赖，哪怕转型，过去也是财富。盯紧目标，有近的和远的，阶段性有几个具体的专项去做，更难的是要不时地去确认和修正远景目标。正因为远景定得宏大，所以走偏或发现不对十分正常，但又因为不是日常内容，如果不周期性核对，就会忘记导致忙碌一整年却没有沉淀。\\n\\n做的过程经常笔记，但更要时时地对内容做分类、合并，分类是为了建立知识体系，合并是因为新的总会修正旧的，而这个过程也是进一步夯实技能。\\n\\n分类会存在模糊或错误，曾经的分类，随着能力圈的扩大，会变成子分类，说明是好事。"}'));jctx.push(JSON.parse('{"id": "170802", "tag": "think", "text": "# 英语的谓语、表语和动词\\n\\n英语五大基本句型和人类历史发展史是完全一样的\\n\\n* 主谓就是一个男人和一个女人；\\n* 主谓宾就是一个男人和一个女人生个孩子；\\n* 一个孩子太寂寞再生一个就是主谓双宾；\\n* 孩子长大找自己的另一半那就是主谓宾宾补；\\n* 男人没一个好东西总是要变心的，于是找了一个新的媳妇叫做系，生了一个新的孩子叫做表；\\n\\n所以宾语和表语是同父异母的兄弟：\\n\\n* 主谓宾\\n* 主系表\\n\\n如果从词法角度来看，主谓是不及物动词，主谓宾是及物动词，而主系表则是系动词。\\n这三者在词法上都归在Verb大类下，但细分下来，还是会成为不同的句法。\\n还有个巧合，谓语predicate和表语predicative竟然如此得相像。表语补足语则是\\npredicative complement。\\n\\n谓语和动词并不等价，动词共有4类\\n\\n* 实义动词：run/walk有真实动作的词\\n* 系动词：is/am/are，作为联系词，不单独使用后面一定带词\\n* 情态动词：can/should/have to，不能单独使用，只表示态度\\n* 助动词：do/be/have，不单独使用，使整句话的语气由陈述句变为疑问/强调等"}'));jctx.push(JSON.parse('{"id": "171003", "tag": "book", "text": "# 劳动和交易创造的财富\\n\\n这些天看了很多水库的文章，回想《国富论》写点粗浅的认识，到底什么创造了财富，这个话题很大也很有争议性，希望能逐渐完善它\\n\\n先来对财富释义，最直接粗暴的标准就是可流通的货币，但实际上目前的富人真正持有的货币并没有账面上那么多，是股票、不动产等外延形式，这个话题会引申得太远，先直接对等到纸币上。那么这些财富是怎么来的？\\n\\n按照马克思主义的劳动创造价值理论，一个企业家即使7x24小时不停地劳作，生产出的产品堆满库房，财富是不会出现的，甚至还要缴纳仓库费用变为负资产，只有当这些产品给到另外一些需要他的人手上，这一刻两个人的财富同时得到了增加。此时交易增加了两人各自的财富。再补充一句，买家付出了货币得到了产品，则这件产品对他的使用上的回报必然是大于货币的(如果认为买家要贱卖这件商品则有点钻牛角尖了)，同样卖家出售产品换回货币。\\n\\n看完行为再来分析为什么交易增进了两个人的财富，因为人的需求繁多但人的生产能力单一，不论是谁他擅长的技能总是有限，而他的需求总是大于他的技能，可以简单地认为，当他越多的需求得到满足，则他的财富也越多，所谓藏富于民，即民众的各种需求都能满足。要达到一个人各方面的需求能满足，则交换/交易就很重要，甚至可以说是必不可少的。\\n\\n对于财富，交易是第一紧要的要素，再说劳动。即然要交换，必须要持有某物件才能交易，这个持有的物件如果不考虑中彩票或是摘野果之类，必须要靠劳动才能获得，同时劳动又是天然的，最公认的对这件物件产权的证明，是任何人都无正当理由剥夺的，利用合法产权，进行交易并获得财富增长的方式，无可辩驳。\\n\\n因此劳动确定产权，基于产权进行交易，交易促使财富增长。\\n\\n财富通常用货币衡量，但货币和任何商品一样都有保质期，只是这种腐化不像水果一样有形地腐烂，而是慢慢地缩水，粗浅地理解下缩水的必然性：在某一个时间点，货币总量和社会物质是对等的（先不考虑结构性失衡），但是随着时间发展，通过生产劳动，物质是会增加的， 如果货币不同步增加对等关系被打破，造成所有人持币等待，进而导致流通的货币更少，引起物价上涨。在这个过程中货币并没有超发，甚至都没有增发，这和股票市场的锁仓是一样的，总量和流动性要同时考虑。最理解的当然是增加同样多的货币，但还是存在分配的总量，如果交换不充分，就会存在货币积聚到某个行业，于是出现类似房价/股价大涨，但物资并没有涨价的现象。\\n\\n存款是过去劳动的凭证，但通过前述这些存款会慢慢腐化变少，因此财富真正自由必须是动态的，一旦静止货币腐化因子会蚕食你的财富，而且要使过去已固化的资产同步地当前收入增长保持同速，就必须利用自己的能力将它使用起来，因此往往富人没有存款，为了保住这些财富，必须全力使用不能一时松懈，一旦变成存款，和逆水中的船没有任何两样了。\\n"}'));jctx.push(JSON.parse('{"id": "171015", "tag": "think", "text": "# 回看晚清七十年历史\\n\\n小时候因为清朝是满族统治关系，非常不愿意学。现在回看这段整个民族在转型过程中的历程，颇为沧桑。\\n\\n晚清的界定通常从第一次鸦片战争开始，到辛亥革命共七十一年。对个体来说这就是一辈子了，不能简单的把这么长一段岁月用一句苦难深重就带过了。我觉得这七十年分三段去描述。三个节点分别是第一次鸦片战争、第二次鸦片战争和中日甲午战争。\\n\\n第一次鸦片战争打开国门并开了五口通商，但朝野上下并没有深刻的震动，因为仗是在广州打的，开放的口岸也在长江以南地区，离北京太远，虽然领教了坚船利炮仍没有自醒。所以到第二次鸦片战争期间二十年，没有引起改革。倒是这场仗后十年的太平天国运动还更引起朝廷的重视，战争持续了十余年，人口大减，武汉更因三次攻防战彻底成为废墟。曾国藩中兴，但我更觉得湘军这种制度创新是这场战争为将来变革留下的伏笔。\\n\\n第二次鸦片战争则深深地触动了朝廷，这场战争的原因我不了解，不表。这里还有个小趣事，明清两朝都是一帝一年号，但同治在正式改元前还另有个祺祥年号，不过只用了咸丰死后剩下的半年，改元后用了同治，此后慈禧登上历史舞台。这场战争后，清廷才真正被打醒并开始走上变法图强的路子，洋务运动就此开始，不仅开始追赶科技，在国政上光绪年间收复了新疆并正式改为郡县制(之前一直是伯克制，有点像改土归流)，还神奇地从毛熊手上通过谈判拿回了伊犁，1883年更是和法国人打了一次少有的胜仗。后世称这段时间为同(治)光(绪)中兴，如果不是后来的甲午战争，还真是中兴了。\\n\\n甲午之败，导致全国上下的震动，所有人都陷入了怀疑，到底怎样才能真正走向强大？之后经过戊戌变法，还是无可避免地发生了庚子国变(八国联军)，此仗在南方各省引发的东南互保致中央威权消解，虽然清廷努力地改革新政，但大势已成，最终在十年后武昌起义导致了清帝的退位，从此进入了更为动荡混乱的民国时期。"}'));jctx.push(JSON.parse('{"id": "171023", "tag": "think", "text": "# 我国省份行政编码规则\\n\\n每个人身份证的前两位(企业则是社会信用代码)表示省份，比如上海是31，北京是11。省、地、市县这三级行政区划代码，从1982年到2007年，有专门的国标2260定义，期间修订10个版本，后来可能觉得修订太频繁，由标准改为民政部每年发布一份文件。省份的编码其实很有规律，试着发掘一下。\\n\\n省份是按区域大致划分的，从首都为中心按顺时针排布。北京作为首都自然排在首位，代码11，然后就是天津河北山西内蒙，这些省有个很熟悉的名字：晋察冀，至于内蒙大约和河北地缘较近，也被归类到中心区。\\n\\n中心区顺时针开始第一个片区是东三省，辽吉黑从21到23，耳熟能详了。接下来是华东六省一市，上海31领衔，后跟江苏浙江安徽福建江西山东，后面几个省的顺序比较杂乱，也没有明白排列顺序是什么。\\n\\n时针走到下方，则是湖广地块，包括湖北湖南广东广西海南，河南也归在这个片区，可能实在不好归类只能放在湖广区了，不过可能是作为弥补给了河南41的代号。湖广再往西就来到了云贵，包括重庆四川贵州云南西藏，藏民有很多住在四川，归入这个区很自然，这个区有点特殊的是重庆的代号是50，其它区第一个都是1，只有重庆是0，原因也很简单因为重庆成立直辖市晚于省份代号制定年份，又是直辖市，只好放在原来51的四川前面。\\n\\n最后来到以6开头的西北，陕西甘肃青海宁夏新疆，陕西和甘肃古有陕甘道，且李唐的关陇集团就是以陕西为中心，陕西和山西虽然听着近，但中间隔着太行山潼关，陕西自战国时代就秦朝的属地，所以还是划入西北片区。\\n\\n民政部官网上可以查到每个自然年的到市县的行政区划代码，省地市每级2位数字，共6位。同时也会把变动的乡镇街道编码公布出来，但不会公布全部的乡镇街道编码。乡镇街道会按类型划分，比如街道是0，镇是1，乡是2，还有些林场、开发区、农场也属于这一级。再往下的村和社区没有找到网上有可查的地方，乡镇和村社每级是3位数字，所以完整的到编码共12位。"}'));jctx.push(JSON.parse('{"id": "171130", "tag": "think", "text": "# 《天朝的崩溃》读后感\\n\\n草草地看完茅海建先生的天朝的崩溃一书，这本书有500多页，因为时间的关系，只看到其中的一大半的章节，现在留下来的都是一些情绪上的一些记忆。\\n\\n我对这段历史的细节并不太了解，包括这本书第一章节的绪论提到琦善卖国而想到的，我甚至都不知道琦善是一个什么样的人。我们的教科书往往只是列举这个关键时点的一些人物，比如林则徐，关天培，但是其实还有非常非常多的官员，像琦善，伊里布，这些人物在当时的官职并不比林则徐低，但是因为可能民族的关系，在教科书中并没有过多的涉及。\\n\\n鸦片战争是清朝在军事力量上和英国的不对等，坚船利炮不是文学上的描述，而事实上的差距，清国因为长期的产品，武器火炮弹药年久失修。比如清军之中最长的火枪，竟然有166年的历史之久，是康熙时代真法俄国留下来的战争器物。各种火炮的配方，因为不懂化学的关系，没有像英国制作的，如此复合化学原是，另外在烘干等各种工艺上的不成熟，导致火药的性能也非常的差。由于缺乏严谨细密的科学理念，所以在各种器物上的差异简直不可以道理计。铁器的铸造工艺也落后很多，所以炮管枪管内壁非常不均匀，射出的弹道也无法保证是预期的吻合，更会导致后管炸裂，未伤敌先伤已。\\n\\n一方面是科学技术和器物上的落后，另一方面，长达2000多年天朝上国的自尊，在面对英国是一种无法平等的外交状态。英国人提出以封锁海上贸易作为惩罚条件，在吾国看来根本就不是什么问题，甚至英国人不提出封锁海口，我们自己也会封关禁海。所以可以想象，当时要把吾国纳入世界贸易体系，在我们当时人看来是多么的难以理解。林则徐作为当时最积极的士子，提出的方略也没有作战的实用性，他提出的海上操舟作战之法，显然没有在水战之中得到过印证。\\n\\n因为前方战事情况，到朝廷的失真，道光皇帝在这个过程之中，也由勦到抚最终又到勦的思想转变。整个过程并没有发生实质性的改变。当然，在第一线的官员看来，其实这场仗已经完全没有胜算，也包括像伊里布这样的封疆大臣，虽然在云南有极其丰富的对少数民族的经验，但是面对强大的英国，其实心知肚明，不能硬扛。\\n\\n所谓的英勇抗战，顽强抵抗，不过是螳臂挡车的送死而已，道德上的正义不代表政治上的正确，明明知道落后，还要以血肉之躯去做抵抗，不是正确的反抗方式，但也是那个时代落后的我们最无奈的选择。\\n\\n战事结束，从道光到咸丰的十年之间，参加这场战事的12名官员，其思想也没有发生特别大的变化，包括像林则徐官复原职之后，也没有特别积极的改变。但反观日本人，佩里的黑船来袭之后，15年就促成了明治维新。并且一发不可收拾，成为东亚乃至世界强国，而我们却在百年后仍无力抵抗日寇的入侵。我们这样一个老大帝国的转变，比起日本人实在是慢得太多。\\n\\n当然幸运的是，比起印度人，至少已经发生了转变，并且迎头赶上。所以最后我还是想说，感谢英国人用坚船利炮，使我们融入了这个国际贸易体系。虽然疼痛，而且用了一百多年的时间，走了很多的弯路，流了很多的鲜血，但是今天我们能够享受这样的发展红利，其兆始就在于一百多年前的这场战争吧。"}'));jctx.push(JSON.parse('{"id": "171230", "tag": "think", "text": "# 《杀戮与文明》读后感\\n\\n这是一本相当西方自豪主义的书，写得很啰嗦很冗长，但揭示的理由还是值得看看。整本书为三大部分，创造、延续和控制。\\n\\n创造部分讲了三个希腊罗马时代的战争故事。萨拉米斯海战，希腊把自己的三艘战舰都以自由命名，将士用命，地米斯托克利也在战争的第一线，反观波斯的薛西斯却在遥远岸上看着自己的战士们死去。这一段有句话让我印象深刻，**城邦，以法律为准绳而运作，虽然规模有限，立于贫瘠的山地之上，却远胜于繁华而缺乏理性的的尼尼微都城**。正是引以为傲的希腊城邦制度催生的法制、自由使每个人都能为自己而战。\\n\\n马其顿国王亚历山大在高加米拉大败波斯帝国，依赖创造性的步骑配合，亚历山大利用长枪阵的优势，自己率领右翼军集中地如铁锤般打击在敌人战阵中，左翼则是稳如山的步兵方阵负责屠戮，这种配合下的杀人堪称高效。作者对亚历山大的评价，和希特勒的闪电战一样，都是战争上的天才。当然作为反衬，可怜的波斯人再一次因为没有信仰，只知道捡钱而缺乏持久的战斗力，最终败给了不杀光不罢休的马其顿军队。\\n\\n坎尼会战评价更绝，这是汉尼拔以新月战诱敌深入并歼灭的的经典之作，但作者并没有花重笔墨地赞美汉尼拔，而是用罗马军队在此战后一年迅速恢复元气为依据，再次强调公民兵组织的动员性，最终汉尼拔因为缺少支援只能返回腓尼基并最终以失败结束了布匿战争。\\n\\n延续的三场战役来到了中世纪，普瓦捷战役是查理马特率领的法兰克士兵抵挡了阿拉伯人的北进，终止了穆斯林对欧洲文明的入侵。这场战争是重装步兵对骑兵的胜利，步兵、骑兵或是弓箭兵没有谁完胜谁的说法，步兵最好的兵源来自农庄，因此要有一支强大的步兵，必须有健康的农庄经济，再一次作者强调了公民社会传统的影响，而骑兵显然是游牧民族的强项，而游牧民族是很难孕育公民社会的，但是从当时的浮雕看，马仅仅是运输工具，真正的战斗是下马的（个人理解是没有马鞍）。另外要给一支步兵提供给养，必须后方有强大的协调组织的资源支撑能力，非公民社会不具备这样的基础。另外中世纪的欧洲十字弓被称为穷人的武器，只要很低的成本就能打击需要巨大成本养成的骑兵，教会甚至限制了十字弓的使用。\\n\\n勒班陀海战中，欧洲军队拆掉了帆船的撞角换成火炮，虽然帆船数量少于奥斯曼舰队，但火炮数量却多很多，不仅数量，质量也精良得多。奥斯曼的火炮却只能用来作为原材料。除了火炮，欧洲舰队也广泛使用火枪，而奥斯曼却因担心民众不稳定，只敢训练弓箭手（甚至不敢印刷书籍），训练周期长不说，战时还容易疲劳，经此一战更折扣大量训练有素的弓箭手。另外分工的精细化，使当时威尼斯最快能在1小时内下水一条帆船。由于缺乏银行系统，奥斯曼的将帅们不得不在船上放着大量金币。\\n\\n罗克渡口是一场先败胜的战役，在大部队输掉之后，一股不足百人（投入战斗约80人）的分队顶住了4000祖鲁人进攻，原因就在于坚强的纪律性。作为反例的祖鲁人虽然早就从欧洲得到享受了火器，却始终无法有效地运用(前填充燧发枪没有好的战术素养确实起不到什么作用)，因此祖鲁人仍然习惯了使用短矛。英国人在战争中携带大量的辎重，一个150磅的士兵会携带10磅的武器和60磅的补给，而当地糟糕的交通环境导致在天气好的时候一天也只能行进5英里。而祖鲁人的轻装上阵也导致无法使用火器，在罗克渡口的士兵甚至两天没有吃饭，战场上检视尸体发现祖鲁人嘴里都还塞着食物。"}'));jctx.push(JSON.parse('{"id": "180102", "tag": "book", "text": "# 青泽《澄明之境》文摘\\n\\n前言：体悟金融市场的“炼金”之路\\n\\n1. 要成为一个投资家，你必须是一个投资思想家。\\n2. 哲学是观察世界的角度学，角度一变，世界就变了。\\n3. 不可能找到百战百胜、完美的市场交易理论，必须放弃寻找“投资圣杯”的努力。\\n4. 多则惑，少则得。\\n5. 单纯的眼睛看到的是单纯的世界，复杂的眼睛看到的是混乱的世界。\\n6. 所谓的交易境界，指的是投机者在洞悉了技术层面的局限性以后，有了自己的投资哲学和思想体系，通过构建相对合理的交易策略和风险管理办法，在交易世界放弃完美，进退有序，淡定从容的心境。\\n7. 交易绩效的稳定，并不是技术的问题，而是放弃的学问。\\n8. 如果交易和战争两者真的有相似之处的话，战争者应该具备什么样的精神态度，投机者也应该具备什么样的精神态度。\\n9. 收心、守心、修心。修心讲的是日常具体事情中修炼自己的心性。\\n10. 交易不仅仅是知识的学习、接受过程，更是一场投机者品性的修炼。\\n11. 如果只是看过，明白，就能懂得，做到，那和尚修成佛陀岂不是和上大学一样简单？\\n12. 投资投机的事业更接近佛学的修行，别人的规矩原则，是别人的，即使告诉你，也还需要你自己去领悟去证得。\\n13. 巴菲特说：“一个在小事上无法节制的人同样在大事情上无法节制。”\\n14. 知道不是力量，相信才是力量。\\n15. 有信仰的人，观点是单纯的，意志是坚定的。\\n16. 单纯的具有知识的人仍然容易陷入矛盾和纠结中，容易在市场交易中迷失方向。\\n17. 投机客是“行者”、“忍者”而非“学者”、“智者”。\\n18. 投资人生是一条艰难的路，需要经历一次茫茫荒野上的艰辛跋涉。\\n\\n第一章：我的投资人生\\n\\n19. 一个仅有十年投资经历的人，感悟和思想会有多深刻呢？也敢写书？\\n20. 书不是写出来的，而是无数金钱和痛苦绝望堆出来的。\\n21. 如果在读者看来这本书字字珠玑，那么在我看来这本书字字血泪。\\n22. 叔本华说，“一颗大树想要到达天堂就必须进入最深的土壤，它的根必须进入地狱”。\\n23. 人生的智慧一定来自于痛苦。\\n24. 少年得志乃人生之大不幸。\\n25. 斗争哲学最不适合做期货。\\n26. 一头猪飞起来的唯一办法是去寻找风口，而不是花时间精力去琢磨让自己长出翅膀。\\n27. 什么是哲学家/投资家：在理性的指导下，能够保持自我克制的人，而不管他知识多少。\\n28. 人只有被逼到万般无奈之中，才会去思考一些深层次的问题。\\n29. 如果要在市场取得成功，投机者应该做出正确的决策，而不是做出让自己感觉舒服的决策，心理上很舒服的交易，结果往往不好。\\n30. 成功的投机者离不开辩证思维的大智慧。\\n31. 模糊是美，缺陷是美，简单是美。在技巧上追求完美，在利润上追求极限则恰恰不是美，而是与美的真实背道而驰。\\n32. 从长远角度，期货交易成功必须要有一个系统、完整的交易思路，包括的合理的交易理念、策略、方法、工具；良好的风险管理制度；正确的人生观、价值观等。\\n33. 违反交易原则和体系的冲动是投资成功的大敌。\\n34. 知识可以传授，经验不可传授。\\n35. 即使你具备了足够的知识，没有经验，你连纸上谈兵都谈不清楚。\\n36. 期货交易是一个个人英雄主义的孤独游戏，需要自我独立决策，并承担由此引起的最终后果。\\n37. 投资成功的核心不是去抓更多的机会，而是耐心等待，把某一个机会用好，把一个品种做精，当机会来临时，用极大的意志力把交易机会用到极致。这样的交易效果远比发现十次交易机会，每一次都浅尝辄止要好得多。\\n38. 投资理念是一个内涵丰富的概念，包含着一个人的投资目的、投资哲学、投资理论、投资策略、投资风险管理等很多方面。完整的投资理念需要从抽象到具体，把交易各个环节、各个要素系统地整合在一起，形成一个能够自圆其说的逻辑链条。\\n39. 戒（有所不为）、定（目标专一）、慧（技术精进，由术转道）。\\n40. 收心（有舍有得）、守心（耐心等待）、修心（功夫在诗外）。\\n41. 知道、相信、信任、信仰。\\n42. 一旦选择了投资人生的冒险之路，回到过去已经不可能了，未来的命运已经远远超出了你的控制力和当初的想象。\\n43. 青泽投资哲学：投资的理论、模型、假设决定市场观察和操作。\\n44. 心由境造or境由心造\\n45. 为学日益，为道日损。内化于心，外化于行。尽人力，听天命。\\n46. 期货投资，与其说是技术，不如说是艺术，与其说是赌博，不如说是拼搏，与其说是做盘，不如说是做人。每一张单都透射出人性的色彩，品性的贵贱。\\n47. 推荐书籍：《股票大作手回忆录》丁圣元译。\\n\\n第二章-投资市场需要哲学智慧\\n\\n48. 你越急功近利，越想挣钱，反而越挣不到钱。\\n49. 马克思主义哲学简单归纳为三条：世界是物质的，物质是运动的，运动是有规律的。\\n50. 康德，先验哲学，三大批判。康德哲学是西方古典哲学和现代哲学的分水岭。\\n51. 哲学有一个功能是锻炼人的思维能力，如果你经常看康德的书，你会变聪明。\\n52. 康德的先验哲学综合了经验论和唯理论，试图更加深刻全面地解决科学知识为什么能成立的问题。\\n53. 在康德的哲学里，物质世界表象背后并不存在着一个秘密的规律、本质，等待着科学家去寻找、发现。自然科学规律的发现需要科学家带着理论模型、科学假设去观察世界、拷问世界，通过对比，才能知道自己的理论正确与否。\\n54. 如果投资者头脑中没有事先预定的理论、原则、框架、模型，毫无目的地观察市场，看到的只能是市场价格随机的波动。\\n55. 知识不能单纯从经验中得出，而只能从理智的发明同观察到的事实两者的比较中得出。\\n56. 先有理论，后有观察。理论不是发现，是发明。\\n57. 科学不是发现，而是发明。人为自然立法。\\n58. 人为市场立法。\\n59. 市场背后并没有什么所谓的规律、本质，你用什么样的理论和思想去看待市场，给市场定位，你就看到了什么样的市场，你就会有什么样的投资行为模式。经纬度的举例。键盘字母排序。\\n60. 什么样的理论选择决定了你看到什么样的世界。\\n61. 谁对谁错，重要吗？说得清楚吗？\\n62. 你如何看待市场，得出一个什么样的结论，完全取决于你自身的眼光。你用短期的眼光去看，得到短期的结论；长期、基本面、技术面。\\n63. 胡雪岩：你有一个乡的眼光就做一个乡的生意，你有一个县的眼光就做一个县的生意，你有天下的眼光就做天下的生意。\\n64. 投资市场需要大智慧、大格局。\\n65. 投资者不能像个傻瓜一样跟着市场跑，让市场价格变化决定你的投资行动。（难道不是让市场价格变化决定行动吗？量化就是这样啊）\\n66. 真理是有限的、相对的，没有规律性可言。\\n67. 如果金融市场有规律，那也不会是长久的、永恒的。\\n68. 投资哲学的高下决定了每个人不同的投资人生。有些人即使短期赚钱，志得意满表象下其内心世界是虚弱不安的，眼神是迷茫的，对未来是缺乏信心的；而有些人即使阶段性做得不好，其思路是清晰的，目标是明确的，说话是低调的，眼神是淡定的，内心是平静的，对未来是胸有成竹的，能够达到“未战而先胜”的境界。\\n69. 投资市场高手之间的较量，绝不是技术水平的较量，而是投资哲学、投资理论的较量。投资哲学和投资理论决定 了你的眼光和境界，也很大程度上决定了你是一个什么样的人。\\n70. 不要问别人行情，别人永远不可能告诉你正确答案。\\n71. 聪明的投机者只有在机会来临时才做事。\\n\\n第三章-投资理论\\n\\n72. 投资理论只是对市场的一种解释，不同的投资理论对市场有不同的解释，甚至可能相互矛盾。没有完美的理论。\\n73. 投资理论：价值投资理论、趋势跟踪理论、反身性理论、均值回归理论等等。\\n74. 单纯的眼睛看到清澈的世界，复杂的眼睛看到混乱的世界。\\n75. 世上很多事情道理是相通的，少而精往往胜过多而博。\\n76. “基本分析是一种让杠杆交易者死得很体面的理论”。\\n77. 对于杠杆交易者来说，一个短线交易者如果非要刻板地按照基本面方向操作，当市场出现不可避免的大幅逆向波动时，还固执已见、自以为是，即使长期方向没错，市场短期波动也可以置你于死地。\\n78. 你很对，但你死了，不过死得很体面。\\n79. 硬币都有两面，你在接受它优点的同时也得承受它缺陷。\\n80. 我用趋势和结构思想来理解市场，对市场进行定位。趋势、结构理论是我的投资理论的核心，也是我交易体系和别人区别较大的地方。\\n81. “虽有智慧，不如乘势”、“天下大势之所趋，非人力之所能移也”\\n82. 结构：通常是指市场趋在演化过程中间出现的停顿、反向运动的中间状态。\\n83. “耗散结构”：偏离平衡态的新的稳定有序的结构。煤气罐、水库里的鱼。\\n84. 我把市场价格运动分为结构内、结构外、结构临界状态三种情况。结构内，价格运动非常随机、无序，结构临界状态，价格运动非常不稳定，结构外，价格运动有很大的有序性、必然性。这个“趋势+结构”理论，是我制定操作策略的基本依据。\\n\\n第四章-投资风险和心态\\n\\n85. 投资心态的培养没有捷径可走。专注执着，追求自然而然的境界，是一个人做好任何事情应该具备的优良品质，期货行业更是如此。\\n86. 坏的结果往往是由好心促成的。\\n87. 围棋十诀：不得贪胜，入界宜缓；攻彼顾我，弃子争先；舍小就大，逢危须弃；慎勿轻速，动须相应；彼强自保，先势后地。\\n88. “我从不追求妙手”“我从不想一举击溃对手”\\n89. 四道防线：仓位管理；时间止损、主动止损；被动止损（价格止损）；单日风控底线、净值管理。\\n90. 空谈投资心态没有任何意义，良好的心态不可能一蹴而就，而是在艰难、漫长的死亡游戏中，只有死里逃生的残存者才有资格谈论的话题。\\n91. 《对冲基金回忆录》：只要你进入了投机这一行，这辈子就休想再有无忧无虑、安逸的日子，内心永远会处在焦虑和煎熬之中，世界上根本就不存在良好的投资心态这一说。\\n92. 期货交易的技术和知识，也许学一两年时间就够了，但是，投机者要培养一个稳定、良好的心态，即使花上十年工夫，也不算多。\\n93. 巴菲特说：“无论你多有天分，也无论你多么努力，有些事情就是需要时间。让九个女人同时怀孕，小孩也不可能在一个月内出生。”\\n94. 我们必须勒住自我欲望的缰绳，舍弃十八般武艺样样精通，企图打败市场的非份之想，永远只追求属于自己的利润。（应该具有投资心态）\\n95. 任何高超的交易技术背后都必须具备高度统一的精神支持，才能发挥巨大的威力。\\n96. 稳：耐心；狠：重仓；快：果断。\\n\\n第五章-投资思路与策略\\n\\n1. 交易之道由心开始，次正理念，再次策略，最后技术。世人反其道而行之，故事倍而功半，期货交易首正其心。\\n2. 林广茂棉花之战总结：目标明确、思路清晰、意志坚定、市场配合。\\n3. “如果你天天坐过山车，时间长了，就能在过山车上睡着了”\\n4. “风格就是你的背影”\\n5. 越是成熟的交易员，个人交易风格越鲜明，思维和行为方式具有逻辑性和前后一致性。\\n6. 两种成功的风格：顺势轻仓止损长线；顺势重仓，相对短的止损，中短线。\\n7. 频繁的交易基本判了你死刑：不要盼望你能在高抛低吸的短线交易中获胜。\\n8. 平仓策略取决于你是个什么样的交易者，也就是取决于你的交易风格。如果你是短线就用短线平仓策略，长线交易者就长线平仓策略:趋势反转了再出场。\\n9. 伯克希尔就是通过把赌注押在有把握的事情上而赚钱的。\\n10. 我越来越相信正确的投资方式是大部分的资金投入在自己认为了解且相信的事业之上，而不是将资金分散到自己不懂有特别信心的一大堆公司。\\n11. 幅度取胜、仓位取胜。\\n12. 期货市场是一个以金钱的输赢论英雄的游戏，而不是投资者之间谁掌握的知识多，谁的投资技巧高，谁就是赢家。\\n\\n第六章-投资信仰\\n\\n1. 信仰是什么？信仰就是桥上的栏杆。\\n2. 信仰是指某种主张、主义、宗教或对某人、某物的信奉和尊敬，有一种坚定不移的看法，并把它奉为自己的行为准则。\\n3. 有信仰的人，心底会有希望，意志会更坚定，遇到困境会迎难而上，去实现自己的理想。\\n4. 知道不是力量，相信才是力量。\\n5. 小智为财奴，中智为克已，大智为信仰。\\n6. 刘强：“资本市场就是把钱从内心狂躁的人的口袋里流到内心安静人的口袋里的一种游戏”\\n7. 只有信仰才是我们灵魂的拯救者，才是交易智慧的坚实基础。\\n8. 知道、相信、信任、信仰。相信与信任，走钢丝的例子。\\n9. “读八百本书，无外乎顺势而书”\\n10. 冯友兰先生在《中国哲学简史》中提到人生有四个境界：自然境界、功利境界、道德境界、天地境界。\\n"}'));jctx.push(JSON.parse('{"id": "180223", "tag": "book", "text": "# 指数编制分类说明\\n\\n一，价格加权指数\\n\\n价格加权就是股票价格越高，对指数的影响越大，不计算市值。美国著名的道琼斯指数就是按照价格加权编制的，是“道氏理论”的创始人查尔斯·道编制的全球第一只指数。缺点是贵的股不一定是大的股\\n\\n二、市值加权指数\\n\\n按照市值大小分配比重，市值越大的股票涨跌对指数影响越大。\\n\\n市值加权指数的缺点：\\n\\n1.大市值股票对指数影响过大，不能完全反映市场整体情况。\\n我们经常看到的指数，绝大多数都是市值加权指数。\\n\\n三、基本面加权\\n\\n根据基本面财务指标对股票进行权重分配，财务指标显示股票越低估，给予的权重越大。如果某只股票涨幅过大，导致价格偏离基本面过多，指数则会调出该股票。\\n\\n说个实际的例子吧，基本面50指数(000925)就是基本面加权指数，该指数从营业收入、现金流、净资产、股息四个指标去考虑，选择了50家规模较大的公司，也可以理解为上证50指数的升级版本。\\n目前市场上唯一一只跟踪基本面50指数的基金是嘉实基本面50（160716），明显看出走势要稍好于上证50\\n\\n四、等权重指数\\n\\n等权重指数属于一种比较新颖的策略指数，它的成份股的权重都是一样的。比如沪深300等权指数(000984)，也就意味着中国平安与雅戈尔的权重一样，比重都是1/300.\\n\\n等权重指数中，当某只股票涨幅过大时，会被动卖出部分仓位，同时买入涨幅并不大的股票，从而实现指数成员之间的平衡。等权重指数类似于动态平衡策略，在指数编制规则中加入了低买高卖的机制。\\n\\n在等权重指数中，小盘股的话语权更大，也意味着波动会更大。\\n"}'));jctx.push(JSON.parse('{"id": "180225", "tag": "book", "text": "# 春秋故事\\n\\n夏未必有文字，商将文字用于祭祀，到春秋尤其是战国，随着吞并的加剧，大国将小国作为县来管理，始有吏治，并以文字文书作为行政手段，经秦完善成后世的律令制度。\\n\\n儒家典籍称为经，有经必有纬。所以汉代产生了谶纬之学。这些学说承担起为中国、天下、夷狄的正名之责。当这套话语体现确立后，纬书便没有那么重要了，加之纬书中加入了很多为汉王朝合法性的说明，反而不利于后世政权，自汉以后纬书便式微了。\\n\\n战国在汉代一直被称为六国之世，为了突出汉继承周的正统性，秦朝被刻意地忽略了。战国策成书于西汉末年，这个名称可能晚到清朝才确立。\\n\\n诸子学说分别有其代言人，儒家司徒之官，道家史官，阴阳家羲和之官，法家理官，名家礼官，墨家清庙之守，纵横家行人之官，杂家议官，农家农稷之官，小说家稗官。\\n"}'));jctx.push(JSON.parse('{"id": "180226", "tag": "book", "text": "# 禅宗四祖道信\\n\\n俗姓司马，河内人（今河南沁阳县）。道信禅师七岁出家。其剃度师戒行不清净，道信禅师曾多次劝谏，但是对方却听不进。没有办法，道信禅师只好洁身自好，私下地持守斋戒，时间长达五年之久，而他的老师竟然一点儿也不知道。\\n\u3000\u3000后来，道信禅师听说舒州皖公山（今安徽潜县）有二僧在隐修，便前往皈依。这二僧原来就是从北方前来避难的三祖僧璨大师和他的同学定禅师（亦说林法师）。\\n\u3000在皖公山，道信禅师跟随三祖僧璨大师学习禅法。道信禅师开悟见性，当在这期间。《五灯会元》卷一记载：\\n\u3000\u3000隋开皇十二年（592），有位沙弥，名道信，十四岁，前来礼谒三祖僧璨大师。\\n\u3000\u3000初礼三祖，道信禅师便问：“愿和尚慈悲，乞与解脱法门。”\\n\u3000\u3000三祖反问道：“谁缚汝？”\\n\u3000\u3000道信道：“无人缚。”\\n\u3000\u3000三祖道：“何更求解脱乎（既然没有人捆绑你，那你还要求解脱干什么呢？不是多此一举吗）？”\\n\u3000\u3000道信禅师闻言，当下大悟。\\n\u3000\u3000原来，吾人所感到的束缚不在外面，而在我们的内心。束缚完全来自于我们自心的颠倒妄想，也就是分别、计度、执着，如果看破了这些妄想，知道它们来无所来，去无所去，当体即空，不再被它们所转，那我们当下就解脱了。内心不解脱，到哪儿都不会自在的。因此，解脱在心，不在外。\\n\u3000\u3000道信禅师开悟之后，并没有马上离开，而是继续留在祖师的身边，一方面侍奉祖师，以报法乳之恩，另一方面，借祖师的加持，做好悟后保任的工夫。这样有八九年的时间（亦说十年）。\\n\u3000\u3000在这期间，三祖不时地点拨道信禅师，并不断地加以钳锤，直到因缘成熟，才肯把法衣托付给他。付法的时候，三祖说了一首偈子：\\n\u3000\u3000“华种虽因地，从地种华生。\\n\u3000\u3000\u3000若无人下种，华地尽无生。”\\n并说道，“昔慧可大师付吾法，后往邺都行化，三十年方终。今吾得汝，何滞此乎（当年慧可大师传法给我之后，寻即前往邺都，行游教化，时间长达三十年，一直到入灭。如今，我已经找到了你这个继承祖业的人，为什么不去广行教化而要滞留在这里呢）？”\\n\u3000\u3000于是，僧璨大师便离开了皖公山，准备南下罗浮山弘法。道信禅师当然非常希望能随师前往，继续侍奉祖师，但是没有得到祖师的同意。祖师告诉他：“汝住，当大弘益（你就住在这里，不要跟我走了，将来要大弘佛法）。”\\n\u3000\u3000僧璨大师走后，道信禅师继续留在皖公山，日夜精勤用功，“摄心无寐，胁不至席”。在皖公山居住了一段时间之后，因缘成熟了，道信禅师便离开此地，四处游化。隋大业年间（605-617），道信禅师正式得到官方的允可出家，编僧籍于吉州（今江西吉安地区）的某座寺院。\\n\u3000\u3000隋末天下大乱，道信禅师应道俗信众的邀请，离开了吉州，来到江州（九江），住在庐山大林寺。唐初武德七年（624），又应蕲州道俗信众的邀请，到江北弘法，旋即在黄梅县西的双峰山（又称破头山）造寺驻锡传禅。后称四祖寺。在这里，道信禅师居住了三十多年，道场兴盛，法音远布，“诸州学道，无远不至”，门徒最盛时多达五百余人，其中以弘忍最为著名。蕲州刺史崔义玄，闻道信禅师之名亦前来瞻礼。\\n\u3000\u3000唐贞观年间，太宗皇帝非常仰慕道信禅师的道味，想一睹禅师的风彩，于是诏令祖师赴京。但是，祖师以年迈多疾为由，上表婉言谢绝了。这样前后反复了三次。第四次下诏的时候，皇帝火了，命令使者说：“如果不起，即取首来”（这次他如果再不来，就提他的首级来见联）。使者来到山门宣读了圣旨，祖师居然引颈就刃，神色俨然。使者非常惊异，不敢动刀，便匆匆回到了京城，向皇上报告了实情。太宗皇帝听了，对祖师愈加钦慕，并赐以珍缯，以遂其志。\\n\u3000\u3000道信禅师寂于永徽二年（651）闰九月初四日，春秋七十有二。临终前，将法衣会付嘱给弘忍禅师，并垂诫门人说：“一切诸法，悉皆解脱。汝等各自护念，流化未来。”言讫，安坐而逝。后谥“大医禅师”。\\n\u3000\u3000道信禅师的开示，现存有《入道安心方便法门》，载于《楞伽师资记》。\\n"}'));jctx.push(JSON.parse('{"id": "180321", "tag": "book", "text": "# 雷恩杰哥\\n\\n## 如何看公告\\n\\n做任何事，都要讲究方法论，应该用最短的时间做到80%，去超过大多数人，再用大量的时间去攻克剩下的20%，成为顶尖玩家。我用这篇短文，带大家做到前面的80%，剩下的20%，就靠自身的努力与智慧了。要入门做到80%其实非常简单，我把方法化繁为简，主要是以下4个步骤：\\n\\n1.      收藏这两个网址\\na)        中证网：http://ggjd.cnstock.com/gglist/search/ggkx\\nb)        巨潮资讯网：http://www.cninfo.com.cn/cninfo-new/index\\n\\n2.      学会懒人思维，公告三千，只取三瓢。每天的公告都有成百上千，该如何减少工作量，但又不落下重要的公告呢？如何能够用最短的时间筛选并分析呢？\\n\\na)        明日复牌股的公告必看\\n（在巨潮资讯网里看，把每个复牌股的原委弄清楚，再看下停牌日期，估算补跌或者补涨的幅度）\\n\\nb)        中证网的重点公告必看\\n（步骤1里我给的网址）\\n\\nc)        自选股的公告必看，自己持有的股票或者关注的股票，每天都要去看一下公告，看看会不会对基本面有较大影响\\n\\n3.      分清楚利好公告与利空公告的类型。需要注意的是，利好不一定买进能赚钱，利空不一定会让股票跌，灵活分析才是关键，灵活分析的额前提是长期的归纳总结与试错。\\n\\n利好主要有：\\n\\na)        资本举牌\\nb)        大股东增持\\nc)        更换实控人\\nd)        并购重组\\ne)        定增\\nf)         大订单\\ng)        高送转\\nh)        业绩大增\\n\\n利空公告里我主要关注的只有两类：\\n\\na)        重组终止\\nb)        收到行政处罚书\\n\\n4.     新手该如何分析一个公告。格式如下，如果一开始每个都这么分析，无需多久，就能做到80%。\\n\\n案例：\\n\\na)  公告简介（写这个公告的内容和相关数据）\\n\\nb)  公司基本面（搞清楚这个公司的基本面如何，本身的业绩如何，本身的题材是什么，公告后的业绩如何，公告后的题材是什么）\\n\\nc)  解禁与减持（解禁和减持对股票短期的影响非常明显，看复牌公告的时候，一定要排查这两项）\\n\\nd)  停牌影响（停牌多久？期间指数情况？是否需要补涨？）\\n\\ne)  总结（做出综合分析，给出预判，做好一个交易预案，然后就是总结和归纳了）\\n\\n## 关于成长股\\n\\n1. 不要买市值超过200亿的成长股，成长股小而美，200亿以上是白马股\\n2. 不要买市盈率低于40倍的成长股，高增长通常大于40一个优秀的操作系统里，仓位的管理能力远比选股能力重要。一个职业的投资者，有几十年的投资生涯，在漫漫投资路上，最重要的就是要活下去。想活下去，那就必然不是去追求天天满仓打板，而是不管在牛市还是熊市都能稳定的赚钱，特别在市场环境不利时，守住投资本金，控制利润回撤，让账户处于风险可控状态。\\n\\n## 仓位管理\\n\\n不同的交易者在同一个时段，去买卖同一只标的股票，所得到的投资盈亏都是不一样的，最主要的原因就是每个人的仓位管理的不同。投资过程中的情绪波动会影响操盘决策，散户最常犯的错误就是追涨杀跌，看见某只股票上涨就追高买入，看见下跌就低位割肉；同时还缺少仓位管理的意识，喜欢把所有资金一把梭哈地压在某一只股票上，这其实就是赌博心理。这种投资模式的背后蕴藏着巨大风险，在遇到系统性风险或“黑天鹅”事件等极端情况时，会造成致命的损失。轻则几个月或数年的收益全部回吐，一夜回到解放前；重则血本无归，亏空出局。\\n\\n因此，投资者应严格遵守仓位管理纪律，减少主观情绪影响，控制交易心态。要谋定而后动，按照原则而动，即不管震荡再剧烈，只要没触及设定的价格底线，也可淡定持有；一旦市场打破了事先设定的逻辑或价格底线，信心再充足，也不可无原则的恋战。仓位控制的背后是情绪控制，通过合理的仓位管理，建立良好的交易心态，尽量减小投资的风险，放大投资的收益，实现长期稳定盈利，从而在投资道路上走得更远。\\n\\n仓位管理的核心原则：\\n\\n不要让自己在单笔交易中亏太多的钱，也不要明明抓住一个大牛股却对总资金增加贡献太小，不能太集中也不宜太分散。仓位管理的第一步是建立自己的投资组合，以及每只股票分配多少仓位；第二步是某一只股票仓位的具体管理，包括建底仓、补仓，以及止损和止盈时机的把握，即底仓建多少，什么时候建？回撤多少补仓，获利多少加仓？下跌多少止损，赚多少止盈？确保每次在亏损放大之前，及时止损，每次盈利都能尽可能拿到最大的利润，实现组合和个股的总体收益依旧是正的。\\n\\n\\n建立投资组合是一个考虑各方面因素后的综合决策，本文侧重介绍如何通过仓位管理去操作一只股票。下面具体分析在牛市行情、熊市行情和震荡行情中的不同仓位管理策略：\\n\\n一、牛市行情中的仓位管理策略\\n\\n牛市行情市场处于上升趋势，均线多头排列，此时最大的风险就不是股价的波动，而在于踏空的风险。\\n\\n策略：\\n\\n1、不空仓，不踏空，有机动仓位资金应对盘面。\\n\\n每一次回踩和调整都是机会，应该在保有一定底仓的前提下，用适当的机动仓位做高抛低吸，以获得更大的利润。\\n\\n2、逐步建仓，越涨越买。\\n\\n首先采用这只股票仓位的1/5进行试探建仓，买入后若标的上涨，每上涨3%-5%加仓1/5，某一只股票占总仓位不超过30%；买入后若标的下跌，低于底仓买入价5%-8%的跌幅时，择机加仓2/5的仓位。如果第二次补仓后继续下跌，到达止损线即刻止损。\\n\\n注意：一般资金200万以下的投资者，持股最好控制在5只以内。\\n\\n \\n\\n二、熊市行情中的仓位管理策略\\n\\n熊市行情市场处于下降趋势，均线空头排列。最好不参与，不要轻易抢反弹，应跟随趋势轻仓操作，确保不犯原则性错误。\\n\\n策略：\\n\\n1、轻仓操作，永远不要超过七成仓位；补仓次数不易过多，一次最好，一只股票的仓位不可超过总仓位的2成。\\n\\n2、下跌达到设定止损位，应坚决止损，绝不让损失扩大。一般行业内比较认可的，是每次交易对总仓位带来的损失控制在3%左右。\\n\\n三、震荡行情中的资金管理策略。\\n\\n我们所说的震荡行情，简单描述就是股价或者指数围绕一定的中枢进行波动，而不形成趋势。一般我们可以分为顶部震荡，底部震荡，下跌中继震荡和上升中继震荡。\\n\\n震荡行情切忌追涨杀跌，总体仓位要控制在3到7成。在波动趋势不明朗的时候，最令人难受的就是频繁踏错节奏，被市场两面扇耳光。因此追涨杀跌是震荡期的大忌，只会消耗和加重资金成本，更会使投资心态和行为发生混乱。\\n\\n今年的行情不太好做，大规模的公募私募都亏钱，就是因为全年都属于震荡行情，几乎没有像模像样的行情。\\n\\n1、底部震荡\\n\\n如何判断：1、估值水平较低，整体市盈率25倍以下，甚至20倍以下。2、成交量长期萎缩低迷，突然有所放大。3技术上的底部形态（最好有资金吸筹形态）\\n\\n策略：首仓最好少于2成仓，最好选择防御性较强的业绩股，标的范围在2-4只左右。不要追涨杀跌，应该耐心持股，越跌越买。股票超过10%的跌幅可以考虑补仓。总体仓位控制在5成内。\\n\\n2、上升中继震荡\\n\\n如何判断：均线呈多头排列，高点突破受阻。\\n\\n策略：至少保持三成的底仓，灵活的仓位做T。保有之前上升趋势中的盈利头寸作为底仓，以免踏空。但要保持一定的灵活度。仓位还是保持在5成以内为佳。\\n\\n3、顶部震荡以及下跌中继震荡\\n\\n如何判断：中小创普遍资金开始出逃，重要均线死叉。\\n\\n策略：空仓，保住胜利果实。保住现金，等待下次机会。\\n"}'));jctx.push(JSON.parse('{"id": "180411", "tag": "book", "text": "# 分叉者BCC\\n\\n伪装成天使的魔鬼——BCC\\n\\n详解比特币扩容/隔离见证始末，揭露BCC实质，写给小白的BCC内幕全解\\n本文将简要介绍比特币扩容/隔离见证之争始末，着重分析矿池、Core、用户团体三方的利益博弈，揭露Viabtc推出BCC的用意。作为比特币爱好者，旨在号召币圈人士着眼于比特币长远发展，反对BCC，反对任何形式的分裂。\\n\\n一、比特币扩容/隔离见证之争的背景\\n任何一个在币圈浸淫多年的比特币玩家都会有一个基本的共识，那就是比特币作为数字货币的龙头，是其他山寨币的价格标的，比特币今天的市值高度基本上决定了其他山寨数字货币的市值上限。整个币圈各类山寨币的未来发展，其实很大程度上取决于比特币的走向。即使在山寨币大行其道，成就了“区块链元年”疯牛的2017年，只要比特币下跌调整，各类山寨币几乎无一幸免。可以大胆预测，在未来近几年内，不会出现超越比特币地位而存在的山寨币种。\\n然而比特币“扩容/隔离见证”的问题悬而未决，以至于比特币涨幅，在今年大牛市的行情中，与众多后起之秀的山寨币相比，完全败下阵来，甚至于在数字货币总市值占比中让出主导地位，跌破50%。\\n为什么“扩容/隔离见证”的问题对于比特币而言尤其重要？我们说投资某标的，最重要的是要分析其内在价值，回到投资物的本质上，也就是回到基本面上。比特币虽然头顶着“区块链技术未来大趋势”的光环，但它代表不了区块链。当前来看，比特币本质的价值在于其解决了当前流动资金支付与转账的痛点，尤其是跨境跨币种结算。因比特币的匿名性、全网交易可查的安全性以及低手续费且交易便捷的基本属性，使得比特币有望突破和改变当今缓慢、繁琐的结算体系。也可以说，比特币目前真正的使用价值，实际上体现在场外交易上。\\n自从中国各大交易所受央行调查监管以及平台自身兑付问题影响，在今年年初决定暂停充提币开始，比特币的场外交易量便开始井喷式增长。一时间，比特币区块上挤压的交易量猛增，一度突破10万笔滞留交易。二级市场上的投机交易，逐步转移至场外交易。以往至多只需要半个小时的交易确认，当时需要花上超过24小时甚至更长时间的等待。为了能让交易迅速被矿工打包确认，比特币交易者不惜交付高额的手续费加速交易。至此，比特币的基本面遭到严重破坏——交易迅捷、手续费低廉的优势丧失。一定程度上促进了场外交易者寻求新币种替代比特币交易的局面。以太坊ETH等山寨币获得了发展良机。\\n而“扩容/隔离见证”就是为了解决区块拥堵和手续费暴增的问题。由此可见，“扩容/隔离见证”问题是比特币乃至整个数字货币圈最最重要也是最最紧迫的问题。妥善解决，比特币将获得新生，整个币圈也将获得前未所有的突破性发展；反之，比特币可能面临分裂，整个币圈可能开始重演2014-2015年的萧条。\\n实际上比特币“扩容/隔离见证”的问题已经在比特币圈内讨论多年，简单回顾，无非是矿池扩容派和Core团队隔离见证派的斗争。两派斗争纠缠不息，而后用户团体的代表：各大交易所以及比特币支付公司（如bitpay等面向用户的技术公司）也加入斗争，究竟改扩容还是隔离见证迟迟悬而未决，各种“BIP”、“Segwit”、“BU”等等专业词汇，也让新入币圈的小白和投机者看得是一头雾水。\\n那首先就来解释一下这些概念吧。\\n二、什么是“扩容”？什么是“隔离见证”？\\n扩容即是所谓的“硬分叉”（hard\\nfork），比特币一条区块链变成两条链，由矿工的大多数算力决定继续挖原链或是新链，绝大多数矿工若挖原链，新链死；反之，挖新链，原链就此告别历史舞台。也有可能两条链都保持一定的算力，从此二链共存，比特币正式分为两个币，新币和原有币，就像ETC分裂出ETH一样。目前扩容派为了解决交易拥堵问题，希望把原来的区块大小1M改为2M，也就是分出一条2M的链，把绝大多数的算力切换到2M的新链上来，既保证比特币不被分裂，又能使得交易拥堵获得解决。\\n隔离见证（Segwit）是所谓的“软分叉”，为Core所支持，它是将比特币的每笔交易信息切割简化，使得每一笔交易的大小降低，并且在此基础上应用闪电网络（Lightening Network），届时，小额的比特币交易将以合约的形式在闪电网络上交易，到期结算，将区块链上的交易数量减少，从此达到不分裂比特币，同时也解决拥堵的问题。\\n事实上双方都不希望比特币分裂，但两种解决拥堵的方案一直决定不下来，究竟是为什么？\\n三、“扩容派”和“隔离见证派”的利益分析\\n抛开“为了保有中本聪原有的比特币设置”、“防范比特币被某某团体把持，变为中心化货币”等等口号，其实只要做简单的利益分析就不难看出两方的需求。\\n首先是矿工/矿池这一方，矿工的利益来源在于挖矿，实际上，如果比特币区块堵塞，矿工可以获得超额手续费，短期收益是增加的。但长期来看，只有比特币价格不断上涨，挖矿的收益才会大幅提升。因而，从长远考虑，只有当比特币交易更加顺畅，入场人数增多，资金盘越来越大，矿工的收益才会获得显著增长。扩容将导致短期内手续费减少、挖矿收益降低，而隔离见证加闪电网络如果一经运作，小额的交易将不通过区块确认，矿工连少量的手续费都收不到。虽然闪电网络承诺将结算收益分利作为手续费补偿，但是如此一来，矿工将在很大程度上受制于闪电网络。因而为了更长远的利益，矿工希望扩容。\\n然后是Core/开发者这一方。Core在2015年6月份开始就不断提出各种方案，包括隔离见证与各种形式的扩容，但都没有得到广泛支持。而最近两年内Core开始坚决反对扩容，矢志不移地推行隔离见证。要分析Core的利益诉求，我们不得不提Blockstream这家公司，其创始人Pieter Wullie本是Core成员，在2015年12月提出Segwit失败后，离开Core成立这家公司，其目的在于掌握比特币的核心技术。事实上，闪电网络也是由Blockstream研究开发。不可否认闪电网络发明确实是对区块链技术的重要延展，其在莱特币上已经率先使用，决定采用隔离见证也使得莱特币在今年终于甩掉了“横盘小王子”称号。而反观Core现今的开发团队，三人话事的团体里，有两人都是属于Blockstream，着实引人遐想——Core的决策不可能不带有Blockstream的利益诉求。而这也正好解释了为什么Core一定要进行隔离见证并且应用闪电网络。因为在比特币上运行闪电网络使Blockstream极大受益。\\n除了上述两方，还有一方是用户，主要是各大交易所。他们对于无休止的斗争已经看不下去了，于是提出了“用户激活软分叉”（UASF）。意思就是你们再吵下去没有结果，8月1号我们就自行开始软分叉，并且拒绝接收原链的币，逼迫矿工只挖新链。这里要注意的是，用户团体提出的USAF与Core的软分叉稍有不同，如果与矿工不能保持一致性，有很大的风险会将比特币分裂。\\n为了应对UASF，矿池方面和Core终于能坐下好好谈谈了。\\n四、纽约共识\\n双方扯皮逾时两年，终于迎来了关键节点。所幸，矿池与Core双方为了避免比特币被分裂，在James Hilliard的提案中达成暂时的妥协，这就是BIP91方案，也就是俗称的“纽约共识”（Segwit2x）。这个协议是双方的妥协，具体分成两部分。首先让矿工发起投票，80%以上占比通过激活隔离见证的方案，然后，在隔离见证实施2个月之后再将比特币区块扩容为2M。\\n7月份，比特币行情上蹿下跳“牛转猴”，积极配合着比特币未来忽左忽右的未来走势，终于在大多数矿池的集体投票决定下，通过激活隔离见证，比特币从13000多暴涨反弹至19000人民币。比特币未来扩容与否，虽然仍不能百分百地确定，但分裂的预期已经消退。高盛也终于在长达两个月的唱多中找回一些颜面。\\n表面上看，这场风波似乎告一段落，但其实暗流涌动。与其说BIP91是Core与矿池双方之间的妥协，不如说是矿池在UASF面前被逼无奈的让步。为什么这样说呢？隔离见证是矿工除分裂外最不想见到的结果，一方面大权旁落Core和Blockstream，另一方面闪电网络一旦应用，矿工的收益也要在一定程度上与其竞争。更让人不放心的是，如果2个月后Core又提出新方案，拒绝支持扩容2M，矿工方又要受到重挫。\\nSegwit在激活之后各大论坛一片叫好，比特币爱好者们终于松了口气，庆幸比特币起码不会在年中分裂，也有非常乐观的投机者认为比特币将在下半年迎来二次牛市。更有人认为Core的阶段性胜利非常关键，纽约共识打破了矿工希望以算力把持比特币未来走向的妄想，削弱了矿池“中心化”比特币的能力。悲观者却认为，Core必定将在两个月后继续与矿池扯皮，最终使得扩容方案无疾而终，从而使得Core占据比特币的领导地位，Blockstream从此把控比特币的核心技术，反而Core会将比特币“中心化”。\\n这种表面的和谐还没持续几天，比特币又迎来了让所有人意想不到的突发事件。\\n五、BCC\\n国内矿池/交易所Viabtc突然宣布上线BCC，作为比特币的“竞争币”，以应对隔离见证实行后可能出现的变局（“用户激活硬分叉”UAHF）。从即日起，所有用户可以充值比特币到该平台，并将手里的比特币一分为二成BCC和BTC_FROZEN2，BCC作为期货交易在该平台上线交易，开盘标价3000RMB/枚。BTC_FROZEN2币冻结直至8月1号UAHF执行之时。业界预测，该矿池有可能在8月1日切换算力至BCC，直接分叉比特币。\\n这是什么意思呢？大部分人都不知道为什么Viabtc会突然跳出来唱这么一出，况且，Viabtc还签署了纽约协议。\\n先从技术上来看。BCC（Bitcoin Cash）的区块大小定为8M，并且实行新的动态难度机制，12个小时之内如果挖出的区块不足6个，则将下一难度下降25%，并且协议上BCC剥除了隔离见证的可能。所以，在技术上看，BCC既应对了拥堵问题、降低了交易手续费，而且还怼了Core一下。\\n表面上看，确实如此。先不做评论，来看看业界的反应。\\n1. 各方立场之于BCC\\n先来看看交易所。Okcoin在消息出来的随后几天里决定也上线BCC，但是要特别注意的是，Okcoin上线BCC的平台是OKEX，而非中国站抑或国际站，一方面可能是考虑到目前BCC仍然是“空气”，有名无实，只能做期货交易，另一方面可能是对BCC持有谨慎的态度，但又不想错过这个“万一”。另，火币在临近发稿前也宣布上线BCC。除此之外，其他的各大交易所保持了中立的态度，中国比特币等平台在较早时间已暂停比特币充提业务，以防范8月1号可能出现的攻击风险。\\n再来看看矿池方面。作为矿业最大的Boss，三大矿池的投资者比特大陆发表声明称，Viabtc仅仅是其投资的矿池，表明并未对Viabtc的决定形成影响，意思是Viabtc的决定与我无关。而币信在日前发表声明直接开怼，声明直指BCC可能会造成矿池“双挖”，成为“机枪池”，“……如此一来，可能会造成比特币算力剧烈波动，给比特币网络带来一定混乱，造成算力黑洞，影响比特币网络正常出块……”，并且“……呼吁广大矿池、矿工保持理智，不因短期利益改变初衷，造成长期利益的损失……”。再有莱比特矿池，年初讨论莱特币隔离见证时，江卓尔声称如果莱特币走隔离见证，将会将手里的算力进行攻击，以破败隔离见证的实行，促使莱特币扩容，态度十分强硬。而在比特币的问题上，江卓尔却站在中立方表示“尊重对方的选择”。\\n由此可见各方立场分野——多数交易所选择上线BCC，其他保持审慎中立；矿池方多保持中立，币信立场鲜明地反对。\\n为什么一个BCC会造成用户团体和矿池/矿工团体内部的不一致。打开各大论坛网站，你会发现近期很多的文章讲解BCC的时候，会将BCC作为“比特币的竞争币种”和莱特币作类比，或者是借由ETH和ETC的关系来阐述BCC和比特币的联系。这样的文章和言论这段时间屡见不鲜，还有另外一类文章说的是如何使用BCC进行短期套利，也就是将比特币充进Viabtc分割成两个币之后，在期货市场做空比特币，8月1号，白赚3500块钱。事实上都是在模糊化BCC的概念和实质，这些文章极力撇清，称BCC不是分叉币，并且言语模糊地只谈论短期的投机收益，对于中长期矿池的挖矿风险和交易风险完全避之不谈，美化BCC是“积极进取的”，可以促进比特币发展的币种，用意何在？\\n对于这个问题我们暂且不谈，先来看看投机者和小白们面对横空出世的BCC最常有的两个问题。\\n2. 两个问题\\n直接断言BCC百害无一利可能有失偏颇，那么先来看看这两个问题：\\n第一个问题：为什么扩容到2M你们矿池全部支持，扩容到8M你们要么中立、要反对了？以后2M区块堵塞了不还是要扩容吗？一次到位难道不好？\\n第二个问题：ETH和ETC都是这么过来的，你看看它们的涨幅，为什么这么反对两个币并行呢？\\n首先回答第一个问题，扩容成2M的共识得到矿池广泛同意有两个原因：\\nA.防止用户团体8月1号实行UAHF造成分裂，缓兵之计。\\nB.多数矿池已经表明态度，在Segwit2x施行两个月后，也就是10月份左右扩容2M之际，将算力全部切换到扩容后的链上，消灭原链，以保证比特币不分裂。\\n也就是说2M大概率不分裂。\\nBCC此刻上线各大平台，实际上将矿池好不容易与Core达成的一致“纽约共识”撕毁，加剧了矿业的不稳定。\\n为什么当初坚决反对分裂比特币的矿工现在又对8M的BCC保持中立或反对呢？中立的原因在于矿工可以获得短期暴利，反对的原因在于8M可能造成分裂。\\nBCC出来，理论上有三条路：\\nA. 被干掉。矿工们仍然坚持反对出现两个币，联合抵制BCC，8月1号当天对BCC进行算力攻击，没有算力支持的BCC就会胎死腹中，纽约共识会继续生效。然而矿工的算力分配，是看利润决定的，问题就出在这。\\nB. BCC和比特币“二币并行”。如果同一协议的两个币，BCC和BTC，BCC价格暴涨，作为矿工我当然会挖BCC，切换到BCC上挖矿，对矿工而言没有增加更多挖矿成本。鉴于目前BCC在Viabtc交易平台上的价格一直维持在2000-3000RMB左右，还有如此之多的交易平台上线支持，由此一来，8月1号矿工会选择挖哪个币，确实不好说。如果矿工在BCC和比特币上都分配了大量的算力，8月1号之后，可能真的会形成二币并行的局面。不论各类文章如何解释“BCC作为竞争币只会促进比特币发展”、“BCC出来是个好现象”云云，矿池因此分散算力是不可避免的，而且有可能形成“机枪池”，BCC利润高时挖BCC，比特币利润高时挖比特币，而且8M区块会导致更长的广播时间和算力浪费，与此同时，还增加了被DDOS攻击的风险……可以预见，整个矿业会不可避免地陷入混乱。除此之外，BCC与比特币“二币并行”最大的技术漏洞，也是各类吹捧BCC文章避而不谈的缺漏，在于二者代码完全一样，地址也一致。这会造成什么问题呢？以后如果我将比特币发送到你的BCC地址，我的比特币会被吞噬掉，但你也收不到比特币。严重的转账交易混乱将会产生。比特币交易将会面临严重的信任危机，持币者很有可能转而使用以太坊等其他山寨币替代比特币进行交易。\\nC. 还有一种微乎其微的可能，就是所有矿工在8月1号突然全部切换算力至BCC，比特币从此消亡，以后的比特币就是BCC，这种情况在矿圈没有形成一致意见的现状下，基本上是不可能事件，不再赘述。\\n对矿工来说，以目前BCC目前的价格而言，挖BCC虽然有风险（曾经一度算力排名第一的鱼池在比特币区块产出减半调整时，也曾挖过侧链，不幸导致亏损），但确实有利可图。所以一部分矿工保持中立甚至暗地支持8M的BCC，是因为短期内有利可图。而以币信为首的反对声音是出于反对分裂比特币的长期利益的考量。\\n其次，回答第二个问题。为什么ETH、ETC二币并行价格暴涨，而对于比特币要分成两个币就谈虎色变？换句话说，为什么要反对比特币的分裂？\\n币圈里有一句名言“了解比特币和了解比特币技术是两回事”，好像是出自江卓尔。技术是指区块链技术，Core毫无疑问应该是比特币技术的权威，延续中本聪思想是其宗旨。区块链技术势必要对未来产生深刻影响。但比特币不仅仅是代表着区块链技术，它更是一种投资品，了解比特币技术不代表了解比特币金融市场。比特币的基本面由其技术决定，但其价格波动是由市场决定的。我们看看ETH和ETC的历史，ETC从2016年中分裂出ETH，一直是横盘阶段，直到今年年初ETH才正式走上了爆发之路。而且ETH在今年取得如此重大的突破，很大程度上是因为Vitalik及其团队不遗余力地为ETH拓展业务，不断扩大合作团队，在牛市之中接连爆出各种利好，抓住ICO风口，以非常友好便捷的生态体系承接了ICO热。ETH和ETC能暴涨，根本原因不是在于分裂，而是因为其宣传与造势能力。\\n况且，比特币作为数字货币龙头，代表着整个数字货币资金盘面的信心。ETH、ETC分裂之际，ETC也只是作为小盘面的山寨币，就算分裂成8个，对整个数字货币盘面也不会造成很大的影响，对于投机者而言只是增加了投资选项。而比特币的分裂会造成整个数字货币盘面信心的丧失，投机者失去价格标的，数字货币市场会陷入混乱。所以，不能简单的将比特币和BCC与ETH、ETC做类比。比特币要想继续扩大市值，让场外的人不断加入进来，就必须要保证一个币不分裂。这对于整个数字货币投资市场而言都是至关重要的。\\n这两个问题实际上能让我们看清BCC在技术层面和市场层面上的弊端，那为什么用户团体会不顾纽约共识，铤而走险呢？\\n3. 用户团体的利益诉求\\n前文我们分析矿池/矿工和Core的利益诉求，两者殊途同归，一致反对比特币分裂，只不过是手段不同，真正的利益分歧在于交易手续费的取得，一方希望交易在区块上完成，一方希望通过闪电网络收取手续费。以交易所为代表的用户团体也是如此，只不过交易所的收入来源在于场内交易的手续费。因此交易所每天的目标就是扩大用户数量，上线潜力币种，抢占该币种的市场份额。如果我上线了这个币，而别的交易所没有，这个币火了，暴涨了，所有的交易量都会被我占有。中国比特币今年眼光独到，最早上线ETH交易，赶上了ETH疯牛行情，吸纳了大量资金和用户，一度成为世界第一大ETH交易平台，充足的用户量也使其第四大比特币交易所。对于交易所来说，占领先机就是占领了制高点。\\n于是便有了现在的局面，各大交易所轮番表示上线BCC，并出台了各种风险警示，提醒用户注意风险。但明眼人都知道，这不是因为BCC将要取比特币而代之的大势所趋，而是交易所面对8月1号分裂预期的未雨绸缪。谁都不想放弃承接比特币分叉币的机遇。\\n4. Viabtc\\n这个部分是个大胆的猜想，毕竟没有证实。很多人把Viabtc归入矿池团体，其实不然，Viabtc跳梁的做法暴露了其属于用户团体的实质。矿池大致两种，一种是自有矿机，矿池本身拥有矿场自己挖矿，另一种是通过运算力和吸引矿工投资，让矿工自有矿机挖矿，而自己不挖矿。Viabtc属于后者，其真正目的在于扩大Viabtc交易所经营。如果Viabtc本身拥有矿机，属于矿池/矿工团体一方，绝对不会这么干。\\n上线BCC，对于“矿池/交易所”双重身份的Viabtc而言是利大于弊的。首先抢占了比特币分叉币的先机，吸纳大量比特币筹码，用户量显著增加，站内分割比特币为BCC和BTC_FROZEN2冻结了用户比特币资产，不但吸筹，而且不让提走，不断扩大比特币筹码的占比；其次，如果“二币共存”，Viabtc交易所地位大大提升；再有，直接标价BCC，拉升操盘，让摸不着头脑的投机者拱手送出筹码不说，还让投机者交易“空气”，做了一波连白皮书都省略掉的ICO。如果矿池联合，8月开始算力攻击，BCC将大概率不复存在，币市小白们将血本无归。雇几个写手写写“BCC是竞争币”、“BCC是比特币的良性补充”等等避重就轻的文章，即可忽悠小散进场，空手套白狼，无成本套利。在缺乏监管的币圈环境下，交易所之于小的山寨币种拥有绝对的定价权。一家交易所要拉升一个新币种，刷出成交量，是非常容易的事情。这种不以基本面为支撑的价格都是泡沫，矿工短期切算力挖矿也仅仅是昙花一现的“伪需求”。\\n至此，BCC的各方利益诉求已经十分明晰。总结一下，做个预测。\\n5. BCC分裂比特币的结果\\n矿池/矿工团体反对分裂，反对BCC。但如果BCC分裂比特币阴谋得逞，各大交易所BCC价格被操控拉盘上涨，因短期利益，矿工也将会切算力挖BCC，至此比特币正式分裂，矿业混乱，比特币交易混乱，比特币基本面崩盘，整个数字货币盘面由此走衰。\\n用户团体无所谓分不分裂，抢占BCC先机是目前交易所首要考虑的事情。投机者见短期“捡钱”良机会将手中筹码拱手相让，最终血本无归。\\n6. 对于最后一个问题的猜想\\n还有一个问题悬而未决——为什么仅仅只有币信代表矿业发声反对BCC？\\n比特大陆作为矿业最大的Boss，旗下投资的三大矿池加起来的总算力已经足以对任何一个分叉进行算力攻击。Viabtc宣布上线BCC之际，作为矿业大佬，旋即发表声明称Viabtc仅仅是自己投资的矿池，其决定与自己无关，但也没有明确反对BCC。莱比特矿池也是站在中立的立场上说话。\\n貌似势单力薄的Viabtc背后到底有没有别的大佬支持？无从得知。但仔细想想，如果矿业大佬暗地背书Viabtc支持BCC，很难说得通。\\n首先，破坏纽约共识，信誉大损；其次，已经占据矿业主导地位大佬没有必要加速扩大自身的占比，况且风险极大；最后，长期来看，分裂的比特币，对于矿池乃至整个币圈来说都是灾难，当今最大利得者不会去冒这个险。\\n如果这个假设行得通，那么除币信外的其他矿池保持中立就有如下两个可能：\\nA.作为投资方，不好直接否决BCC，8月1号干掉BCC即可。其他矿池看大佬意见行事。\\nB.以假分裂威慑Core，防止Core在隔离见证实行两个月后再次搞破坏拒绝2M扩容。以BCC事件为筹码确保2M扩容顺利通过。\\n六、结语\\n比特币的构想非常伟大，比特币前进的道路也非常曲折。比特币的理想非常丰满，但比特币的现实非常残酷。我们希望比特币在技术上能够不断完善自我，加速推进区块链发展进程，从而解决社会上一个又一个的痛点，改变我们的世界。但作为金融市场中风险极高的投资品，比特币不可避免地，为各种利益团体所挟持。因而更需要我们看清利害，以比特币长远利益为重，反对各种形式的分裂。\\n"}'));jctx.push(JSON.parse('{"id": "180420", "tag": "book", "text": "# 股票市场的回购\\n\\n成立股市的动机，90年国企亏损太严重连利息都还不出，于是少量股份从民众手里换钱，又不影响国资控制权。导致彻底沦为赌场。于是开启全流通，但命脉企业是肯定不会出让的，就有少量企业开始分红，但分红按股份比例，大头仍给了大股东，小股东受益不多。美国主流玩法不是分红，而是回购。相当于买盘并锁仓，刺激股价上涨，数字货币多是这套玩法\\n\\n回购 vs. 分红:\\n\\n同样是返还现金给股东，为什么感觉回购好像比分红更普遍呢？一个主要原因是，自上世纪80年代以来，期权在公司高管薪酬里的比重越来越高。同样是返还现金，派发红利只对当前股东有利，而回购股票可以最大化地提升股价，从而让期权持有者同样获利。还有一些高管的薪酬是根据既定股数，道理相同，今天的分红分不到未来才能持有的股票上，但是提升的股价却直接增加了自己未来的收益。\\n\\n进行股票回购的最终目的是有利于增加公司的价值：\\n\\n1. 公司进行股票回购的目的之一是向市场传递股价被低估的信号。股票回购有着与股票发行相反的作用。股票发行被认为是公司股票被高估的信号，如果公司管理层认为公司的股价被低估，通过股票回购，向市场传递了积极信息。股票回购的市场反应通常是提升了股价，有利于稳定公司股票价格。如果回购以后股票仍被低估，剩余股东也可以从低价回购中获利。\\n\\n2. 当公司可支配的现金流明显超过投资项目所需的现金流时，可以用自由现金流进行股票回购，有助于增加每股盈利水平。股票回购减少了公司自由现金流，起到了降低管理层代理成本的作用。管理层通过股票回购试图使投资者相信公司的股票是具有投资吸引力的，公司没有把股东的钱浪费在收益不好的投资中。\\n\\n3. 避免股利波动带来的负面影响。当公司剩余现金是暂时的或者是不稳定的，没有把握能够长期维持高股利政策时，可以在维持一个相对稳定的股利支付率的基础上，通过股票回购发放股利。\\n\\n4. 发挥财务杠杆的作用。如果公司认为资本结构中权益资本的比例较高，可以通过股票回购提高负债比率，改变公司的资本结构，并有助于降低加权平均资本成本。虽然发放现金股利也可以减少股东权益，增加财务杠杆，但两者在收益相同情形下的每股收益不同。特别是如果是通过发行债券融资回购本公司的股票，可以快速提高负债比率。\\n\\n5. 通过股票回购，可以减少外部流通股的数量，提高了股票价格，在一定程度上降低了公司被收购的风险。\\n\\n6. 调节所有权结构。公司拥有回购的股票，可以用来交换被收购或被兼并公司的股票，也可用来满足认股权证持有人认购公司股票或可转换债券持有人转成公司普通股的需要，还可以在执行管理层与员工股票期权时使用，避免发行新股而稀释收益。\\n"}'));jctx.push(JSON.parse('{"id": "180502", "tag": "book", "text": "# 朝贡与威斯特法利亚体系\\n\\n东亚和东南亚有着天然的贸易优势。他们共同沐浴在世界上最强劲的季风之下。守时的季风每年从太平洋上送来丰沛的降水和热量，滋养出这片富饶多产的土地，同时为这一地区的商船提供了远航的动力。\\n朝贡贸易只占东亚贸易极小的分量。朝贡贸易按照各个国家的地位（与中国的相似性）明确规定了朝贡次数和使团规模（尽管执行起来并不十分严格）。可以想见这种常常数年一次的朝贡贸易只能占到地区贸易微乎其微的份额。朝贡贸易之外是数量巨大的商业贸易以及非法贸易（走私和海盗）。朝贡贸易的重要性体现在它是东亚国家关系的基石，是东亚国际秩序的表现。中国对朝贡国加倍的赏赐算的也不是经济账，是中国维护朝贡体制、获取政治认可的需要。真正承担东亚贸易往来的是数量巨大的非官方的商业贸易以及走私贸易。而中国通过这些非官方贸易获取了巨额的收益。\\n东亚庞大的贸易网络以中国为中心，可以说当时的世界和现在类似，对中国商品有着难以满足的需求。国内商品经济发达，棉、丝绸、糖、茶等商品丰盈，满足国内市场之余有相当比例都用于出口。银行和企业广泛投资于纺织、陶瓷、金属以及外贸等行业。明朝重修了沟通南北的大运河，清朝修建了贯通中国东西的道路网。发达统一的国内市场通过东南沿海的贸易港口和日本、琉球、东南亚以及欧洲联系起来。\\n \\n如果只看历史上中国和日本的官方文件，的确会产生中日闭关锁国的判断。考虑到贸易与政治安全的对立性，中日两国的确都实行过严格控制对外贸易的政策。但是这一政策的出发点是维护边疆地区的政治稳定，而非杜绝对外贸易。而且在边疆稳定之后，统治者往往都会放松对外贸易的管制。比如康熙在收复台湾之后，废除了海禁政策。那之后中国每年下水的远洋船超过1000艘，船只吨位也普遍介于200—500吨之间，部分船只能达到1200吨以上。\\n实际上闭关锁国这样的描述来自于西方。西方人到达东亚之前，东亚的制度、文化、经济就高度统一和发达。处在朝贡体系下的东亚国家，贸易关系十分紧密，中国商人和日本商人都十分活跃，中国南海非现在才成为世界上最繁忙的航线。西方人来到后，发现东亚铁板一块，无处插足。同时东亚的儒家文化对基督教强大的排斥也使得西方对东亚国家产生了封闭孤立的印象。\\n\\n东亚的贸易、外交、政治秩序全都建立在明确的等级制度之下，而这些礼仪就是等级制度最明显和重要的宣示。令中国改变这些礼仪无异于改变东亚数百年稳定的朝贡体制。\\n中国是一个早熟的文明，中国（带动东亚地区）发展出世界上运行最早最成熟的政府治理机制。唐朝时，朝鲜、越南和日本都向中国派出大量遣唐使，对中国文明有着发自内心的向往。其中，朝鲜和越南的汉化程度最深，它们建立了中国式的中央集权官僚体系、推行科举制、引入中国文字，并将儒学作为官方意识形态。虽然中国的制度和文化在东亚有着独一无二的优势，但是中国也无意干涉这些邻国的内政和汉化选择。所以东亚国家对中国积极而主动效仿的同时，也都不同程度地加入了本土的实践。基于文明的认同和贸易的需要，东亚地区形成了充满活力的贸易和外交综合体系——朝贡体系。明清（1840年以前）时期，这一体系成熟而稳定，中国（东亚）政治和经济的统一达到历史的最高峰。东亚也成为世界上经济最繁荣、政治最稳定的地区。在人类社会存在增长极限的近代早期，人口数量很能说明东亚的发达。17、18世纪，东亚是世界人口密度最大的地区，中国每平方公里约37人（西藏除外），南亚约32人，欧洲只有11人，东南亚为5.5人。\\n\\n中国毫无疑问位于朝贡体系的核心，朝鲜、越南、日本、琉球都属于次级国家。**朝贡体系很大程度上基于文明的认同**，所以次级国家间根据与中国文明的相似程度排序，国家实力并不是最重要的。朝鲜是模范藩属国，排位仅次于中国。日本尽管实力超过朝鲜和越南，但汉化程度不如后者，只能靠后。朝贡体系下，国家间的正式关系是不平等的，并且有着明确的等级制度。这种不平等的制度化设计就是上级国家通过敕封的方式认可下级国家的身份、下级国家派遣使臣到上级国家以及其中严格的礼仪。不平等并不代表中国对下级国家的欺凌和剥削。事实上，中国对藩属国的敕封在一定程度上限制了中国，因为敕封就表示了中国承认藩属国的主权，便不会干涉藩属国的内政，并为藩属国提供安全保护。\\n\\n如果以国家主权平等的标尺看，朝贡体系显得专制和落后，甚至滑稽可笑。但是我们不能拿一把东亚历史上并不存在的尺子来丈量东亚。历史上东亚国家和民众对不平等毫无疑问，“生而平等”的观念反而让人觉得莫名其妙。\\n \\n中西方历史在某些时间节点上的巧合很有意思。1644年，在亚欧大陆的东端，清军进入山海关，处于朝贡体系边缘又不是儒家社会的满清部落入主中原。清朝很快打消了众番邦的疑虑，不仅接受了儒家思想，而且完全沿用了明朝的朝贡制度。同一时期，在亚欧大陆的另一端，欧洲也发生了三十年战争（1618—1648年）。与东亚不同的是，这场战争打出了完全不同的近代欧洲国际体系——威斯特伐利亚体系。\\n\\n和朝贡体系的国家间形式上不平等、存在明确的等级制度完全不同，威斯特伐利亚体系最主要的特征就是国家间形式上平等、实行均势政治。战争中欧洲各国彼此妥协、寻求均势的过程中诞生了主权国家、平等、条约等一系列国际法概念，这些概念随着后来欧洲的扩张，成为所有国家的行为准则。\\n \\n中国为中心的朝贡体系和欧洲三十年战争诞生的威斯特伐利亚体系是近代仅有的称得上国际关系的体系。而这两个几近对立的体系造成的结果也大不相同。朝贡体系下，东亚地区维持了长时间的和平稳定。在朝贡体系成熟并良好运行的近代早期（1368年明朝建立到1840年），东亚国家间的战争只发生了两场：中国出兵越南（1407—1428年）和日本侵略朝鲜（万历朝鲜战争）。\\n 中学学习历史的时候就有一个疑问，历史课本大量篇幅聚焦于中国的北部边疆（尤其是明清时期），对东南海疆的关注一直到近代西方到来之后才成为重点，李鸿章感叹为“数千年未有之变局”。明清历史中绝大多数的战事都与北部游牧民族的边境冲突（无论从伤亡人数还是征战的目的，绝大多数都不能称得上是战争）有关，讲述与某个蒙古部落的边贸马市都是十分重要的历史事件。形成鲜明对比的是，东南方向的越南、朝鲜、日本与中国却有着长时间的稳定和平。\\n\\n这绝非因为这些国家绝非没有战争能力，要知道这些国家有着比游牧部落更高级的组织方式、更成熟的国家体制，同时又是农耕民族，对粮草等军事物资的自筹能力要比游牧部族强很多。甚至强于同时期的欧洲国家。1592年的万历朝鲜战争，丰臣秀吉动员了16万日本军队，数十万的后勤人员以及700艘船，另一方是明朝的10万援军和6万朝鲜士兵组成的联军，战争持续时间了6年。发生在1588年的英国海军与西班牙无敌舰队的决战尽管当时被西方人称为“人类有史以来所集结的最大的军事力量”，它的参战人数和消耗物资却只有万历朝鲜战争的1/5—1/10。\\n\\n朝贡体系是和威斯特伐利亚体系同为国际关系体系。比较这两种国际关系体系，最大的区别在于：威斯特伐利亚体系以国家间互相平等为基础，而朝贡体制则以国家不平等为基础和前提。在朝贡体制内，中央王朝的地位是最高的，藩属国的地位低于中央王朝。他们之间，并不平等。\\n\\n但在中国人看来，正常的国际关系本来就建立在国与国不平等的关系之上。英国要想加入中国主导的朝贡国际秩序，就得先接受不平等的地位，否则，整个朝贡国际体系就面临动摇甚至解体。覆巢之下安有完卵，当整个国际关系体系被动摇之后，国际贸易也就无从谈起了。\\n\\n中国人的问题在于信息不灵通，对英国已经非常强大一无所知，但中国坚持要求维持既有的国际秩序，先明确地位，再谈具体问题的做法，并非特别荒谬。毕竟，今天的外交场合中，外交官为了维持平等的地位，在一些“虚礼”上针锋相对毫不退让，也是常有的事。\\n\\n更加引人深思的是，东亚各国在近代史上都多多少少遭受过外来侵略。但在各国恢复了独立地位以后，东亚再次出现了一个高度发达、活跃兴旺的贸易圈。所谓东亚经济奇迹，其实只发生在原中国朝贡体制圈的范围内。那么，在东亚这种历史和现实的传承中，是否存在什么尚待人们深入认识的规律呢？比如，国家到底在社会发展中应该是什么角色和地位呢？\\n"}'));jctx.push(JSON.parse('{"id": "180511", "tag": "book", "text": "# 两晋南北故事\\n\\n秦汉时期的政治体制是一君万民，是所有的老百姓财富均等，没有形成利益集团，层级比较扁平，但是随着汉朝400年的发展财富自发的形成了分化，并形成了大地主，大资产阶级，比如颍川荀氏，司马氏在这样的制度下，原有的制度就不再适用，出现了400年的魏晋南北朝这段时间不仅是一个政治制度的，演进和适应，还有各个民族的融合\\n\\n随着公权力的下放，汉代又推行儒学国教化，使得全国具备了庞大的官僚预备队伍，直到隋唐的科举制度，才把这些人才重又纳入体制\\n\\n## 西晋的八王之乱\\n\\n西晋灭吴之难远超想象，灭吴总大将是王濬。如果不是羊祜再三举荐,杜预的信任,加上司马炎的授权,光是贾充王浑,这场仗就打不赢。\\n\\n西晋51年的历史，重点当然在八王之乱。一共跨越15年，分为两段，都和贾南风有关。前面一段持续3个月，起因是贾南风为诛灭杨氏引三王入京，事后平稳了8年，期间社会还是比较安定的。之后贾南风为了继续把持朝政，阴死了司马遹，导致了第2段长达7年的混战。最终司马越胜出，但也掏空了中原的家底，这个时候周边的胡族已经崛起，5年后的永嘉之乱，第一次中原王朝的皇帝北掳，再下一次这样的耻辱就是更有名的靖康之耻。\\n\\n贾南风的权力之路\\n\\n因为贾南风的擅妒杀了司马衷一个有孕的妃子，司马炎想废她，但杨家的皇后杨芷和杨珧保下了她。等杨骏大权独揽的时候，却完全没有和贾南风处好关系。贾南风本想招宗室中辈分最高的司马亮还朝，但司马亮不允，于是暗中联系楚王司马玮，由司马玮主动提议还朝任禁军职。半月后，贾南风矫诏诛杨骏，由于杨骏不反抗，司马繇带400兵士杀之于马厩，随后立刻烧了杨家的文书。事后召司马亮和高门中最有资历且与贾南风有隙的卫瓘共录尚书事，司马玮任北军中侯(领军将军，禁军总管)，多位司马番王受封，同时也把自己的哥哥贾模以及家中的亲戚也安排了若干岗位。由于任命极大地安抚了宗室和高门的心，贾南风带入了自家人并在权力的牌桌上能够立足。司马玮性格招摇，惹得司马亮和卫瓘不悦，二人想引裴楷换玮，玮得知后震怒，裴楷不敢就任，亮与瓘又动议各藩王回封地，更引得司马玮暴怒，激化了双方的矛盾。借着双方的矛盾，贾南风开始造势，先是私下秘密的散布，亮和瓘的一些不好言论，三个月后，矫诏让司马玮诛杀亮和瓘。为什么要矫诏？因为亮和瓘共录尚书事，所以没有他们俩的认可，是不可能有玉玺的，所以一定是用皇帝的小章发下的诏书。司马玮本来还有疑虑但被传召的黄门侍郎一通说，加上本来就有仇，于是头脑发热就干。由于没有正式的诏书，司马玮召集禁军36部的时候，只能出具自己的手令，同时他又矫诏一封，让亮和瓘手下的人员归顺于他。亮和瓘并未反抗，因为他们觉得这个事情有蹊跷，但是卫瓘原来有一个下属因为和他有隙，探讨叛逃到司马玮处，他便借这个机会直接杀了卫瓘祖孙九人。司马亮还好，其他人不敢动他，但司马亮为仇恨冲昏头脑，说杀司马亮者，赏布千匹。此时司马玮手下劝他直接杀了贾南风，但玮又不敢，第二天贾南风派人带着驺虞幡并称玮矫诏，禁军四散，玮伏诛。至此贾南风得以独揽大权。\\n\\n八王之乱是指死掉的8王，最后的胜利者司马越不算在其中的。8人有7人是司马懿后代，1人是司马孚一支。司马懿后代中，2人是懿的儿子，4人是司马衷的亲弟弟，还有1人是司马衷的堂兄弟。\\n\\n八王之乱最后司马越能胜出，一是因为八王之乱已经打光了中原的力量，第二是因为司马越靠着刘琨从幽州王浚处借来的5000骑兵，这个时候由于中原已经没有了训练有素的步兵军团，而骑兵在双马镫的加持下，造成了非常恐怖的破坏力，最终使得他这个远支的旁观者能够清盘。\\n\\n### 时间线\\n\\n1. 司马攸出镇: 司马炎一直想让攸出镇齐王，但高门因为有攸在，能平衡外戚杨家都表示反对。攸在司马炎持续催促下离奇病死，而一众官员比如张华都被外放，导致官位大量空缺，杨家占据三公位。此事后司马炎终是对杨家不放心，此时党争已起，也无可用之人，只能将自己的儿子分封为实权诸侯王。八王之乱才有了爆发的可能\\n2. 司马攸(炎的亲弟，但被过继给师)之死: 司马炎一直想让司马攸出镇齐王,但高门因为有攸在,能平衡外戚杨家都表示反对.攸在司马炎持续催促下离奇病死,而一众官员比如张华都被外放,导致官位大量空缺,杨家占据三公位.此事后司马炎终是对杨家不放心,此时党争已起,也无可用之人,只能将自己的儿子分封为实权诸侯王.八王之乱才有了爆发的可能.\\n3. 司马衷娶贾南风: 因为贾充的女儿先嫁司马攸。展开说句其实是贾充前妻李氏之女，李氏之父李丰参与反对司马师而被流放，所以只是一枚冷棋结交司马攸。但贾充的能量太大，司马炎一度想将贾充外放西北平叛。贾充为求自保，联络荀氏将贾南风配给司马衷。贾充是贾逵之子，虽然贾逵忠于曹魏，曹叡和曹髦都分别为其重修庙，可谓是曹魏纯臣，但到儿子辈却转投司马家。司马炎娶妻时司马师未死，娶的是弘农杨氏，这一族自杨修后一直没有在曹魏时代出头，所以司马衷其实势力不稳，于是司马炎又打破曹丕时代外戚不得为官的成例，来壮大司马衷的背景\\n4. 司马遹与贾南风(第2段起因): 司马衷太子司马遹长大后,不满贾南风,有日被召入宫后强灌酒数升,抄反书一封后被幽禁,后又被打死在厕所,死时声音传得很大.贾南风亦借其妹之子谎称有孕,引得司马家自危.司马伦(右军将军),司马肜(领军将军),司马冏(左军将军)发动宫变诛杀贾南风。司马衷无子,此役后司马允(衷弟)为第一顺位继承人,但司马伦名望低却想篡位,伦诛杀允后自己加九锡并称帝,迁衷到金墉城,为太上皇.司马伦是司马懿九子,辈分上是司马衷的爷爷,奉自己的孙辈为太上皇,天下开始乱了。伦登基后大肆封赏,官帽不够,有狗尾续貂,官印不够,有白板官,政治生态完全被破坏\\n5. 司马伦之死: 对司马伦上位后种种不满,京外藩王开始起兵.司马冏(攸子)率先发难,联同司马颖和司马颙三路军向洛阳进军.交战之初虽然不利,但人人想当皇帝所以账而不散,反观中央军却不知因何而战,即便战胜赏赐也只是空头支票.终于冏和颖取得一次胜利后,洛阳震恐再生内变,将司马伦押到金墉城换回司马衷.司马冏入洛阳,成为实际话事人.此战过后,西晋兵员损失10万人,武备不足为日后永嘉之乱埋下伏笔.\\n\\n## 东晋的建立\\n\\n司马越和司马睿的封地，前在东海，后在琅琊，挨的比较近，加上越的心腹王衍和睿的心腹王导是同族。所以才会出现这两个人明明是司马家两支比较远的支，但是司马越派司马睿江东屯住。\\n\\n在司马睿和王导渡江之前，睿的部将陈敏曾试图割据江东，并和甘宁之孙甘卓结为儿女亲家，一度也取得了江东大族顾家周家的支持。最终失败了，原因有几个：第1他不够能打，输给了陶侃，没能取得更大的地盘。第2他气量太小，任用兄弟没有重用世家，第3陈敏出身只有六品下。反观司马睿和王导不仅有名分，王敦在平叛中表现出的武功还相当了得。最后通鉴纪事本末中也评价：蹑桓王之高踪，蹈大皇之绝轨，意思是既没有孙策能打，又没有孙权的腰身柔软，失败也就是理所当然的事。\\n\\n琅琊王司马睿于307年，受当时西晋实权者东海王司马越之诏督江南军事，原先打算驻军下邳，不久由于战乱南迁到建康。同郡的王导到了江南后，由于王导高超的政治技巧，团结北方分化南方，使睿在江南站稳脚跟，西晋怀帝愍帝先后死后，于317年被推举为东晋元帝。在建康铺垫十年始得帝位。\\n\\n王导做为辅政大臣，王导在京畿，王敦因平两湖流民而坐大，守武昌。元帝为制衡王家，乃重用刘隗，刁协两人，王敦打入石头城，元帝亡。明帝即位，调祖约，苏竣镇压，王敦阵中病死。明帝在位3年亡，托孤庾亮辅政，苏竣不满庾亮严苛，与祖约又反，陶侃复压。朝中有迁都之想，王导力劝。政权初期便不稳定。整个朝廷由北府(郗鉴)和西府(陶侃)两股军事力量与贵族的妥协与平衡中维持。\\n\\n王导家训：言宜慢,心宜善,行宜敏,骨宜刚,气宜柔,志宜大,胆宜小,心宜虚,言宜实,慧宜增,福宜惜,虑不远,忧亦近。-《奏疏戒昌邑王》\\n\\n恒家是西府兵，谢安年过四十始出仕恒温，立谢玄为北府兵制衡恒家。两则轶事，谢安见谢玄爱香囊，施赌局得而烧之，玄亦明事理，从此悔过。恒温见刘琨侍女，初曰像，然细看却诸多不似，温闷闷，时人平评风盛\\n\\n北方移民到了南方，设立与原籍同名的侨县，但户籍却与江南住民的黄籍不同，另设白籍。经恒玄刘裕两次土断，方转白入黄。另侨民经几代人生衍，不再对北地有眷恋，亦有顺应民心所为。\\n\\n淝水之战的胜利,让南方门阀忽视了北方为整合而做的努力,不加改变.而随后战力爆表的刘裕更始南方觉得优势在自己.没有做任何政治结构上的变革,使看起来原来占优的局势,最终被看起来最弱小的西魏一统天下\\n\\n### 几个值得说的人物\\n\\n* 刘琨: 刘琨是一个被忽视的人物,他年轻时和祖逖一起练剑,有了闻鸡起舞这个成语。及长坚守太原成为中原王朝在北方的一盏明灯\\n* 祖逖: \\n* 陶侃: 南方没落寒门子弟的晋升之路：陶侃的母亲年轻时应该也是有一定见识的，当时他们家乡的孝廉范逵经过他们家，侃母割其发招待他。陶侃送出百余里后，终于换来了范逵的举荐。后来陶侃到洛阳以后，又多次拜访张华，因为张华是唯一寒门出身的，并且对南人也没有偏见的人。陶侃本人的自身素质过硬，不管是清谈、政务、沟通，无师自通的军事能力，都是他成功的基础。刘弘（司马炎儿时玩伴）发现了陶侃的才能，是他真正的飞跃。陶侃丁忧后，华秩（华歆曾孙）保荐他。但是此时华秩和司马睿已经闹掰，所以陶侃和他的侄子陶臻演了出双簧戏。陶侃先是把陶臻作为人质，留在华秩那里，陶臻发现华秩和司马睿不和，托病跑回陶侃处，陶侃痛骂陶臻后令人送陶臻回华秩处，但陶臻中途跑出，并去了司马睿。被司马睿表为参军，并加封陶侃为奋威将军，陶侃借此和华秩划清界限。陶侃57岁被王敦迁至广州刺史，但每天白天仍搬百砖到屋外，天黑再搬回屋内，自述：吾方致力中原，过尔优逸，恐不堪事。看到下属游戏时，也会严厉指责。传说其幼时曾做一梦，梦中身有八翅飞向九重天，但攀登最后一重跌落，所以自知没有天命，故一生谨慎，预感寿将近时将所有权力都还给中央。可惜陶侃的数个儿子或自相残杀，或被王导的继任者庾亮和其兄诛杀，都不得全寿。由于这个关系，陶侃的孙子很多都是隐士，而他的曾孙陶渊明则是最有名的一个。\\n* 桓温: 出生时温峤评价其子不凡，所以取名温。桓温一直把司马懿和刘琨作为自己的偶像,有一次桓温北伐收得一个刘琨手下的老妇,老妇说恒温很像刘琨,桓温很高兴,后面的评价:面甚似,恨薄;眼甚似,恨小;须甚似,恨赤;形甚似,恨短;声甚似,恨雌\\n\\n## 五胡十六国\\n\\n刘渊是匈奴屠各部人，没有政治资源，他假借其父是南匈奴谱系来讲故事，成就了第一波，借势典范\\n\\n石勒只有十几岁时,卖东西的声音引起了王衍王夷甫的恐惧,王衍想派人追杀石勒,但已经晚了.十几年后,王衍随司马越去东海的路上被石勒抓住,王衍为自己开脱拍石勒马屁,石勒觉得王衍乃不忠之人,遂杀之\\n\\n## 南朝\\n\\n刘裕能击败桓玄，固然有战力原因。但桓玄作为高门代表，在皇权企图恢复的大背景下，无法得到高门的支持。高门想要的是王导谢安这种维护高门利益的人，而非自立者。刘裕经过20年才九五加身，需要时间让人心转变。\\n\\n刘裕武人立国，使皇族与近亲任北府，皇子任西府。刘裕托孤4重臣，1年后大变样。谢晦轻浮，檀道济恨毛德祖（实为王镇恶）占了北伐之攻，不救虎牢，致北境第一次丢失。徐羡之寒门出身，被将任吏部尚书所鄙，健康行政效率低下，无法感知外部压力。皇族间残害甚重，只能任用寒族，终为萧道成所代。\\n\\n货品经济极为发达，但货币不够，以前朝钱为大钱，因无铜更铸铁钱以充。\\n\\n### 兰陵萧氏与齐梁\\n\\n南齐高祖萧道成12岁成婚，13岁就有长子萧赜。这二人在创业史上，说是父子更像是合作伙伴。萧鸾篡位之后，尽诛萧道成直接子嗣，萧衍上位后，他和萧道成一脉的关系已经出了五服，从法统上来说，他已经没有办法继承齐的法统了。南齐的名声已被萧鸾搞臭了，所以萧衍建立梁的国号。到了唐朝兰陵萧氏已经成为名门望族。一共出了10名宰相，其中有8位出自昭明太子萧统一脉。\\n\\n## 北朝\\n\\n平定北凉掳回三千僧侣，始有礼佛，遂有洛阳伽蓝记。北方原为守备柔然，设六镇。孝文帝迁都洛阳致中心南移，六镇升迁无门，积蓄不满。\\n\\n张仲瑀上书清退朝中北人羽林虎贲职，引起北人火烧张宅，朝廷只治八人罪，高欢时正在洛阳，知天变遂变卖家财聚死士，后投靠尔朱荣，在战事中丰满羽翼，成东魏。\\n\\n出帝不甘为傀儡帝，西逃宇文泰，有东西魏对峙。初西弱东强，宇文泰经沙苑之战极大拉平和东魏的差距，在制度上开创府兵制，加上四子宇文邕雄才大略，为杨坚最终统一奠定基础。\\n\\n三武一宗灭佛，因佛非汉族文化，立道教以自居，说明此时鲜卑以中华自居，奉中华文化为尊，汉人更有勤王之举，汉人也认可政权\\n"}'));jctx.push(JSON.parse('{"id": "180515", "tag": "book", "text": "# 大道随行，不忘本心10\\n\\n道生一，一生二，二生三，三生万物------ 《道德经》\\n\\n一）SAP\\n\\n大约17年前，公司里要上SAP。当时坐在我身边的，是一个生产部的女士。\\n她工作极其认真严谨，拿出了一个小本本，笔记记得密密麻麻。\\n对于200多个Form，这里是输入地址，那里是输入日期，下拉框是查库存列表。她整日眉头深锁，觉得这个系统实在是很复杂很复杂，有200多个表格要学呢。\\n相对于我的漫不经心，麻瓜女士表示十分不满：“xx桑，SAP系统对你意味着什么。难道就意味着每工作餐可以额外地吃免费水果么。而且你每次都抢最大最甜的泰国芒果，知不知道你这样形象很差耶”。\\n我白了白眼睛，那你认为该是什么呢。\\nSAP系统其实很简单。说穿了就是一个数据库查询系统。\\n无论你有多少个Form，多少个查询表单。无非就是数据库的输入/输出工作。\\n今天你下一个采购订单，是把货物输入到了系统。\\n明天你填一个生产表格，是把货物A转换成了货物B。\\n后天你填一个销售表单，就是把货物B卖了。\\nSAP很简单，无非就是一个大型的数据库。仅在生产规划环节有一些CPU计算，但也并不脱离传统的MRP系统。\\n扣除掉了生产线流水线那一些MRP算法，整个SAP就是一个超级简单，幼稚的数据库软件。其库存，运输，账本，乃至于后来画蛇添足加出来的HR，行政，总务等系统，无不是简单之极的一个二维数据库。\\n论技术含量，SAP可能还不如国内的《金蝶软件》。\\nSAP很简单。其实就是个数据库。\\n但SAP为什么在某些人眼里这么难呢。因为她们的思考方法不同。\\n在某些人眼里，SAP是200个不同的Form，每一个表格都要单独背诵和记忆。笔记记了一大本，到最后还是云里雾里多走出一步都不明白。\\n可是如果你懂得SAP的大框架，整件事就十分清晰。清晰得宛如手指上的掌纹。然后你只要关注一下一些细节就可以了。\\n\\n二）万物理论\\n\\n最近有一部电影十分热火，讲霍金的《万物理论》。\\n科学家们试图寻找出一种理论，它可以作为其他理论的“母理论”。从他开始可以推断出人世界一切的科学。\\n必需承认，这是一个很诱人的想法。人类永远在寻求更低一层的规则，T-1层的规则。\\n规则，规则是一切的力量。更底层的规格，可以帮助我们更好的描述这个世界，发现新的机器，发挥无以伦比的力量。\\n就好比说，中世界的炼金术士们不懂化学。无论他们做了多少的试验，最终他们也无法炼出金子。\\n可是等化学学科渐渐丰满，HCl和NaOH的反应渐渐普及。人类才能组合出各种各样稀奇古怪的材料。才会有塑料，铝器，汽油柴油。\\n而化学渐渐的也有瓶颈。等门捷列夫排出化学元素表，人类才看清楚 “更深”一层的规律。于是才有了Nuclear，有了核能和原子弹。2007年日本科学家第一次用激光照射纯汞，剥掉了一个中子，获得了金原子。\\n但是，原子物理仍不是最终极的科学。在原子之下，还有夸克。如果能了解夸克的奥秘，就能象《三体》小说一样，制造出无敌的战舰“水滴”。\\n其外壳的强度，将是现在所有材料的100000倍。完全不可摧毁。这靠的是强相互作用力。\\n而夸克也不是最终的粒子，夸克之下，还有弦论，至少。\\n讲这么多的闲话，和炒房有什么关系呢。请别忘了，这始终是一个俗不可耐讲钱的账号。\\n其实我们要说的是，基础理论的重要性。\\n很多人很表面，很肤浅。\\n就象那个SAP画了二百个表格的女孩子。又或者深陷题海战术的高考学子们。\\n他们看似很努力，可成绩始终上不去。\\n因为他们只是忙碌于很表层的东西。从没有想T-1层潜在的原理。其实老师出题来来回回就那几个套路。真正的学霸，学霸从来不读书。\\n\\n三）体，用，术\\n基础的理论很重要。从一些更基本的规则，可以推出上一层的规则。这样不仅更好记，更快捷，而且可以算出别人看不见的东西。\\n但是，事情也有其反面。若真如此，今天最富有的人，应该是“粒子物理”科学家，或者数学系研究“数论”的老学究们。因为他们，才是走在整个人类科学最前沿，最底层的学问。\\n可是事实并非如此。真正的科学家，往往是很穷的。问题出在哪里？\\n问题在于“体，用，术”。\\n最基础的科学，好比人类文明的大树。根基都在这里。这个方向一定要把准，绝对不能出错。\\n在基础科学之上，“用”指的是应用科学。你精通了化学，这并不能帮你赚钱。化学要转化成应用。研究出一种新型去屑洗发水，牙膏，洗衣液，奶粉配方之类的。\\n在大科学家眼里，这些应用科学自然是小儿科，不值一晒。可正是这些在“企业”里混的人，其收入往往是大科学家的二倍三倍，若能做到高管，更是幸福滋润。\\n为什么，因为“应用科学”离消费者更近，离钱更近。\\n从“理论”到产品，当中有很长的一段路要走。这段路之困难，之复杂，绝对不在基础研究之下。就好比你知道了“万物理论”，你也造不出粒子战斗机。当中还需要工程师几十年的研究。\\n“体，用，术”，在“用”之外，还有一个术。\\n术指的是完全末端的，不属于理论体系的，分散的，短期的似是而非的知识。\\n好比门口王婆卖的烧饼比较甜。\\n去坐电车可以穿过弄堂小路。\\n地铁交通卡可以互换以节省成本等等。\\n\\n四）炒楼界的体、用、术\\n花了这么大的力气来作铺垫，我们要说的是，作为一个合格的“炒楼客”，你需要怎样的学识修养。\\n首先，你需要正确的基础知识。炒楼这一行，虽然对于自然科学，物理数学要求不高。但却是对于社会科学，政治人文财经的分析要求很高。\\n人生基于“三观”，三观一定要正。先把头脑倒空，把脑子里乱七八糟的马克思主义调控等等全部倒空。\\n“体”，正确的信仰，首先你的政治经济学要对。方向要对。\\n正确的流派，目前看来是“奥地利经济学派”。在中国的代表作是铅笔社，原因以后再说。\\n可是“体”无需深究。如果你不想做个大科学家，也不想研究哲学的话，只需要大致知道“奥派”“铅笔社”是正确的就可以了。铅笔最前沿的一些学术观点也无需参与讨论。\\n“用”，指的是水库论坛。\\n我们知道了经济学上的一些大知识。譬如M2超发，譬如货币失常。\\n可是如何让他们变成商机，变成钱，变成我们赚钱。这其中仍大有学问。点点滴滴，细说起来也是宏篇巨著。一架飞机的说明书，只怕比“空气动力学”研作更厚。\\n“术”则是最外围的。譬如说，你买房，每次需要谈判下定之前。不要空手，去银行取几万元现金出来。\\n现金最好是旧钞。毛绒绒的看上去一大堆。旧钞的厚度比新钞厚。\\n等你谈判的时候，谈到关键要紧处，把钱往桌子上一堆。\\n“叔叔，我们很诚意买的。请你卖给我吧”。\\n现钞永远比银行转账或者支票更有冲击力。厚厚的一大叠堆在桌子上，有时候房东还是穷苦了一辈子的小市民，于是就被闪花了眼。\\n俗话说，“冲动是魔鬼”。房东一冲动，你就成魔鬼了。\\n用这个方式，房价至少可以多砍0.5W元下来。\\n但是这样的知识，对于系统性的理论研究有用么。对未来有指引么。\\n没用的。他是碎片化的，短暂的，散诸各方的点滴。或许过几年现金都不用了。\\n这样的知识，点点滴滴，散落在各个方面。无法用一根绳子将他们串起来。\\n而他们对赚钱却很有用。甚至一个短暂的技巧，能赚到大学教授一年的工资还要多。\\n再举个例子，但凡买房，上家总会问到一句：“你们是买来想自主还是投资啊”。\\n正确的回答，绝不是说实话，或者一半一半。而是要毫不犹豫地坚决说道：“自住”~~俺女朋友/老娘特别喜欢。\\n因为如果你回答说是“投资”，凡是投资，必然要有回报。房价就要有涨幅。房东难免心里会犯嘀咕，是不是我卖便宜了。以后交易容易产生纠纷。\\n而你回答“自住”。甚至要说“房价是贵了一点，可是她（女朋友）不知道为什么蒙了心，非得盯着这套买不可”。\\n于是房东沾沾自喜，顿时觉得是卖了一个好机会。以后的交易更配合不容易产生纠纷。\\n“体”大道理是根本，但他很少帮助我们赚钱。“术”每一条都是精灵古怪。但他们只能碎片化使用。\\n\\n## 经济学20\\n\\n经济学没有流派。世界上只有二种经济学，讲道理的，和不讲道理的。\\n\\n一）坑外有坑\\n当我读高中时，好友Magnus和我说，经济学是一门奇异的科学。是唯一的“正反双方”都可以获诺贝尔奖的学科。\\n当时觉得 “哇，好高大上啊”。\\n经济学是一门实证性科学，即他无法做实验。也不知道一些举措，譬如加息减息，刺激性财政政策，这些行为的真实效应是多少。\\n因为他只有一个输出量，就是GDP。而各项政策的效果，是无法单量的。\\n据说尼克松总统曾经想要找一个独臂的国家经济顾问。因为他的经济学家总是和他说“In one hand……in another hand……”，搞得老尼不胜其烦。最终忍不住翻脸说有没有杨过九难之类的。\\n当时很年轻，很不懂事，觉得真有道理。大学生知识份子就是不一样。\\n一直到许多年以后，才发现这样的“讲法”是有很大问题的。\\n1967年出现了学说“理性人共识”。\\n其具体的解释，指二个人，如果都是绅士，完全秉承着善意探讨的精神，没有任何偏见和不可逾越的宗教信仰。纯粹基于科学和逻辑的推论；\\n则最终二人是能达到共识的。\\n也就是说，科学是有的，真理的道路是唯一的。如果让一正一反，二个经济学诺贝尔奖得主关在同一间小黑屋里面。关上三个月，最终他们是会得出“共识”而出来的。\\n二个人中必有一个是错的。\\n那么，为什么现实生活中，克鲁格曼和哈耶克都是诺贝尔？\\n\\n二）万物理论\\n\\n世界上有没有“万物理论”，有没有一条揭语，直指本心。一语道出，云开雾散，大道破得干干净净。\\n幸运的是，这并不是一个哲学问题。而是真实发生的事。\\n据我所知，至少发生了二次。\\n一次发生在古希腊时期。欧几里得发现了“几何学公理”。\\n将当时繁杂复扰的几何学知识，通过几条简单的公理。可以象房子建筑大厦一样，一层一层垒起来。\\n给你几块地基，最终垒成摩天大楼。其简洁，精妙，千百年后仍让人赞叹不已。\\n另一次则发生在19世纪。\\n当时地理大发现，越来越多的物种被发现。都超出了《圣经》的描述。\\n生物学，一度被认为是不可归类的。\\n因为生物实在太多样化，太复杂，红尾翅蝇，巴西蜗牛，苔藓与磷虾，他们完全没有共同点和相似之处。也完全无法理解与脉络。\\n这时候，出现一个人，他只用了一句话，八个字，就将地球870万个物种解释得清清楚楚。破得干干净净。\\n这人是CR.Darwin，他说的八个字是：“物竞天择，适者生存”。\\n有了这条主线轴，寒带为什么没有常绿树，三文鱼为什么要迁徙，大猩猩为什么不会绝经，这些问题就很清楚了。\\n人类再回过头来看自然界，看得是清清楚楚。宛如公式在手，再把环境变量套上去就可以了。\\n如果把人类文明粗略地分为“自然科学”和“社会科学”。\\n那么自然科学皇冠上的宝珠，是物理学。他几乎是一切实用科学的基础。\\n而社会科学的总轴，皇冠上的宝珠，是“经济学”。\\n\\n三）政治经济学\\n\\n学术界一直有一个词，叫做“经济学帝国主义”。\\n意思就是经济学如此强横，以至于任何一个社会学科他都可以插上一手。凡事都可以用经济学解释。\\n为什么人们会闯红灯，因为经济学。\\n为什么印度要烧死寡妇，因为经济学。\\n为什么伊斯兰不吃猪肉，因为经济学。\\n为什么监狱里Gay的比例会大幅增加，还是因为经济学。\\n经济学几乎解释了人类社会的方方面面，几乎每一个宗教，习俗，道德传统，饮食烹饪，家庭亲情，婚姻恋爱，几乎每一个角落都有经济学的解释。\\n就好比“进化论”对于生物学的解释无所不在。\\n在这个时候，“经济学”产生了一场质变。变成了“政治经济学”。\\n因为经济学这件事，本身具有“大义”的名分。\\n马克思曾经说过，生产关系要适应生产力的发展。生产关系的所有调整，关键要解放生产力。\\n所以对于“最大生产力”这件事，本身就具有大义的名分。\\n哪怕对于统治者，他也是需要“生产力”越大越好的。\\n因为统治者并不是一个人，一个大哥下面跟着一群的小弟。\\n每一个小弟，都张大着嘴，渴望捞取更大的利益。有糖派，才能团结人心。没糖吃，队伍就散了。\\n在一些情况下，这可以通过掠夺其他群体来维持。但长远来看，还是要创造财富，创造更多的财富，才可以维持统治。才可以让下面的每一张嘴都开心。\\n“生产力的发展”，是一股不可阻抗的历史洪流。\\n“经济学”本身会对这个世界作出解释。但这个解释，真正有文化有思想的人，会知道哪些是对的，哪些是错的。但这就违反了统治者的利益。\\n譬如说，我们知道“武媚娘”剪胸是错误的。\\n广电总局禁止小米盒子是错误的。\\n上不了Google是错误的。\\n加油只有二桶油是错误的。\\n微信POS不允许展开业务是错误的。\\n但是知道这些错误，违背了统治者的利益。\\n“经济学”本身占据了大义的名分。统治者如果不想面对这些错误，那么他最好的选择是“阉割经济学”，或者给你一门错误的经济学。\\n所以我们这个世界，从来没有真正的“经济学”。有的都是“政治经济学”。也就是统治者塞给你的经济学。\\n在中国，我们学的是马克思主义经济学。\\n在欧洲美国，人们学的是大政府凯恩斯主义经济学。\\n其共同的特点，这二门经济学都是错误的。\\n但是政府需要这么做，他需要给人们洗脑。以获得“大义”的名分。要使人民相信，统治者目前所做的一切，都是符合理论逻辑的。生产力最大化，最治国治民的。\\n所以，诺贝尔经济学奖，出现二个相反的“经济学家”得主根本不奇怪。纵观其得奖名单，凯恩斯主义占了一大半，真正奥派只有Hayek一个。\\n诺奖基金会也是人，人有什么不可操纵的。上次日本觉得三十几年没出诺奖了，于是次年就得了一个文学奖。\\n\\n四）扭曲的世界\\n\\n好吧，本账号是一个俗不可耐讲钱的账号。各位听我嗑嗑叨叨讲了半天，到底和赚钱有什么关系。\\n“体、用、术”，在基础理论之中，我们所学到的并不是真正的科学：“奥地利经济学派”。\\n而是政府强行灌输给我们，错误的政治经济学。无论是马克思，还是市面上流行的“西方经济学”----凯恩斯主义。\\n这里面就产生了扭曲，就产生了错配。就产生了套利空间。\\n内功心法的不同，一开始就走上了不同的道路。\\n“体、用、术”知道了体基础三观已毁，具体的用法还要下篇再讲。\\n（yevon_ou@163.com,2015年2月27日午后）\\n\\n## 无风险套利30\\n\\n只要给我一个无风险套利方法，我就可以富可倾城。\\n\\n一）套利赚钱\\n\\n这个世界赚钱，一种方法是出卖劳动力。譬如下煤井搬煤，或者小白领坐办公室。坐满八个小时，老板就发你一天的工资。\\n另外一种方法，则是做生意。低买高卖。1元买进，2元卖出。\\n第二种方法来钱快，但他有二个缺点。\\n价格会移动。随着你生意做多了，买进价会逐渐涨到1.1元，卖出价会跌到1.9元。利润空间会缩小。最理想的是你背靠一个海量般的市场，比天空还宽广，比大海还辽阔，这样价格才会仅缓慢滑动。\\n会有竞争对手。加速价格滑拢。\\n对于绝大多数做生意的人，他烦恼的是a和b二个问题。所以生意也不好做。真想赚大钱也难。\\n那么，有没有一个办法，能维持价格始终不动。始终维持“1元买进，2元卖出”。我只要在其中跑来跑去，就能躺着赚大钱。\\n这种方法，学术上称为“套利”。\\n但是套利是不长久的。几乎任何一本教科书都会和你说，一旦存在套利机会，就会吸引无数的“竞争者”涌入这个市场。大家竞食这块肉。最终搞到“1.4999元买进，1.5001元卖出”。也没有多少利润。\\n如果你能发现一个长期套利机会。毫无意外，你会积累大量财富，无可限量。\\n\\n二）长期套利机会\\n\\n几乎所有的教科书，都说“长期套利机会”是不可能存在的。\\n但我们生活的是一个神奇的国度，一个神奇的时代。一个千年变革的国度，一个千年未遇的时代。\\n在我们这个时代，至少发生了一次“伪”大型套利机会，虽然不是完美的例子，却符合了大多数的特征。\\n他比天空还宽广，比大海还辽阔，饕餮盛宴，吃到盆满钵满。\\n他至少要满足几个条件；\\n1）这个市场要很大\\n2）存在严重的扭曲\\n3）99%，甚至99.99%人口是愚蠢的。他们不知道这种扭曲。\\n这其中，第三条才是最难的。\\n很多人已经猜到了，这就是中国的房地产市场。\\n房地产市场很大，这是毋庸置疑的。但很少有人承认，他是被“扭曲”的。\\n什么叫“不扭曲”。门口的煎饼果子店就是不扭曲的。你想买就买，想买几个就买几个。今天忘带了钱，让烧饼王大娘赊你几个也是可以的。\\n如果煎饼果子的利润太高，明天旁边摊贩就会出现李大娘，赵大娘。煎饼果子充分竞争，消费者可以自由选择。绝不会有人规定王大娘的烧饼只能卖3元/个。而且加鸡蛋只能加半个，不许抹沙茶酱。\\n而房地产市场不是，从购买土地，土地贷款，定价，发放许可证，户型，面积，配套比例，销售对象，消费信贷，再交易年限，税务惩罚，中介掮人，每一件事政府都要管。政府的手从来没插得这么深。\\n有干预就有扭曲。有扭曲就有落差。\\n落差就是钱。就是“2元卖出，1元买进”。\\n而有了商机还不够。关键还要看“竞争者”的多少。\\n互联网热潮一旦兴起，硅谷一个月之内就多了3000家公司。羊再多，也经不起狼多。\\n这会极大地降低你的成功几率。\\n而这时候，就牵涉到了关键第三点。中国是一个极特殊的国家。\\n其99%，甚至99.99%的国民，仍未脱离“蒙昧”状态。接受的是错误的政治经济学、洗脑教育。\\n这个才是核心点，赚钱核心点。\\n错过这样的时间段，就再没有这样的机遇。\\n内功心法不同，决定成长路线不同。\\n当2005年政府发动“宏观调控”时，对二手房交易征收5.5%的营业税。几乎所有持“正确”经济学，奥地利学派经济学的人，都会倒吸一口冷气。房价这是要大涨啊！经济学如是分析。\\n可是持有“错误”的经济学之人呢。如果我们翻翻05年的舆论媒体，几乎是一片倒的99.9999%人口都在唱:“中央出手了，房价要大跌”。\\n你说这算什么，蠢货么，白痴么，我们的同胞都是一群猪么。\\n因为他们都是文盲。虽然他们的头顶上往往都有一冠“学士”“博士”的帽子，可他们实际都是TG培养的学士。并不是真正的大学生。\\n独立思考，正确学术，这条路在中国是如此之稀少。乃至于0.0001%的人口都不足。\\n而另一方面，铅笔社那些大师，李子暘，布尔费墨，他们虽然可以正确地推断出“房价必涨”。可是他们只有“体”，没有“用、术”。\\n他们不会真正冲到购楼处，去买一套房子。他们只会书桌图纸上，写二篇结论。这样的人，也不会对我们套利赚钱构成威胁。\\n“体”是根本，你首先要有正确的科学，才能推算出价格的走向。\\n然后还要“用、术”，有实际执行力，才能冲进售楼处赚钱。\\n我们赚钱的基础，是整个时代的大格局。99.99%的国民是文盲，他们受的是洗脑教育。\\n在可预见的将来，也不见得“政治经济学”会得以放松。科学能够普及。\\n这才是长期套利的基础。\\n\\n三）正道\\n\\n经济学没有流派。世界上只有二种经济学，讲道理的和不讲道理的。\\n任何二个绅士，讲道理的理性人，都可以坐下来。细心耐心地好好商讨一下，基于理性和逻辑的科学是唯一的，不存在流派。\\n在所有的“讲道理”经济学中，奥地利系统所向无敌。哈耶克，米塞思，罗斯巴德，中国的布尔费墨……\\n他们提出的观点，他们对于社会保险，医疗保险，劳动法，最低工资，妇女童工歧视法案，垄断法，贸易保护主义，耕地红线，环保主义，新能源革命的抨击是如此犀利，让人完全心悦口服，完全无法反击。\\n如果大家坐下来讲道理，则“奥派”天下无敌。所向披靡。\\n那其他学派的经济学家怎么办呢。当他们发现心服口服，无可辩驳的时候，他们最好的办法就是不和你讲道理，而是挥舞起了拳头，“开门，抄水表”。\\n奥地利经济学派对于目前“主流”经济学家的批判几乎可以说到烂了。象李稻葵，易宪容，谢国忠之流根本不配称为经济学家。“凯恩斯学派”存在的整个基础，是政府需要他们，政府喜欢他们的论调。\\n每年政府拨款99%拨向凯恩斯经济学家。\\n秦晖有一篇《阻止极右倾向可能为时已晚》[1]，他这篇文章虽然写得乱七八糟。但标题却是取对的。\\n“科学一旦发现，就在人心中发了芽”。就象中世界无法阻止伽利略斜塔试验，现在的人也无法阻止正确的经济学传播。\\n因为人类追求真理的心态是永恒的。只有正确的理论，才能精确判断事物走势，进可以治国安邦，退也可以为个人谋财赚钱。\\n人类追求真理的心理是无可遏制的。当奥地利学派以无可争议的优势崛起，横扫，从正面战场将其他所有理论驳倒，推翻。\\n你仅仅跳起来挥舞拳头，“喝咖啡，抄水表”，那是无济于事的。没什么可以阻止人们对于科学的狂热，对于真理的信仰。\\n虽然今天，“奥地利学派”在中国仅是刚刚生根发芽，知道的人群不足0.01%，连知识份子也大多处于愚蔽状态。\\n但是，只要他一开始传播，就没什么力量阻止他在人群中的生根发芽。因为奥派完全符合科学。有什么问题，你坐下来说啊。大家坐下来，摆事实讲道理的讨论，于是你就被奥派说得心服口服。在讲道理的经济学中，奥派天下无敌。\\n当你说:“开门，抄水表”那一刻，你就已经输了。\\n \\n（2000年6月12日，美国华盛顿一家名笔专卖店举行了一个别开生面的揭幕仪式：笔与剑的较量。81岁老人持笔作战，击败身披战袍、手持利剑的彪悍武士，象征“文明战胜蛮荒”。）\\n\\n## 大纲的困扰40\\n\\n椭圆是什么，椭圆就是X2+2Y2=1\\n“伢子，这x,y是什么东西呀。还有，你画一横一竖二条直线，这是要干嘛呀”\\n一）写本书\\n我写过很多篇文章。\\n第一篇广为转载的，是2003年的《我们是怎样陷入贫穷的》。指责挪用外汇储备，忽弄百姓。\\n流传最广的，则是2004年的《人民币面临巨大的贬值风险》。转了超过1万个网站，超过2000万人次阅读。还被改了很多名字，譬如《大排面30元一碗》。\\n到了2013年时，有好事之人，将我的文章都搜集起来。整理成册。而我太太，则是温柔体贴，偷偷地找了出版社印刷成书。这就是《十年文集》第一稿。\\n坦白说，对于这本书，我是极其不满意的。\\n十年来，水平涨了是一个方面。现在再写，肯定比当年老练。更深入，还能纠正一些小瑕疵。\\n但最主要的关键，这本《十年文集》，他是散碎零落的。\\n这本旧册子，每一篇都有闪光点，每一篇都很精彩。\\n3000字一篇，任何一个单篇，取出来都足以满堂喝彩，眼前一亮。\\n但这一共约300篇文章聚在一起呢。\\n那就是狗屁不如。\\n好比我们说“体，用，术”。这一系列的文章，零零碎碎大多属于“术”的范畴。\\n这些文章，他会教你房子如何选择，笋盘如何砍价，资金如何筹措，利息如何精算，再融资盈亏平衡点在哪里，现金如何管理…………\\n其中的每一篇，拿出来都堪称经典。\\n可是你整部书看完呢，你还是不懂炒楼。\\n\\n二）框架与脉络\\n那我们缺的是什么呢。我们缺的是一根线，把这些知识点串联起来。\\n又或者说是一颗大树，有了主干，有了框架，然后再把枝枝页页挂上去。\\n如果你现在立志，大吼一声：“我要开始炒楼了”。\\n你知道你要干什么么。第一步，第二步，第三步。\\n分几个阶段，哪几个阶段该怎么走，每一步需要注意点什么。\\n这个就是框架。\\n就是“体”。\\n所以当我们回顾这本《十年文集》Ver 1.0时，我们十分不满意。因为他充满了技巧，却没有整体框架。\\n所以我们干脆下了一个决心。我们要写一本Ver 2.0，这个版本不是以前的版本上加加减减几篇文章。而是要一个全新的框架，几乎全部都重新写。\\n将原先重复的语录删去，缺失的几个节点补上，所有的文章，以2015年的水平眼界重写一遍。300篇全部都是新的。\\n箫逸的《甘十九妹》中有一段话，“她虽然只展示了水红芍三招剑法”，但因为人一个时期的水平总处于同一水准线上。水红芍的其他剑法也是类似威力。\\n同样道理，在我目前这个年龄，这个见识阅历。目前是一个大体上的平台期。在这个水平线上，将全部所学整理一下。汇集成册，告一段落，也是一件很有意义的事情。\\n当2014.8我们刚开始准备写这本《炒楼秘籍》2.0时，我们十分乐观。最初的估计，是仅仅十五天。\\n此后，我们发现这是一个不可完成的任务，于是改为三十天。\\n再之后，我们发现三十天也写不完，又改成了二个月。\\n四个月过去了，全书完成进度11%\\n为什么，卡在哪里了呢。\\n问题出在《总纲》上面。没错，就是不足500字的总纲，卡了整整四个月。\\n现在才知道，一些大师举重若轻，那是多么地不容易。\\n最初刚开始整理这本书的时候，我们心里底气很足。\\n既然这300篇都是我写的，肚子里有墨水。那我将你们都整理一遍，稍加修改润色，十五天也够了。头尾再加二篇，立即就可以成册。\\n但之后我们就发现，将炒楼这件事整理成一个“系统”，是多么地不容易。\\n从哪个角度切入，然后一层层剖开。\\n既有循序渐进，又可以面面俱到。\\n这个问题想了足足四个月。实在做不到如“庖丁解牛”一样行云流水。\\n但各方已经开始催稿，RP值已经跌得不能再跌。\\n眼看郭敬明都可以拍部电影自讽拖稿之王，永远不迈出第一步，那就永远没进步。\\n那怎么办呢。我们用《水库论坛》订阅微信号向外开始推送文章。\\n每一篇都是被人看见的。每隔3~4天必然会推一篇。\\n这样，大家都看见了。不可逆的，终有一天会写完。\\n三）大纲的结构\\n可是，这个问题还是没有解决。“从哪里切入点，然后一层层剖开，循序渐进，把整个系统讲得清清楚楚”。\\n我已经知道问题在哪了。\\n我问你，椭圆是什么形状的。\\n书本还没丢光的朋友们立即会回答：“X2+2Y2=1”。\\n你把这个答案拿给姥姥看，她一定看不懂。\\n她会问你，X是什么，平方是什么，坐标轴是什么。\\n这是怎么回事呢。这是“基础知识”的作用。\\n如今我每天有一点新的心得体悟，技巧和手法漏洞，我会贴一篇帖子在水库论坛。\\n在水库论坛(Shuiku.net)上讨论问题很容易。因为大家都懂得一些基本知识。就像X2-2Y2=1是双曲线一样。\\n在水库论坛上，你要讲砖本位，CEO盘，笋，药单，初房情节，DS流，文科生小编，航母，A8…………这些术语和单词几乎是顺手拈来，每个人都看得懂。\\n \\n\\n但是，如果我们想写一本书。你不能假设初次阅读者，懂得“2N”的道理。\\n所以我们就要花上整整一篇篇幅，解释“长颈鹿”。然后把长颈鹿的精神，溶入到每一篇文章中去。\\n我统计了一下篇幅，发现大大超出意外。\\n首先我们解释一下，炒楼分三个阶段：\\n筑基\\n明悟\\n天诛\\n这三个词本身没有多大的意义，甚至只是当时一句戏言。但他们的确代表着几个转折领。分别是第1套，第6套，第16套。在这个位置上，你会遇到瓶颈。而突破之后，整个模式都会不同。\\n如果我们简单介绍这本书。则他分5个部分。\\n基础知识，160篇\\n筑基，80篇\\n明悟，40篇\\n天诛，20篇\\n云清，10篇\\n其中，首先把所有“经济学”的专业文章全部剥去，无论是讲利率，汇率，货币关系，存款准备金率，次贷算法………任何专业的东西都剥掉。“体”全部都不讲，你只要接受公式就行了。想要问为什么，另外再起订阅号。\\n这样，剩下的篇幅，恐怕还有160篇。全部都是“基础知识”。从什么是x，什么是平方，什么是坐标轴说起。\\n但是，很多人关心的并不是“基础理论”。而是怎样帮他们赚钱，赚快钱。\\n譬如说，从微信的内部统计数据，那篇《经济学》的阅读量，就只有平时的一半。\\n人们不喜欢枯燥的学习知识，人们只喜欢八卦。\\n\\n如果你坚持写160篇“普及知识”，恐怕人都跑光了。这个微信号也没有人看。\\n所以我们还得跳着写。写几篇打基础的“用”，还得先写赚快钱的“术”。\\n按流程，下一篇应该写《经济学第一定律》。但纯学术已经没人看了。所以我们还得先写一篇应景的《降息对房价的影响》。\\n当然其水准，也足以秒杀目前绝大多数学院派大师的。\\n对于编号，我们是插着编的。基础知识是1~199，后几个阶段是200~299，300~399，400~499，500~599。\\n也就是说，《降息对房价的影响》，编号将是#3000\\n那为什么要加一个0呢，#10，#20，#30这样的编号呢。那是为了插补。\\n\\n四）最后的问题\\n最后，还有一个问题。为什么越到后面，篇幅越少呢。为什么绝世武功，往往只有寥寥几十个字呢。\\n因为一个到了“天诛”阶段的职业炒家，他对于炒房这一行已经非常熟悉了。该懂的全都懂了，再也没什么东西可教他。\\n而他对于基础知识，也已经非常的了解。若再要沟通，直接三言二语就够了。\\n这个时候，还能够百尺竿头更进一步的，往往只是一二句话，一二句突破口。\\n欧阳锋如果要练《九阴真经》，几句话一个指点就行了。\\n爱因斯坦曾经花了后半生的努力，来寻求万物理论。物理界公认，这个理论是个公式，可以写在一指长的纸条上。\\n一指长175px，狭义相对论的公式是E=MC2\\n广义相对论的公式是: Rμν-（1/2）gμνR=(8G/c4)Tμν\\n生物学的公式是八个字:“物竞天择，适者生存”。\\n现在物理学孜孜以求的公式，也是类似长度，可是爱因斯坦就是求不出来。\\n简单吧，很简单，一共十几个字符。\\n写这些话干嘛呢，因为下一步的路，我也不知道。\\n"}'));jctx.push(JSON.parse('{"id": "180520", "tag": "book", "text": "# 经济学第一定律50\\n\\n经济学第一定律是什么，dT>0，这里的T代表交易。\\n\\n一)国民财富\\n如果以1773年《国富论》出版，作为经济学科技树萌芽的标志。则亚当·斯密斯将他呈献给英王的时候，有一个问题是无论如何绕不过去的。\\n“尊敬的先生，你号称经济学能让我们的国家变得更富裕。可是纺织女工织布，农夫耕作。你一不织布、二不耕地，请问你创造的财富，从何而来？”\\n这是一个大是大非的问题。也是后世几百年国力强盛的分水岭。这么多年的歧视商人，打击投机倒把，割资本主义尾巴。乃至于今天的环保恐怖主义，人权圣母B，福利懒虫绿教泛滥。全都和他有关。这是个核心问题。\\n这个问题的正确回答：“先生，财富来自于交易”。\\n我们知道，财富，并不仅仅是简单的相加关系。\\n一个樵夫有一把小提琴，一个音乐家有一柄斧子，他们(二人）的财富，并不是简单的“小提琴+斧子”。\\n一定要非得到樵夫和音乐家见面了，二人互相“交易”。樵夫拿到斧子，音乐家拿到琴，财富才算最大化。\\n一个沙漠中的部落，可能拥有大量的石油，可却没有蔬菜水果。\\n一个桃花源中的部落，可能拥有蔬菜水果，可却没有石油。\\n二者交换。“总财富”才能最大化。为此，我们甚至不惜加点损耗，修条铁路。\\n当国王问到AdamSmith，“纺工织布，农夫耕田”时。其实“布+米”的财富，并不是国民财富的最大化。\\n“布+米+交易”，才是国民财富的最大化。\\n参考文献：铅笔社立社精神之本《铅笔的故事》[1]\\n\\n二)不动量\\n我们习惯用“不动量”来分析问题。\\nA有一个苹果，B有一个梨。无论你左看右看多少遍。其物理财富也是“一个苹果+一个梨”。\\n只有当A和B见面了。A喜欢吃梨不喜欢苹果，B喜欢苹果。二者交换。则“财富总量”才可以增加。\\n可是这个时候，财富又达到最大化了。不可能再增加。因为再也想不出“新的交易”。\\n除非这时候，再出现一个C。C喜欢吃苹果和梨，但有很多桔子。用桔子把梨苹果都换了。\\n可见，在整个系统中：\\n有了交易，财富就会增加。\\n没有交易，财富就不会增加。\\n如果广义地把上班也理解成为一种交易。是“用你的8小时”换“雇主的工资”，则人类的全部生产活动，全部财富，可以理解成一个公式：dT>0.\\n有多少交易，就有多少财富。\\n交易越多，财富越多。\\n当你再也找不出任何交易机会时。财富达到最大化。这就是帕累托极限。[2]\\n这是一条非常非常强大的定律。强大到象“能量守恒定律”一样坚不可摧。\\n因为他并不是一条宏观定律，而是一条微观定律。不仅对大社团有效，拆散到每一个环节，每一个步骤，每一个场景，他都是有效的。\\n“交易”就象小草，在任何一个不起眼的角落生长开来，都会使得我们的社会更美好。任何一个角落交易多了，全社会财富都会增加。\\n所谓宏观，无非无数个微观累加。“能量守恒定律”并非在航天宇宙飞船上有效，他在飞船的每一个零件都有效。\\n当你学会了dT>0，秉承了“经济学第一定律”的精神，你再去看看目前的教科书，包括最近40年历届的诺贝尔经济学奖。其中一大半是错的，一大半可以直接扔进垃圾堆里。\\n因为dT>0，交易产生财富，有多少交易，产生多少财富。\\n不增加交易，就不增加财富。\\n然后你再翻翻这些经济学著作，譬如去年的法国人诺奖得主“反垄断法”。你再问问前几年的工会与博弈，环保与管制。你只要简单地问他们一句：“交易增加了么”？\\n对于那些玄而又玄的计量经济学公式，洋洋洒洒的几千页论文。指手画脚的经济学高参。你只要简单地问他们一句：“先生，您既不耕地也不织布，请问您是怎样为我们的国家增加财富的”。\\n拥有了经济学第一定律：dT>0，简直就象拥有了“能量守恒定律”大杀器，然后穿越回到十五世纪。\\n你拿起来看看十五世纪的论文，永动机或者炼金术，一大半都可以直接扔进垃圾堆。擦靴子。\\n\\n三)现实的世界\\n如果哪一天你被请去了清华大学教授经济学，你只要在黑板上写一个公式:dT>0.\\n然后就可以宣布散会了。学生们都可以回家去了。经济学这门课程就讲完了，剩下的20个课时都不用上了。\\n因为经济学只要求追逐T“交易”最大化。当你把一个社会所有能交易的事情都想遍了，再也找不出任何“新”的交易。则自然国家最富，达到了帕累托最优。\\n可是，那么多经济学宏篇巨著。洋洋洒洒几千万部巨著，他们说的都是啥。\\n这说的都是啥？\\n千万部巨著，说的是，当你达不到最优时。你该想到什么补救办法。当你打了1个补丁，就要要再打100个补丁。当你打了100个补丁，你就需要再打10000个补丁。\\n举个例子。凡是发展中国家，政府都很喜欢压低汇率。以刺激出口。这就是第一个补丁。\\n当你打了第一个补丁之后，市场之上就会出现很多热钱，来冲击你的汇率。还会有地下钱庄，来偷偷汇款进出。这时候你就需要“外汇管制法”和“汇款实名制”。这是第二轮管制。\\n当有了外汇管制和存款实名，就会有各种各样的洗钱机构，BVI公司和VIE代持。为了管制这些手法，你需要建立庞大的警察机构和合规律师团体。这就是第三轮管制。\\n最终把你的政府撑得庞大不堪。1个管制带来100个管制，100个带来10000个。\\n而经济学家也顺便找到了工作。因为“外汇”“FDI”“资本流动”“法律法规”，每一个都可以展开写上NNN万字。于是“专家”们不会失业了。\\n经济学可以很简单，简单到只要一个公式：dT>0\\n顺着这个公式去做，国家就会大富。掌握了能量守恒定律，你会发现“国家财经顾问”的绝大多数建议都是谬误。\\n经济学也可以很复杂。“地心说”曾经在地球仪上套了46个光圈，来修正学说的误差。今天的情况也差不多。\\n为什么会这样？为什么人类会“不作死就不会死”，搞到生产力倒退。\\n下篇再说。\\n\\n譬如说，你知道“限购”这件事，是怎么出台的么。\\n（yevon_ou@163.com,2015年3月23日午）\\n\\n[1]《里德：铅笔的故事》http://finance.ifeng.com/opinion/xzsuibi/20111129/5161616.shtml\\n[2]插一句题外话。以前教科书上写帕累托最优是三重解。生产者最优+消费者最优+分配者最优，这纯粹是看书不甚求解。这三重解其实是一回事。是更底层同一条规则，dT=0\\n"}'));jctx.push(JSON.parse('{"id": "180602", "tag": "book", "text": "# 日本宪制史\\n\\n我们首先要建立一个关于日本的模型。日本在东亚和世界都是非常特殊的。大体上来讲，它是一个小欧洲。简单粗暴地说，日本分为两个部分，关西和关东。直到现在，关西和关东仍然有很多不同，包括它们发电机的频率都不一样，关西和关东相互歧视、相互嘲弄的段子是非常之多的。这两个部分的差异也是从历史的黎明就开始的。我们都知道，日本在它的先史时代是经历过一次替换的。最古老的居民可能是跟东南亚和南岛血统比较接近的绳文文化的居民，以北部和东北部为中心。越往北，人口密度越高。在接近北海道的地方，尤其是接近海岸线的地方，人口密度最高。即将进入历史时期的时候，来自亚洲大陆的新一代移民，通常称为弥生文化，从西部进入日本，然后情况就颠倒过来了：西部的人口密度最高，大和和北九州的人口密度最高；北方的人口密度很低，越往北，人口密度越低。这实际上是两种不同性质的文明。我们所知道的日本，是建立在这个二元对立的基础上的。\\n\\n同时，东北和西南两者，形势上也不一样。在有历史的日本这个时期内，东北部，或者是所谓的关东，相当于是欧洲的日耳曼地区；西部，以美浓不破关为界，包括京都、奈良在内的这整个西部，是相当于拉丁欧洲的格局。如果你去寻找日本的古典文化财富，那你就会发现，除了东京以外，关东基本上没有，绝大部分历史文化遗迹都集中在关西。关东对于日本来说是一个未开发地区。日本历史的前半期，关西和朝鲜半岛南部是联系在一起的，而关东则是在种族上和文化上都非常疏远的地区。而日本的武家政体基本上是开拓者的产物，相当于是拉丁的欧洲开发日耳曼的欧洲，或者是欧洲人开发美洲一样。封建主义跟军事殖民的关系一向非常密切，也是关东开拓的自然结果。这是日本历史的第一个二元结构：北方和东方像是日耳曼；南方和西方像是拉丁欧洲或者旧欧洲，或者更确切地说，像地中海世界，因为它不仅像拉丁欧洲，还包括了北非和西亚，濑户内海就相当于是日本的地中海。日本有一个小小的地中海，这是整个亚洲大陆都不具备的形势。\\n\\n二元结构贯穿了整个日本的历史和文化。地理和地缘是一个方面，文化和结构也是一方面。跟南岛或东南亚有关系的这种文化，它的主要特点是祭祀和祭司的文化。最早的天皇就是祭司。“天皇”这个词包含的一个含义就是清净和洁净。在《古事记》（注：712年成书）这样的日本神话当中，日本最早的诸神，天照大神和她的同僚们，主要的功能就是拔除凶秽。凶秽包括腐烂的尸体、疾病和其他一切肮脏的东西。高天原是一个极度洁净的地方，诸神是洁净的来源。而天照大神那个喜欢调皮捣蛋的弟弟，就是因为把各种乱七八糟的脏东西拿来折腾，才被诸神赶出了高天原。而他的被驱逐，导致了日本民族的诞生。这个被驱逐事件在日本的文化当中的意义，差不多就像亚当和夏娃被逐出伊甸园一样。被驱逐者到下界以后，产生了大国主命和出云系的诸神。然后天照大神的子孙——所谓的天孙民族进入出云以后，征服了大国主命和他的子孙。所以日本现在的诸神也包括天孙系和出云系这两个部分。两者的差别是很明显的，甚至在德川时代产生了两种不同的神道学。\\n\\n如果把这个过程对换到历史当中，那就可以看出，日本真正最早的原住民，在文化上跟太平洋列岛和东南亚的居民非常相似的原住民，他们基本上是祭祀民族，祭祀的主要功能就是洁净。欧洲人十九世纪到太平洋群岛的时候就惊讶地发现，在他们见过的所有民族当中，太平洋群岛的居民的清洁程度是最高的，甚至比欧洲人自己还要清洁。他们是那种一天不洗澡就要觉得浑身不舒服的角色，而且认为不够清洁是宗教上和道德上的罪恶。这跟原始日本人的特征是非常相似的。而后来建立弥生文化的那些日本人，就考古学来说，是所谓古坟时代(250~538)的中期，给日本文化的风格带来了另外一种特征：以前基本上是以祭祀为主，以后则增加了很多军事上的内容，所谓的“铜利”之类的东西。古坟时代的早期，是很少有那些具有内亚风格的物品和跟军事有关的色彩的。这就是日本历史、政治和文化的第二个二元对立：祭祀的国家和军事的国家的二元对立。后期日本的历史也是围绕着这个二元对立展开的，但是一般人没有注意到，这个二元对立其实是在日本历史的最早期就已经开始了。\\n\\n天皇本人也有他自己的二元角色。一方面，他是神的嫡系。在神道学当中，所有的日本人都是一家，都是神明的后代，但是天皇是长房和嫡系，贵族是比较接近的支系，一般的老百姓就是平民了，虽然也是神的后裔，但是是神的小宗和支系。天皇的祭祀作用无疑是第一位的，但是他也是有双重作用的，就从天皇的三大宝器就可以看出，他既是祭司的领袖，又是武士的领袖，而最早的天皇是在这两个角色之间交替转换的。天皇的二元性又产生出了国家体制的二元性。日本国家体制的二元性是一个不对等二元性。所谓“不对等”是这个意思：第一，它是二元的，二元中间，一元是名，一元是实；然后名的一元当中又会产生出小的二元，这个二元当中又是有名有实，实的二元当中又会产生出另一个小的二元，这个二元又是有名有实。名和实之间不对称，但是每一个不对称都会产生出新的不对称的二元结构。这个也是从日本历史的黎明就开始的。\\n\\n我们所知道的最早的日本，就是历史的日本，不同于以虾夷人为代表的那个土族民族的日本，是在九州的北部和本州的西部首先开始的。这时候最早出现的天皇，是在两个角色中间来回转换。一般来说是会出上几代像雄略天皇（注：456~479在位）那样武功出众的天皇，然后又会出上几代非常热爱和平、以祭司和文化提倡者为特征的天皇，两者之间不断交替。这时候的天皇还没有“天皇”的称号，在推古时代（注：推古天皇，592~628在位）以后，天皇才会得到“天皇”这样的称号，而这个称号的产生就是日本国家体制正式出现的结果。日本国家体制出现的第一个结果就是，原先由天皇一人承担的两种职能，在未来的律令制国家当中一分为二了。不过现在还不用讲到这一步，我们回过头去，首先讲历史的黎明，就是对应于古坟时代。\\n\\n古坟是一个比金字塔还要巨大的建筑物。按照主流考古学家的意见，这是日本古代氏族首领埋葬的地方，也是新任氏族首领举行就职仪式的地方。当时的日本是未来天皇家族和地方豪族构成的一个类似君合国的联邦性的实体，照律令时代的说法就是天皇和部民：天皇的家族就是雄略天皇(418~479)或者神功皇后(169~269)他们的那个家族，而部民就是后来苏我家族或者物部家族的那些部民。部民不是纯粹的血统集团，因为它包含了许多渡来人，而且联结的方式也不是真实的血统。部民和天皇之间是属人的联系，而不是属地的联系。部分原因大概是因为，当时是属于人少地多的时代，要找新的土地不是很困难，但是要得到新的人口，难度就会比较大，得到新的人口是社会得以发展的一个重要因素，而要得到新的土地，相对来说就会比较容易。\\n\\n部民有土地，但是土地对他们来说可能不是最重要的财产，他们自己的礼器、法器和生产技术才是最重要的财产。有些比较小的部就是专门从事某一个行业的，比如说制造某种工具的部或者生产某种产品的部。它们可以改变它们的地理位置，也可以分到或者得到新的土地，但是不大会改变它们的职业传统。像物部氏这个在《万叶集》中有特殊地位的部，所谓“物部大臣盾，高擎号令雄”（注：《万叶集》卷1，第76首），它最早的特点可能就是为天皇和为整个社会保存那些与武器有关的资源。“物部”实际上翻译出来的意思，就大概相当于是储藏室或者说是后勤部的意思。\\n\\n"}'));jctx.push(JSON.parse('{"id": "180603", "tag": "book", "text": "# 多与空的分歧\\n\\n买方和卖方成交后，才会有成交量。成交量的本质就是多空双方的分歧。成交量大小取决于力量较小的一方。\\n\\n1. 无量涨停：多空双方分歧小，持有者（潜在的空方）不愿意卖出，多方占绝对优势。\\n\\n2. 上涨趋势中，成交量很温和，没有放量：空方不愿意卖出，多空分歧较小，未来继续上涨的可能性较大。\\n在股市中，股票的持有者是潜在的空方，而现金持有者是潜在的多方。因为你持有股票的话，你唯一能对股价产生影响的行为就是卖出，不管你看空还是看多。反之，现金持有者对股价产生影响的行为只有买入。\\n\\n3. 上涨趋势中，成交量急剧放大：随着价格抬升，多空分歧剧烈，越来越多的持有者在卖出股票。虽然多方暂时获胜，但也许股价只是强弩之末。\\n\\n4. 下跌趋势中，成交量萎缩：买方不足，而并不是卖方无力。多空分歧小，未来继续下跌可能性大。\\n\\n5. 下跌趋势的末期，出现放量:多空分歧加大，可能下跌趋势即将结束。\\n特别注意的是，下跌初期放量并不意味着将要上涨。\\n\\n看成交量的时候，我们还要关注谁和谁发生了分歧？我们需要站在特立独行的机构一方，而不是随波逐流的散户那边。\\n要分辨谁和谁发生了分歧，最简单的就是看分歧发生的位置。\\n比如，在一轮下跌趋势的初期，此时成交量很大是坏事，因为墨守成规的大多是散户。\\n\\n但如果下跌趋势已经形成，此时市场出现分歧，即成交量变大，大多是好事。因为心灰意冷的散户从来不会带领趋势的改变。\\n\\n股谚有云：市场走坏时，地量是地狱；市场走好时，地量是天堂；市场震荡时，先缩到地量再放量是向好的信号。\\n"}'));jctx.push(JSON.parse('{"id": "180615", "tag": "think", "text": "# 明朝与文官集团\\n\\n对明史的一些理解，不贴史料更多是一些论述性的东西。\\n\\n明太祖立国大杀功臣集团，对官僚集团也是异常残酷，俸禄为历朝最少，剥皮实草戴枷上堂都是只在这一朝独有的特点。也许正是这种苛法，也为后来的反噬做了铺垫吧。建文帝即位，本来是对文官集团的一次修好，但是成祖起兵与燕，凭着朵颜三卫不4年打下南京，后更大杀方孝孺十族，其一朝武力强盛，文官集团自然被压得抬不起头来。\\n\\n但是武力是很难持久的，随着天下承平，后来的统治者一定会趋于文弱，所以仁宣之治一方面是皇帝本人向平均线的回归，获得治世之誉也是文人集团对历史纠正的一次行动。\\n\\n土木堡之变是明朝早期一次大的转折，皇帝对于太监的宠信原因不详，但随着兵败，皇权失去了京畿26卫（太祖上12卫，成祖增10卫，宣宗增4卫）中21卫的控制权，仅留下锦衣卫为皇帝统领、腾骧左右卫、武骧左右卫未撤，其余归兵部辖下。\\n\\n随后皇权逐渐衰落，到弘治朝更是成了文官集团最喜爱的傀儡皇帝。其子正德帝意图再染兵权，却不幸因落水而死，这落水极大可能是文官集团的反制。\\n\\n嘉靖朝大礼议，是皇权和文官集团的一次激烈冲突，本以为扶藩王入继大统可以回到隆庆朝的风气，但嘉靖是聪明人，以炼丹为名消极抵抗，在位45年算是高寿，炼丹一说真伪我是有疑问的。在位期间发生宫女试图勒杀的奇事，有言是文官集团在背后指使，证据不足且存疑。\\n\\n万历朝的张居正算是文官中的异类，非其改革王朝恐怕早50年便要终结。"}'));jctx.push(JSON.parse('{"id": "180902", "tag": "think", "text": "# 伊斯兰国家的传承\\n\\n世说穆罕默德雄才伟略，不得观。但死后四大哈里发不得善终者二，并不稳固。按时间线共有3个大的王朝分别是：\\n\\n1. 倭马亚王朝，白衣大食，逊尼派，661-750。\\n2. 阿拔斯王朝，黑衣大食，750-1258。都巴格达。\\n3. 奥斯曼帝国，1299-1922。都伊斯坦布尔\\n\\n另有两个支线王朝：\\n\\n1. 法蒂玛王朝，绿衣大食，什叶派，909-1171。都开罗\\n2. 阿尤布王朝，1171-1250。都开罗\\n\\n倭马亚立足叙利亚享国近百年，却幅员辽阔。有名的普瓦捷之战便在此朝，此战后扩张也被终止了。由于朝内反对势力太盛，终被被阿拔斯朝取代，地处伊朗，官僚集团大量波斯化。稍晚一点有法蒂玛王朝，但只是一方割据，未能占据正朔。至元朝阿拔斯为旭烈兀(拖雷子)所灭，稍后就进入了最强盛的奥斯曼帝国。\\n\\n从蒙古灭亡阿拔斯王朝后，传统上的阿拉伯帝国就不复存在了。奥斯曼和其它几个阿拉伯帝国不同，它是消灭了东罗马帝国后，定都于君士坦丁堡，且以东罗马帝国的继承人自居。随后突厥人更是在文件上融合了伊斯兰教，但仍以教徒自居。"}'));jctx.push(JSON.parse('{"id": "180910", "tag": "design", "text": "# 用数组实现链表\\n\\n为每个链表元素分配一次空间对有洁癖的我来说太过累赘，更倾向用数组的连续性来得到这个特性。\\n\\n直到看到s9的实现，才明白该其中决窍，引入一个和真实元素等长的标记可用数组，我称之为canuse，下标表示当前数组已使用或分配了多少个，再用一个整型值记录当前used个数。多出的canuse数组，类型选项uin8的话，可以将空间占用压到最少，代价就是每个块只有255，如果不够换uint16绰绰有余了。\\n\\n初始化用canuse[i]=i。每次增加元素，只要used没到上限，自增后从对应canuse位置取得真正可用块。释放则反过来，把分配块的下标，放在canuse[used]位置，再将used减1，不需要释放内存。\\n\\n上面的释放过程结束后，canuse数组元素内容从初始的顺序变乱序，但元素不会重复。这也要求决不允许同一个元素释放两次，目前没有做内部保护，要在外面清理。\\n\\n另一点稍微不方便的是，分配出去的块，必须要记住在数组的什么位置，否则归还时无法建立正确的映射。"}'));jctx.push(JSON.parse('{"id": "181103", "tag": "design", "text": "# 字符编码与字体映射\\n\\n早期计算机的字符编码基本上都是6位。所以早期计算机的整形的字长一般是6的倍数，如18位、24位、36位等。1963年公布的ASCII码是第一个得到广泛采用的7位字符编码。这时的通信领域的协议采用了第8位做校验纠错用途。但是对于计算机内存来说，校验纠错变得不是必要。因此8位字符编码逐渐出现，用来表示比ASCII码更多的字符。为此，1971年公布的ECMA-35标准，用来规定各种7位或8位字符编码应当遵从的共同规则。随后ECMA-35被采纳为ISO 2022。\\n\\n\\n字符编码追求的是\\n\\n1. 表示的字符足够多\\n2. 表示常用意思时占用内存足够小\\n\\n汉字有GB2312和Unicode编码，字符编码是字符的数字表示，一套字符集相当于一个命名空间，空间里的每一个元素代表一个唯一的字符。不同字符编码方式对应同一个字符的字面值不同。区位码的「区位」即「row-cell」，日语称「区点」\\n\\nGB2312釆用94x94的区位码，顺带一句日语的JIS0208也是94x94。符合ISO2022定义的用7位双字节编码（共128*128），为了避开ASCII编码中的控制字符（0~31和127DEL）以及空格符（32），最后只剩下94位可用。至于0x9A~0xFF这些空间是国标码变形后得来的。设计时采用的是区位码，有了区位码才会在编码空间上作映射。区位定义：\\n\\n* 01-09区为特殊符号。\\n* 16-55区为一级汉字，按拼音排序。\\n* 56-87区为二级汉字，按部首/笔画排序。\\n* 10-15区及88-94区则未有编码。\\n\\n共计72区的汉字，在区码为215，位码为250-254之间共五个编码没有汉字编码，所以一共72x94-5=6763个汉字。\\n\\n不管选哪种，最终用黑体字比如simhei.ttf都能正确渲染，原理如下。\\n\\n首先字体内部是有一个自己的编码号的，用于索引图元（Glyph），但是外界不会知道它。字体内部的各种数据比如 GSUB 和 GPOS 都是用这个索引号编的。\\n\\n将图元和文字关联起来的东西是 cmap 表，这表的格式十分多，用来支持不同的外部编码：最常用的 UCS-2 外部编码（FontForge 里面称 UnicodeBMP）使用 Format 4，UCS-4 外部编码（FontForge 称 UnicodeFull）使用 Format 8、Format 12 等。\\n\\n然后是绘图的时候，WINAPI 或者其他的 API 会对文字编码进行转换。Windows 是默认把其他编码转换成 UTF16LE ，兼容早前版本API用的UCS2格式。"}'));jctx.push(JSON.parse('{"id": "181115", "tag": "book", "text": "# 交出思考的权利\\n\\n现成的思想背后往往隐藏着谋划已久的目的，要不要交出自己思考的权利，确实不是一个愚蠢的问题\\n\\n1905年，是平常的一年。摇摇欲坠的大清国国事依旧羁縻。前一年爆发了日俄之间的战争，战场却设在了中国，还是清王朝的龙兴之地；大清国却只能饬令吉林将军“厚集兵力，严守中立。”祖宗的龙兴之地，领主从毛熊换成了鬼子；努尔哈赤的后代们却只争来了一纸《关于清国人入学之公私立学校之规程》的取缔清国留学生规程。1905年也是不平常的一年，这一年两位对中国影响深远的年轻人献出了他们年轻的生命。一位是年仅20岁的邹容；一位是才入而立之年的陈天华。一位死在了英租界的大狱中，一位跳入了碧波荡漾的日本海。\\n\\n出身富户的邹容善造风潮、创办《苏报》、暗结英日为后劲、每以“杀尽满人”自勉；其文章语言跳朗搏跃，情绪高亢激烈。“虽玩懦之夫，目睹其事，耳闻其语，无不面赤耳热，心跳肺张。” 其宣传煽动，渲染夸张可见一斑。观其成名作《革命军》也无甚史德史识，也无独立思考，专以诉诸情绪、诗意表述、鼓动民众向某些特定的人交出自己本不自觉的思考权利为职事；近代维新派诗人蒋智由称之为“热的文章”。家境贫寒的陈天华则性情恰恰相反，他常怀悲苦，眼冷心热。在亲眼目睹革命团体内部的推诿与倾轧后，他从《猛回头》、《警世钟》的热切转向了《绝命书》的冷静；并试图以死亡这种决绝的姿态提醒与告诫同道“坚韧奉公，力学爱国”。极易动情、动辄流泪的他，写出了“凡做一事，须远瞩百年，不可徒任一时感触而一切不顾”、“一哄之政策，以后再不宜于中国矣”的自省与告诫。经过对革命本身的审视与反思，他以自己的生命为代价劝革命同道们独立思考，刻苦学习，徐以养成实力，丕兴国家。\\n\\n性情激越，倡言杀人的邹容去世后哀荣备至，发现其利用价值的革命家们对他大肆吹捧；辛亥事成后，孙中山即以大总统的名义追赠邹容大将军；劝人冷静、以死劝世的陈天华投海后，他的同志们将他称为烈士，并为他在岳麓山举行了盛大的安葬仪式。唯独对于他生前留下的那份充满自省与告诫的“切要之言”却无一人听取。甚至他的自杀也被革命的同志解释为对政府的抗议。至于他所深为忧虑的那些“不顾一切”的行为，“理直气壮”的发难，脱离实际的“一哄之政策”，更是史不绝书。\\n\\n## 1\\n\\n1936年8月5日夜，鲁迅先生拖着久病的身体写了一篇题为《答徐懋庸并关于抗日统一战线问题》的文章。25日之后，仍不解恨的鲁迅先后写信给欧阳山、杨霁云、台静农等人说：“真不懂徐懋庸为什么竟如此昏蛋，忽以文坛皇帝自居，明知我病到不能读写，却骂上门来，大有抄家之意。”\\n\\n被骂的徐懋庸是“左联”的常委和秘书长，专门负责联系鲁迅的。鲁迅的这份公开信算是对左联的“革命家”们的彻底决裂和强烈反击。“左联”之于鲁迅，犹如儿子之于父亲；这个组织是他一手看着组建起来的，同时也为这个组织倾注了大量的心血。1929年，中共征得鲁迅的同意后组建了这个以鲁迅为领袖，以一些左翼作家和鲁迅身边的青年作家为核心的组织。\\n\\n可能因着“铸剑复仇”的战士性格与审美意识；对论敌向来以“死也不放过一个”的睚眦必报著称的鲁迅，对这些年轻人出奇的宽容。虽然他对革命的后果包括共产党掌权后他的命运一直都不乏警惕，但他依然热情的提倡和向往着革命，并且全力以赴的支持革命和那些献身革命的年轻人。对现状的极端失望导致了他对一场摧枯拉朽、涤荡污浊；能够迅速改变现状的暴风雨的满怀期待。越来越倾向于暴力革命的他把希望寄托在了共产党和红军一边。\\n\\n然而，在他生命的最后几年里，这种希望在他的心里可以说彻底破灭了。1933年，共产党给“左联”委任了一位党团书记，主持“左联”的工作。这位党团书记后来有一个天下闻名的绰号：文艺沙皇。诨名文艺沙皇的周扬以政治才干见长。他充分利用了这种组织的行政化的有效性，在极短的时间内，把“左联”甚至整个“文委”都变得清一色；一批青年知识者忠诚地围绕在他的周围，随时为他所用。\\n\\n周扬初期还能对鲁迅保持表面上的尊重，但很快事情就发生了变化。随着他与宣传部长胡风在工作上的分歧越来越大，志在统一思想的周扬对信任胡风的鲁迅也越来越不尊重。从1934年开始，“左联”有关人士对鲁迅的批驳文章越来越多，说他“懒”，“不做事”，“不写文章”等等，后来甚至散布一种空气，说他“破坏统一战线”；甚至后来做出“左联”解散的决定也没有征询“精神领袖”鲁迅的意思。\\n\\n直至徐懋庸以书信致鲁迅，提醒鲁迅不要相信胡风，并隐晦的劝鲁迅从思想和组织上服从周扬的领导，彻底激怒了鲁迅。“我憎恶那些拿了鞭子专门鞭扑别人的人们。”“有些手执皮鞭，乱打苦工的背脊，自以为是革命的大人物，我深恶之，他其实是取了工头的立场而已。” “唱高调就是官僚主义”这样的反击喷薄而出。毫无疑问，鲁迅并不屑于跟这种以组织自居，志在统一文坛，做“文坛皇帝”的做派，自己不做事，却专责以别人不做事，役使别人，监督别人的行为；对于不听指挥者，则动辄加以罪名，以至以“实际解决”相威胁的人和组织完全契合的。\\n\\n吊诡的是鲁迅去世后，并不尊重他的周扬却做了很多年鲁迅研究会的会长，而且每逢鲁迅研讨会都要讲话，以正统自居；官方史料也有意无意的将二人之间的矛盾，解释为一种工作中的误解。而鲁迅所喜欢的胡风则在历次运动中脱尽了皮。\\n\\n在这种似有似无的掩盖中人们也逐渐忽略了鲁迅与周扬矛盾中更深刻的原因：鲁迅认同某一战略目标，但不愿交出独立思考的权利，无意成为某个庞大的政治集团或国家机器的“螺丝钉”。\\n\\n## 2\\n\\n1957年，教员前往上海小住。依照惯例在上海中苏友好大厦接见了周谷成、罗稷南等几位老友。时值反右，文化界风声鹤唳，性情直率的罗稷南老先生抽了个空隙，向教员提出了一个大胆的设想疑问：要是今天鲁迅还活着，他可能会怎样？教员对这样一个设想的问题十分认真的沉思了片刻，回答说：以我的估计，（鲁迅）要么是关在牢里还是要写，要么他识大体不做声。罗稷南先生顿时惊出一身冷汗，不敢再做声。\\n\\n很多讨论反右的文章和书籍里都提到这次座谈会中教员对罗老先生设问的这番回答，以此说明教员生性一贯的冷峻。受这些材料的影响，大多数人也都这么认为；跟教员打发儿子去朝鲜是为了接班的说法一样在社会上大有市场，即使在对教员充满敬意的人中间这种说法也并不鲜见。\\n\\n其实教员的这句话应该跟他的另一句话联系起来看。文革前夕，决意跟党的机器决裂的教员给江青回了一封信。这封有点政治遗嘱性质的信里有一句话：“我和鲁迅的心是相通的。”教员和鲁迅都是少数派，都不愿意向一些人和一些组织交出自己思考的权利，哪怕这些人、这些组织是自己寄予厚望的青年，是自己一手创建的政党。\\n\\n很多党史爱好者们，对于早期共产党的探索和教员彼时的处境都知之甚少也并不感冒。但是这段经历深深的影响了教员；也正是这段历史更反应了教员如炬的目光和坚毅的性情；而不是后来那个被不断书写，不断解读的教员。考察这段历史，不能不注意两个问题：一个是中国的共产主义运动及其内部关系的历史与克里姆林宫之间关系的历史；一个是思想与实际之间的演进关系。能回答这两个问题也就能体会到教员的不易与伟大。\\n\\n众所周知，早期的共产主义运动跟克里姆林宫的关系非常密切；克里姆林宫的一封信甚至都可以改变党的领导。而教员关注农民运动的战略并不是莫斯科所欣赏和预先计划的战略；教员的领导也不是莫斯科所主动选择的。直到遵义会议前，教员在党内的发言权也是非常有限的。\\n\\n克里姆林宫为了显示自己对周围环境的了如指掌，加强对仰望者的精神主宰，做了大量的政治断言；不断预言中国工人阶级运动的高潮已经来到。为维护这些断言的正确性，他们不惜一次次把断言失败的原因归咎于忠实执行自己路线的领导人；从陈独秀到瞿秋白，从李立三到王明；领导换了一茬又一茬，工人运动的高潮硬是没有来到。而在井冈山偷偷摸摸打游击的教员却不断胜利，现实迫使他们不得不想起1927年就写了《湖南农民运动考察报告》的这位教书先生。\\n\\n在他们对农民运动不屑一顾，醉心于发动大城市里的工人进行暴动时，教员选择了坚持自己的判断。他在很长一段时间都是少数派，被讥为“山沟里的马克思主义”、“流寇习气”。从他多年后以国家领导人的身份会见斯大林时那句恨意难平的抱怨就可看出他当年的坚持并不容易。\\n\\n正因为教员知道坚持独立判断的不易，他才在徐懋庸到延安后向他汇报“左联”与鲁迅的情况时对左联的领导作了严厉的批评，这中间包括对他认可的“有一点组织才干”的周扬的批评。长久以来，我们总是宣传或者强调抑或是认定领袖人物的无所不能，一厢情愿的相信他们如戏剧中的那样口授机宜，沉思踱步，激情演说，计上心头，妙语博笑，指挥千军万马，接受万众欢呼；似乎他们动动手指就能拨转历史；而忽略了他们也是人，他们也会被掣肘、被裹胁、被引导、被影响、被代理、被推动、被造就的事实，忽略了聚光圈外的体制条件和环境制约。那双看不见的历史之手始终无处不在，即使睿智的教员也不可能逃脱这样的境况。\\n\\n1957年在反右扩大化的情况下，当他的“温和”，他对鸣放的鼓励，对“人民内部矛盾”提法的固守，还有“恳求宽大”和“阻挡对右派的全面政治迫害”面对彭真、陆定一、总设计师、高个子领导等反右“强硬派”的愤怒时，他的这些认识和建议显得那么的无济于事。在他最终选择迁就这些强硬派，与各方磨合与“妥协”的时候，教员一定想到了1934-1936年的鲁迅。生命的最后日子里，鲁迅被周扬派去的人站在病床前逼着他在别人替他拟好的稿件上签上自己的名字。1957年的周扬正在热火朝天的领导文艺界的反右运动；教员心心念念的“百花齐放百家争鸣”因着这些人的努力变成了所谓引蛇出洞的“阳谋”，而他不能分辩，必须认账，必须加以圆说；如鲁迅一样，教员不得不在这些人做的这篇“文章”上签上了自己的名字。\\n\\n选择在那样一个相对正式的场合，以那样凝重的话语回答罗老先生的设问，我想教员的目的不应该仅仅是吓罗老先生一身冷汗，其中应该更有自己的无奈，对自己的坚持和对那些人的反感。\\n\\n## 3\\n\\n1933年3月23日，已经率领纳粹党完成组阁并初步实现了独裁统治的希特勒为德意志人民颁布了一项法律。这项法律的名字叫《消除人民和国家痛苦法》，他告诉人民独立思考和判断选择是产生痛苦的根源，为了消除人民和国家的痛苦，人民应该自觉出让思考和选择的权利，让领袖替人民痛苦。人民欢欣鼓舞着交出了可怜的权利，以为遇到了救世主。未料到六年后他不但给德国人民也给世界人民带来了一场更深的痛苦。\\n\\n在考察历史，思虑未来时，比起独立的思考，理性的判断往往更喜欢属意于标签的不仅仅有接受纳粹的德国人民。这个世界上关心本质，远瞩百年的人远远没有情绪摇摆，活在当下的人多。对于那些意图在思想和现实上对别人进行谋划、迎合、引导和控制的人，大众从来都缺乏足够的警惕。\\n\\n远的不说，近代以来日本人在中国思想界的谋划迄今为止都鲜为人知。各种光明正大的口号和史实为何如此发展从无人追究。邹容的《革命军》为何做于日本？同盟会为何创于日本？护国、护法战争中为何有日本政界、军界人士忙碌的身影？几乎无人研究。\\n\\n第一次世界大战后的巴黎和会上，中国的外交官们做了极大的努力，他们在和会上的表现可以说是可圈可点，可咏可叹；顾维钧、颜惠庆等人的据理力争也赢得了与会代表的尊敬。最后列强们迁就日本，牺牲中国导致交涉失败，不能归罪于他们。消息传回国内，国人却将卖国的矛头指向了他们。英国人的喉舌《字林西报》刊出分析时局，指出为防止中国学生由和会而对英法美三国产生恶感而应该将学生运动的矛头指向中国政府，从而为他们谋取最大的利益。结果上海爱国社将这篇文章的标题翻译为“西人痛斥卖国贼”，在国内广泛传播。狡猾与糊涂形成鲜明的对比。\\n\\n人民和国家一次又一次为自己的轻信付出沉重的代价。先是外国势力介入，国家四分五裂，军阀拥兵自重，人民流离失所；接着是思想定于一尊，以一人之是非为天下之是非；改革之所以在初期吸引人，就在于他解开了束缚每个人的枷锁，各个阶层甚至每个个体只要愿意都能在建设的大潮中寻找到机会。如今，改革到一定的阶段出现了困难不是因为大家自由发展的机会太多，而是少部分人的机会太多，大家的机会太少；解决问题的办法应该是建立规则，捆住乱动的手，给大家以机会而不是思想定于一尊，捆住大家的手，给寻租的人以权力。\\n\\n1913年，面对国家失去统治基础，有效的管理机能渺不可求，激进党人互相倾轧，版图大大缩小，主权大大削弱的状况；一位杰出人士感叹道，少数豪暴狡狯者在所谓的民政、民权中得利，广大人民则不得安居，刀兵水火，天灾人祸。“共和自共和，幸福何有于吾民也！”\\n\\n说这句话的，不是“不幸而言中”的康有为，而是年轻的李大钊。年轻的共产党人能够成功靠的也不是不要规则想怎么管就怎么管的粗暴干部，而是像教员一样为工农打开思考问题的大门；未来国家的复兴，人民的安乐也不能靠指路的舵手，伟大的灯塔，反腐的英雄而应该靠解放每个人的思想。\\n\\n英国牛津大学著名的思想史家、政治哲学家以赛亚·伯林在与贾汉贝格鲁的谈话中评价马克思主义时有过这么一句：“对于各种观点、社会运动、人们的所作所为，不管出于什么动机，应该考虑他们对谁有利，谁获益最多，这些并非愚蠢的问题。”他自己不是马克思主义者，却对这些问题极为敏感。也是因着这份敏感，他和他的朋友们以思想和学术为武器，把大国政治的博弈引向了有利于犹太人和以色列的一边。\\n\\n现成的思想背后往往隐藏着谋划已久的目的，要不要交出自己思考的权利，这确实不是一个愚蠢的问题！\\n\\n参考文献：\\n\\n罗德里克·麦克法夸尔 《文化大革命的起源》第1卷，香港新世纪出版社，2012年\\n"}'));jctx.push(JSON.parse('{"id": "181201", "tag": "book", "text": "# 赵括的长平\\n\\n战国人肉磨盘。 \\n\\n 一）\\n\\n韩上党郡守冯亭居然选择投降赵国！\\n\\n受降，不受降？前262年，这道极其棘手但又不能不答的选择题，一下子摆在赵孝成王面前。\\n\\n天上不会掉馅饼。冯亭献地归赵，是绝境奇招，但对赵国来说，却是烫手山芋。 \\n\\n3年前，秦军大举攻韩，先后占领了少曲、高平和野王等地，把狭长的韩国从中截断，一分为二。\\n\\n\\n\\n冯亭辖下的韩上党郡，一下子成了韩国飞地，与本土通路被彻底断绝。 \\n\\n韩桓惠王无计可施，决定把上党献给秦国，以求偏安自保。结果，冯亭宁死不降秦，献上党于赵。 \\n\\n这里面的逻辑，好比当年的联合国军准备明天越过\\"三八线\\"，但是朝鲜今晚居然宣布：自愿成为中国的一个省。\\n\\n二）\\n\\n对于从天而降的上党郡，要，还是不要？这是一个严重的问题。\\n\\n赵国的朝堂上乱成一团，各方激辩。 平阳君赵豹认为不能要，这是“嫁其祸于赵”；平原君赵胜却说，“此大利，不可失”，必须要。\\n\\n上党，战略位置太重要了！ \\n\\n它位于晋东南，涵盖今天长治、晋城两市，太行山、太岳山环绕，山地丘陵纵横，地势险要。\\n\\n\\n\\n古老而神秘的上党，号称天下之脊，“俯瞰中州，肘臂河东、并州，则谓晋国咽喉也”。\\n\\n三家分晋后，上党成为必争之地，最终也被一分为三，韩上党、赵上党和魏上党同时并存。\\n\\n前453年到前280年，170多年里，这个韩赵魏“金三角”，纠纷、冲突、战乱不断，成为当时名副其实的“火药桶”。\\n\\n这里，对内是三晋势均力衡的博弈场，对外是三晋稳固坚实的后盾，也是秦国东向的最大绊脚石。\\n\\n它不单关系着三晋存亡，同时也是秦灭三晋统一中国的最大障碍。\\n\\n三）\\n\\n现在，韩上党面对秦军血盆大口，要把自己的17个县、16万多人口，全部献给赵国。\\n\\n经过反复争论，赵国君臣最终作出痛苦决策：明知这是“嫁其祸于赵”，明知这是虎口夺食，但不能不接受韩上党的投降。\\n\\n因为，韩上党靠西，有太行山天然屏障，是真正的战略要冲，易守难攻。而靠东的赵上党，却是一马平川，无险可守。\\n\\n这说明，韩上党一旦被秦所占，赵上党必将失守；赵上党一旦失守，赵国重镇晋阳和国都邯郸必将不保，面临灭国。\\n\\n不接受，必死；接受吧，起码还有一线生机。痛苦的是，接受之后，能不能守得住，赵国君臣心里无底。\\n\\n顾不了那么多了。赵孝成王终于拍板，进军韩上党长平。就这样，秦赵两军终于要短兵相接了。\\n\\n当时，赵军兵力不过50多万，为了守住长平，赵国陆续出兵20多万，由老将廉颇任主帅。\\n\\n四）\\n\\n一方是综合实力极强的超级大国，一方是国力虽弱但军力不容小觑的地区大国，一场影响历史进程的大战，拉开了帷幕。\\n\\n秦强赵弱，是当时两国实力的客观现实。商鞅变法，郡县之制，奖励耕战，短短几十年，秦国一跃成为强国。\\n\\n秦国拥有巴蜀和汉中两大粮仓，总兵力150多万。相反，地处北方四战之地的赵国，国力远弱于秦。\\n\\n赵国北有匈奴，东有强齐，南有悍魏，西有虎秦，常年战事不断，无法安心搞经济建设，但锻造了赵人彪悍风气。\\n\\n赵武灵王时代，“胡服骑射”，实行“先军战略”，经济一般般，但组建了实力强大的骑兵部队。\\n\\n战国中后期，赵国基本国策是：力求避战，万不得已真打起来，也要速战速决，以胜求和，切忌拖成消耗战。\\n\\n\\n五）\\n\\n这个基本国策，就是“完璧归赵”、“渑池相会”、“负荆请罪”等赵国众多精彩典故背后的逻辑。\\n\\n但是，廉颇老矣，在贯彻基本国策上，并没有取得如期效果。两军相接，赵军数战不胜，“亡一裨将、四尉”。\\n\\n山川河流遍布的上党，不利强于骑兵的赵军。老成持重的廉颇，被迫逐渐依靠深沟高垒，偏向固守。\\n\\n一旦固守，赵国必输。赵国只得展开“以败求和”的外交斗争：秘密地既向魏楚求救，又向秦国求和。\\n\\n秦国“远交近攻”的外交策略更狡猾：高调接待赵使，营造双方正在议和假象。魏楚等国听到消息，中止了援赵念头。\\n\\n外交斗争失败了。一年多时间又过去，上党地区的相持，正在一天一天变成赵国最为害怕的消耗战。\\n\\n六）\\n\\n终于，赵国的后勤开始出现危机，“赵人乏食，请栗与齐，齐王弗许”。国力吃撑不起，不能再拖下去了。\\n\\n “赵王以颇失亡多而更怯不战，数让之”。赵孝成王严厉批评廉颇的固守消磨，他决心换将。\\n\\n问题是，换谁？ 强敌、无粮，无援，无盟友，必死之战。\\n\\n临危有命，无人敢应战：李牧要防范匈奴，乐毅年老多病，田单初来乍到…… \\n\\n赵王焦灼的目光，停留在赵括身上。\\n\\n这个年轻人是将门之后，从小接受严格军事训练，是当时赵军最杰出的少壮派将领。\\n\\n国难当头，赵括毫不犹豫，挺身而出，愿意出战。\\n\\n但是，他妈妈死活不答应，跑到赵王面前抹黑儿子，说他自大贪钱，只会空谈，“愿王勿遣”。\\n\\n这只是一个可怜老母亲的私心，她在用尽办法保护自己的儿子。\\n\\n七）\\n\\n赵括匆匆来到前线，立刻“悉更约束，易置军吏”，谋求与秦军决战。\\n\\n但是，历史并无奇迹，他的运气也太差，唯一的战机稍纵即逝，粮草耗尽。\\n\\n他指挥主力准备渡丹水撤退，在此生死关头，恰逢丹水涨潮，无法徒步涉水，大军陷入重围。\\n\\n肥肉到嘴边，秦国当然不会放过，不惜血本增兵：“秦王闻赵食道绝，王自之河内，赐民爵各一级，发年十五以上悉诣长平。”\\n\\n断粮多日的赵军杀光战马，甚至到了杀老弱病残为食，但赵括保持着镇定，想尽办法突围。\\n\\n他派刺客去刺杀秦军主将白起。可惜，仅刺伤；他找了个替身，冒充自己带队往北突围，掩护主力回撤。\\n\\n秦军杀死假赵括后，以为赵括已死，便对真赵括招降。赵括将计就计诈降，亲自带领剩余的敢死队精锐，冲入秦军。\\n\\n想象一下吧，秦赵两国近60万人厮杀拼命，最终有20多万年轻生命在此消逝。\\n\\n长平，成为“战国人肉磨盘”。\\n\\n这些年轻的生命里，包括赵括。惜墨如金的史书，我们读到了这么不经意但极其悲壮的一笔：\\n\\n“赵括出锐卒自博战，秦军射杀赵括。” \\n\\n不像廉颇那样保守消磨，不像李牧、乐毅那样明哲保身，赵括奔赴国难，英勇地冲锋到最后一刻。\\n\\n “赵卒不得食四十六日”，在赵括指挥下，奇迹般没有崩溃，殊死战斗使秦军死伤极惨重，“秦卒死者过半，国内空”。\\n\\n正是这一战，秦国国力过度损耗和军队巨大伤亡，吃到嘴里的上党终究吞不下去，上党又回到三晋手中。\\n\\n正是这一战，使得魏韩楚等国极为恐慌，唇亡齿寒的阴影迫在眉睫，不得不摒弃前嫌，结成联军，彼此救援。\\n\\n直到三十多年后，前 236 年，秦军才终于彻底占据整个上党。至此，前230年，韩亡；前 228 年，赵亡；前 225 年，魏亡。\\n\\n是的，年轻的赵括，长平一战，为三晋续命长达四十年。他，尽力了！\\n\\n## 长平之战，悲壮的赵括，到底有多少兵？\\n\\n我在前文《长平之战》说了4个数字：长平会战，秦军40万，赵军20万；两国可动员总兵力，秦150万，赵50万。\\n\\n然后，收到很多回复，有些人信心爆棚说我“张嘴就来”、“弱智没跑”，如图： \\n\\n二）\\n\\n长平之战两军兵力，主要史书记述很多，特别是赵军数量，如下： \\n\\n白起……又越韩、魏攻强赵，北坑马服，诛屠四十余万之众。——《战国策•秦策三•蔡泽见逐于赵》\\n\\n秦使武安君白起击，大破赵于长平，四十余万尽杀之。——《史记•秦本纪》\\n\\n白起破赵长平，杀卒四十五万。——《史记•六国年表》\\n\\n秦拔赵上党，杀马服子卒四十余万于长平。——《史记•韩世家》\\n\\n廉颇免而赵括代将。秦人围赵括，赵括军降，卒四十余万皆阬之。——《史记•赵世家》\\n\\n括军败，数十万之众遂降秦，秦悉阬之。赵前后所亡凡四十五万。——《史记•廉颇蔺相如列传》附《赵奢传》\\n\\n括军败，卒四十万人降武安君。武安君计曰：“前秦已拔上党，上党民不乐为秦而归赵。赵卒反覆，非尽杀之，恐为乱。”乃挟诈而尽阬之，遗其小者二百四十人归赵。前后斩首虏四十五万人，赵人大震。——《史记•白起王翦列传》\\n\\n赵师大败，卒四十万人皆降。武安君曰：“秦已拔上党，上党民不乐为秦而归赵。赵卒反覆，非尽杀之，恐为乱。”乃挟诈而尽坑杀之，遗其小者二百四十人归赵。前后斩首虏四十五万人，赵人大震。——《资治通鉴》卷五\\n\\n或“诛屠”，或“尽杀之”，或“悉阬之”，用词各有不同，但一致地认定白起杀光赵国降卒“四十余万”、“四十五万”。 \\n\\n扪心自问，这个数字你信吗？很早就有人表示怀疑，认为是夸大了的，不可信的，例如：\\n\\n“长平坑杀四十万人，史言不足信。败则有之，若谓之尽坑四十万人，将几多所在！又赵卒都是百战之士，岂有四十万人肯束手就死？决不可信。”——朱熹《朱子语类》\\n\\n学习无止境。就我目前所见的有限资料，我赞同这种怀疑，这个数字应该是不准确的。\\n\\n三）\\n\\n战国中后期，七国总共有多少人口？史料中无此数字。据杨宽《战国史》分析：战国末年，总人口2000万左右。\\n\\n但具体到各国，也无资料，但可以合理推断：其中，秦国“秦地天下三分之一，而人众不过什三”，占了30%，大约600万人。\\n\\n汉平帝元始二年，公元2年，按《汉书•地理志》，在原秦朝疆域内人口5755万。即，从秦统一到西汉末两百年间，相同地区人口， 自然增长188%。\\n\\n据此，原赵国极盛时代疆域的人口，元始二年约有643万余，减去188%自然增长数，赵国在战国最高人口在220万左右，占10%多一点。 \\n\\n1）秦赵军力\\n\\n各国征兵，凡年满16至60男子都应服兵役；总人口剔除一半女性，男性剔除40%-50%官僚贵族和15岁以下、60岁以上的老小弱病残。\\n\\n长平之战前，赵国兵员潜力最大约为50万；秦国约为150万。这就是两国拥有可动员的最大限度总兵力。\\n\\n但是，可动员总兵力不等于实际拥有的兵力。一个国家，不可能每个成年男子都去打仗，否则，没人种田，没人搞后勤，国家停摆。\\n\\n一般二丁抽一，那么，赵国实际拥有的常备军应该是30万左右，秦国大概75万。\\n\\n战国中期起，各国战争规模日益扩大，一些大国逐渐能够出动10万、20万人参战。\\n\\n秦统一前夕，前223年，灭楚大决战，“空秦国甲士”，王翦统兵60万，为战国用兵最高纪录。\\n\\n时间更早的长平之战，虽然也是秦赵大战，但毕竟不是生死存亡的灭国决战，两国不可能倾全国之兵去打。 \\n\\n2）长平兵力\\n\\n韩上党归赵，到口肥肉被夺，前260年，秦将王龁击上党，赵将廉颇军长平。一开始，只是一场争城夺地战。\\n\\n赵国方面，长平之战前几年，赵军打大仗，往往“必负10万、20万之众”，相国田单曾颇有微词，认为出兵太多“使民不得耕作”。\\n\\n另外，赵国是“四战之国”，边防不能空，都城邯郸要拱卫，长平之战赵国没理由倾国出动，把全部兵力都押出来。\\n\\n合理推断，按赵国惯例，投入长平的军队，撑死了也就20万左右，国家常备军的三分之二。\\n\\n秦国方面，战争初期，主将是王龁，他的官职是左庶长，爵位只有十等，类同今天副军级。\\n\\n那时他又无显赫战功，也没有什么名气，一贯精明的秦国王室，肯定不会轻易派过多军队由他指挥。\\n\\n前225年，两套灭楚方案，王翦用兵60万，李信用兵20万。结果，秦王采纳了李信方案，只肯出兵20万。\\n\\n考虑到王龁与名将廉颇对抗，几次打赢，可见他的兵力一定多于赵军，合理推测在30万左右，秦军的二分之一。\\n\\n3）秦军增兵\\n\\n战争过程中，赵军并无增兵行动。\\n\\n起初，赵军失利，赵王确实想“卷甲而趋之”，增派军队，不料遭到大臣楼昌、虞卿反对而作罢。\\n\\n后来，赵括代替廉颇为将，“括至军，悉更约束，易置军火，出兵击秦师”，也没说他带来援兵。\\n\\n当赵括被彻底包围时，赵和楚齐都发出紧急援军，可惜，都被秦军阻挡，未能进入核心战场。\\n\\n秦国，前期不曾增兵，更换主将白起，“令军中有敢泄武安君将者斩”，采取秘密易帅行动，更不可能增兵。\\n\\n直到白起分割包围赵军，秦王才亲自到达附近河内郡，大张旗鼓征发15岁以上丁壮组成援军，以“遮绝赵救兵及粮食”。\\n\\n秦汉河内郡地域相同，元始二年该郡人口106万，188%增长率，当时人口应在35万左右，能征发新兵约10万。\\n\\n长平会战，赵括的兵不过20万，秦军加上增兵，最多40万。这两个数字，已是往大了算。\\n\\n\\n四）\\n\\n反过来看，所谓秦军“杀赵卒45万”，或者说“活埋”，是无法让人相信的。\\n\\n1）技术难题\\n\\n兵法有“十则围之，五则攻之”原则，如果赵军真有45万，还被包围长让46天，秦军不得有450万人？就算打个四折，也得180万人。\\n\\n显然，这是不现实的。\\n\\n如果不是全国所有成年男子出动，白起再能打仗，就算75万常备军都用上，包围45万赵兵，并将降俘全部杀死，也是不可能的。\\n\\n南京大屠杀，屠杀30 多万人，据说持续长达六周。冷兵器时代，杀40万人，或者活埋，技术上怎么解决？\\n\\n需要多少人执行？需要多少时间？斩杀？射杀？活埋？深坑怎么挖？土方怎么来？赵卒会不会反抗？是否捆绑？绳子怎么来？……\\n\\n2）时人记载\\n\\n总人口只有2000万的时代，短短几天40万人同时死亡，对时人得造成多大的心理冲击呢，“赵人大震”！\\n\\n但是，长平之战同时代的人，绝大多数都无提到过“杀赵卒45万”之事。\\n\\n当事人如白起、范睢、廉颇、赵胜、虞卿等人，在先秦史料记载里，只写到“大收赵师”，“赵军大破”、“死者十之七八”，等等，强调的是赵国吃了个大败仗。\\n\\n荀子、吕不韦、韩非等同时期的大学者，他们的著作，不只一次谈到长平之战，但也无“坑赵卒40万”的描述。\\n\\n荀子本身是赵人，50岁后才离开赵国，《荀子》里只讲到长平之战韩上党地方数百里被秦国夺取，并无提到赵军伤亡人数。\\n\\n长平僵持期间，荀子一度受命去秦国展开外交谈判，他由此见识了“强秦之风”，这段文字极有意思，全文照录：\\n\\n“应侯问孙卿子曰：‘入秦何见？’孙卿子曰：‘入境，观其风俗，其百姓朴，其声乐不流污，其服不挑，甚畏有司而顺，古之民也。及都邑官府，其百吏肃然，莫不恭俭、敦敬、忠信而不楛，古之吏也。入其国，观其士大夫，出于其门，入于公门；出于公门，归于其家，无有私事也；不比周，不朋党，倜然莫不明通而公也，古之士大夫也。观其朝廷，其朝闲，听决百事不留，恬然如无治者，古之朝也。故四世有胜，非幸也，数也。是所见也。故曰：佚而治，约而详，不烦而功，治之至也，秦类之矣。虽然，则有其諰矣。兼是数具者而尽有之，然而县之以王者之功名，则倜倜然其不及远矣！’‘是何也？’‘则其殆无儒邪！故曰粹而王，驳而霸，无一焉而亡。此亦秦之所短也。’”——《荀子·强国篇》\\n\\n他一路所见，秦国民风简朴守法，社会充满活力朝气，官僚机器高效廉洁。更重要的是，秦国剑宗治国，朝野普遍对儒家不感兴趣，“无儒”。\\n\\n荀子是儒家气宗高手，德治派大师，他那一套高大上理论在秦国根本找不到共鸣，外交使命失败，只好酸溜溜说“此亦秦之所短也”。\\n\\n先秦史料里，唯一的孤证，是《战国策•秦策三•蔡泽见逐于赵》里，蔡泽说的话：白起“北坑马服，诛屠四十余万之众”。\\n\\n蔡泽是什么人？说客一个，被赵国驱逐出境，屁颠屁颠跑到秦国求官，这样的人说的话，能有多少可信度？\\n\\n3）战后局势\\n\\n长平之战后不久，秦国又大举伐赵，用兵规模超过长平，“三军之俸，有倍于前”，军队数量也“倍其前”。\\n\\n秦军一度进围邯郸。但是，赵军顽强抵抗，又得到楚魏支援，打得秦军“弃甲负弩，战悚而归”。\\n\\n可见，如果长平之战，赵军真的损失45万，已超出常备军数量、占全国丁壮十分之七八，在几年内，赵国怎能神奇般地再有足够兵员抗敌？\\n\\n五）\\n\\n《史记•白起传》白起自己说，长平之战秦军虽大获全胜，但也付出了“秦卒死者过半”的惨重代价。\\n\\n号称“虎狼之师”的秦军付出“死者过半”代价，40万人只剩20万，作为败方的赵军，伤亡只会更多。\\n\\n经过廉颇、赵括与秦军多次搏杀，再加上被围中饿死、被“阴相食”、溃逃的，决战阶段，20万赵军，可能只剩不到6、7万人。\\n\\n当赵括冒险突袭，他亲率的敢死队不会超过1万人。因此，白起才能只用2.5万人就能将赵军后路切断并形成包围圈，另用5千骑兵将赵括主阵地穿插突破、并实行围歼。\\n\\n赵括死后，战役结束，最后活下来投降并被杀死的赵卒，也许也就3、4万人。 \\n\\n近年来，山西长平古战场考古陆续发现尸骨坑，如典型的“长平之战遗址永录 1号尸骨坑”。\\n\\n\\n\\n1996年第6期文物杂志《长平之战遗址永录 1 号尸骨坑发掘简报》，坑内百余具尸骨，经鉴定，为“赵军亡卒”，死亡原因并不是“活埋”：\\n\\n“坑内人骨皆为男性；30 岁左右的最多，20岁 以下者甚少，但 45 岁以上的士卒占有一定比例，平均身高约 170 厘米。根据骨骼排列和创伤观察，死者绝大部分为被杀后乱葬的，未发现大量被活埋的证据，这种现象有别于史书关于四十万降卒被阬杀的载述。”\\n\\n历史求诸野，最好的历史，在田野里。感谢考古的发现，让我们有机会瞻仰一下，2200多年前这些英勇无畏的“赵括的兵”：\\n\\n\\n\\n六）\\n\\n《战国策》里蔡泽夸大说辞，是为了大拍秦国马屁，以便求官。司马迁《史记》，为什么也要夸大秦杀赵降卒数量？\\n\\n合理的解释，应该有二：\\n\\n首先，中国古代战争，夸大战场杀伤数，往往是一种难以根治、也无法根治的通病。\\n\\n《三国志•魏书•国渊传》明确指出其中奥秘，军中惯例就是“破贼文书，旧以一为十”，千百年来相沿成习。\\n\\n这种“夸大”，战胜方用来邀功请赏；咳咳，战败方也可用来宣传己方“惨重牺牲”，既可将敌方置于不义地位，又可激励自己，团结民众。\\n\\n其次，秦末汉初，因为反秦的政治需要，普遍存在极力抹黑、夸大前朝残暴、黑暗的行为，咳咳，以证明自己造反夺权的合法性。\\n\\n另据考，司马迁六世祖司马靳曾作为白起副将参加了长平之战，后因秦王猜忌白起而和白起一起被赐死。\\n\\n国仇家恨，集于一身，通过“夸大”长平之战“杀赵降卒”强化对“暴秦恶政”的定性，反衬大汉代秦是历史必然，人民选择，不亦可乎？\\n\\n长平之战，赵括惨败，根源在于秦强赵弱。外无援国，内无援兵，外交失败，就算仍让廉颇主军，或换了别的谁，结局估计也好不到哪里去。\\n\\n无非，一是继续困守，坐以待毙；一是组织一次成功突围，挽救部分赵卒生命。两种结局，终归是败。 \\n\\n秦军虎狼之师的背后，是剑宗治国，是赫赫武功，是强大综合国力。\\n\\n没有实力和铁拳的保障，天天喊破喉咙“厉害了我的赵”，赵括和赵括的兵们再英勇无畏，留下的也只能是悲壮的身影。\\n\\n## 赵括之为将也，壮哉！\\n\\n一）\\n\\n从赵国一贯的国策出发，廉颇领命之时，肩负的战略使命，肯定本来就是：主动攻击、速战速决。\\n\\n “赵使廉颇将攻秦。”——《史记•廉颇蔺相如列传》\\n\\n “四十七年，秦攻韩上党，上党降赵，秦因攻赵，赵发兵击秦。”——《史记•秦本纪》\\n\\n“四月，龁因攻赵。赵使廉颇将。赵军士卒犯秦斥兵，秦斥兵斩赵裨将茄。六月，陷赵军，取二鄣四尉。七月，赵军筑垒壁而守之。秦又攻其垒，取二尉，败其阵，夺西垒壁。”——《史记·白起王翦列传》》\\n\\n你看，两军一接触，“攻”、“击”、“犯”，首先主动进攻的，不正是赵军吗？\\n\\n可惜，在廉颇指挥下，4到7月战况，连失两道防线，损一裨将六尉，开局不利，丧失战场主动权。\\n\\n老成持重的廉颇，根据实际战况，擅自把战略方针调整为持久防御，“廉颇坚壁以待秦，秦数挑战，赵兵不出。赵王数以为让。” \\n\\n\\n\\n从纯军事角度看，这种调整，或许是可取的。遗憾的是，打仗从来不是纯军事问题。\\n\\n赵国领导层反复督促廉颇恢复主动攻击战略，但是，廉颇始终不听，赵王只好临阵换将。\\n\\n这情形，与朝鲜战争中美国撤换麦克阿瑟相似：国家领导层与前线指挥员在军事战略上根本分歧，不换思想就换人。\\n\\n廉颇打仗一向谨慎，不擅长打势均力敌的硬仗。此前，他只成功指挥过对齐、魏的战争，从无打赢秦军的记录。\\n\\n前270年，阏与之战，赵王本想请廉颇或乐乘出征，但两人认为打不赢，拒绝了；最后，是赵括之父赵奢挺身而出。\\n\\n同样是“道远险狭”，廉颇、乐乘看到的是失败，而赵奢看到的是胜利。他说出了一句极具英雄气概的话：“狭路相逢勇者胜！”\\n\\n秦伐韩，军于阏与。王召廉颇而问曰：“可救不？”对曰：“道远险狭，难救。”又召乐乘而问焉，乐乘对如廉颇言。又召问赵奢，奢对曰：“其道远险狭，譬之犹两鼠斗于穴中，将勇者胜。”王乃令赵奢将，救之。——《史记·廉颇蔺相如列传》\\n\\n显然，捐躯赴国难，是老赵家一贯的家风、家教。阏与之战是父亲，长平之战是儿子。\\n\\n二）\\n\\n前266年，秦昭王的“权威人士”范雎正式出任秦相，他主要干了三件大事：\\n\\n一是帮助秦昭王从宣太后手中夺回君权：二是提出“远交近攻”方针；三是以报私仇为名，试探各国战略底线。\\n\\n“远交近攻”非常高明：“毋独攻其地，而攻其人” ，战争重在削弱敌有生力量；“得寸则王之寸, 得尺则王之尺”，一旦夺地，务在巩固。\\n\\n范雎公开复仇，追杀魏相魏齐。魏齐逃亡，只有赵国平原君赵胜留他在府中暂避一时，各国均不敢收留。\\n\\n赵胜为什么胆敢收留魏齐？仰仗阏与之战的余威，认为赵国能与秦人一拼。嗯，极力劝说赵王接受韩上党的，正是他。\\n\\n的确，当时除赵国外，关东各国均受重创，各国都把抗秦希望寄托在赵国，“天下之士合纵，相聚于赵，而欲攻秦” 。\\n\\n\\n\\n秦国东进，须击破赵。秦赵争强，是秦国兼并战争中最为棘手的。阏与之战，赵国先胜一场。\\n\\n但是，随着范雎主掌秦政，充分进行军事、外交全面准备，秦国重新启动“东进战略”，咄咄逼人。\\n\\n魏国首先屈服，与秦人结盟。长平之战、邯郸之战中，魏国始终作壁上观，甚至力劝赵国投降。\\n\\n至于韩国，与秦国地形相错，自身难保。长平之战前，无力应战，宁愿割让韩上党领土。\\n\\n可以说，长平之战前，秦人已经彻底打开通向赵国的门户，失去“合纵”支撑的赵人，被迫单独正面应战。\\n\\n\\n三）\\n\\n单独应战的赵国，输在综合国力。须知，“秦富十倍天下”，秦之富强，首在粮食。\\n\\n战前，秦以“耕战”立国，拥关中、成都、江汉和河东四大产粮基地，耕地总面积和粮食产量远超各国。\\n\\n反观赵国，粮食产区仅有以晋阳、邯郸为中心的太原-漳滏区域，耕地面积、土地肥沃程度，与秦国没法比。\\n\\n且赵国长期执行重商轻农政策，赵烈侯、赵武灵王变法都无涉及农业，相反，商业极发达，邯郸是当时最著名的商业之都：\\n\\n“商家错于道，诸侯交于路。然民淫好末，侈靡而不务本。田畴不修，家无斗筲。”——《盐铁论》\\n\\n技术上，秦国已普遍掌握农业“先进核心技术”，嗯，牛耕。平阳君赵豹反对接受韩上党时就说：“且秦以牛田，水通粮。”\\n\\n物资运输上，秦河东向长平运粮，距离不足200公里，与邯郸到长平距离相当，且水陆交通状况要好很多。\\n\\n战国秦汉之际，中原陆战，早已从战车集群形式进化为以步兵为主的鏖战。战车对地形要求太高，且造价贵，战国时已退居辅助角色。\\n\\n战国七雄逐步建立君主集权政体，世袭贵族退场，农民中征发的步兵成为战场主力，列国争战的规模越来越大。 \\n\\n别以为赵军“胡服骑射”很牛逼，当时马镫、马鞍等“杀手锏”装备尚未发明，骑兵难以担当高速冲杀肉搏主战任务，只能进行配合性任务。\\n\\n步兵数量多，行动缓慢，作战旷日持久，军粮消耗量大，后勤运输成为维持战争、赢得战争的关键要素。\\n\\n这个关键因素，正是赵国的短板。果然，长平之战开打三年多，赵国粮食储备开始严重不足，“赵无食，请粟于齐，齐不听。”\\n\\n与魏韩不同，齐国见死不救，楚国也毫无动静，除了害怕秦人，更多是因为两国领导人恰好更替，处于新旧内政过渡期。\\n\\n其实，赵国接收韩上党，一开始得到齐楚支援的允诺。《赵国策·齐策二》：“秦攻赵长平，齐、楚救之。秦计曰：齐楚救赵，亲，则将退兵；不亲，则且遂攻之。” \\n\\n可见，秦国几乎要退兵。随着外交威慑、收买的进行，加上齐楚国君变换，齐楚“不亲”，秦军彻底解除后顾之忧。\\n\\n前 264 年，无能的齐王田建继位；前263年，楚考烈王返国接班，嗯，他一直在秦国做质子，与秦相范雎是铁杆。\\n\\n赵国实力不如，内政外交备受挫折：赵惠文王 、赵奢、蔺相如等一批成熟政治家相继去世；完全失去魏、韩、齐、楚的支援。\\n\\n是的，这就是赵括匆匆走马上任时面对的绝境。如果他拒绝，相信也没有人会强迫他，但是，他没有。\\n\\n四）\\n\\n前260年7月，对赵国而言，和平的希望已彻底破灭，接下来该怎么办？\\n\\n撤军吧，意味着失去太行山以西大片领土，包含赵氏发祥地赵城和经济重镇晋阳，战败结果也不过如此。\\n\\n持久防御吧，粮食储备无力支撑，如僵持到粮食消耗一空，前线大军也会不战自溃、全军覆没。\\n\\n综合衡量国情、军情、敌情，继续执行既定的“主动攻击”战略，已是当时所能作出的最佳抉择。\\n\\n\\n\\n主动攻击，狭路相逢，或有一线胜机，就算最终战败也可大量消耗敌人有生力量，总好过不战自败。\\n\\n赵括带着“速战速决”的命令上任，根本没有足够时间从容运筹，一抵达前线就“悉更约束”，立刻展开战斗。\\n\\n赵国领导层从众多文武大臣中挑选赵括，毅然将国家命运和二十万将士性命托付于他，你真相信是秦人反间计？\\n\\n你想过没有，如果赵括只是夸夸其谈的废柴一个，秦国何必临时派出他们的“大杀器”白起过来指挥呢？\\n\\n白起是什么人？战国绝世名将，前后指挥秦军击败楚、韩、魏、赵等强敌，拓土数千里，为秦国一统天下奠定基础。 \\n\\n当时，他率军驻扎在秦楚边界，威慑防范楚国。直到长平决战开始时，才暗中连夜赶往长平前线。\\n\\n后来惨烈的战况证明，赵括之为将，率军20万，如果秦军不是由白起指挥，或许胜负未可知。\\n\\n五）\\n\\n战后，40万秦军伤亡大半，白起明确讲：“今秦虽破长平军，而秦卒死者过半，国内空”。\\n\\n王龁指挥时，秦军屡战屡胜，阵亡人数不会太多，绝大部分伤亡是与赵括拼死决战造成的。\\n\\n“发现8例头部有砸痕或钝器致伤的标本。D2.1号个体颈骨前有砂石块，长13厘米、宽7厘米、厚7厘米，类似大小的砾石1号坑内已发现10余件。”——《长平之战遗址永录 1 号尸骨坑发掘简报》\\n\\n啥意思？说明两军中很多将士曾用石块等近身肉搏，可见战斗之惨烈。\\n\\n另外，丹河两岸流传至今的地名，如血泊、血山、血昏河、骨头坡等，也间接佐证了这一点。\\n\\n白起作为主将，先后指挥了新城之战、伊阙之战、鄢郢之战、华阳之战、陉城之战、垣城之战等所有重大战事。\\n\\n你仔细分析可发现，长平之战是他指挥的所有战事中损失最惨重的，也是战国时期秦国所有战事中损失最惨重的。\\n\\n正是长平之战中，秦军损耗巨大，导致此后邯郸之战、河外之战、新中之战连遭惨败，“秦军退回河西”。\\n\\n是的，在与白起交手的所有将领中，年轻的赵括，表现是最出色的。\\n\\n须知伊阙、鄢郢、华阳之战，暴鸢、公孙喜、芒卯与楚顷襄王指挥的韩、魏、楚虽被白起杀死、淹死数十万，却无一能给秦军造成重大损伤。\\n\\n鄢郢之战，白起以几万人攻陷楚国数十万大军防守的核心城市鄢和郢，淹杀楚人数十万，夺取楚国经营数百年的基业江汉平原，楚国从此一蹶不振。\\n\\n两相对比，面对“战神”白起和兵力多一倍的虎狼之师，赵括指挥大军在野战中鏖战两个月，杀敌大半，给予秦军战国时代最高记录的死伤。\\n\\n况且，在无粮、无援的绝境之中，他指挥的20万大军，始终坚持鏖战，没有崩溃，直到主帅身死那一刻才放弃抵抗。\\n\\n同样的一批兵，廉颇指挥时屡战屡败，赵括指挥时却能予秦军前所未有的巨大杀伤，这是一个嘴炮能做得到的事吗？\\n\\n赵括之为将也，不亦壮哉？\\n"}'));jctx.push(JSON.parse('{"id": "181202", "tag": "book", "text": "# 天启的另一面\\n\\n## 帝国的木工\\n\\n一）\\n\\n在腾讯视频看了电影《绣春刀2·修罗战场》，拍得可以，故事的编排也很有意思。\\n\\n片中，北斋先生，东林党人，要杀魏忠贤，要换皇帝，弟弟朱由检\\"谋害\\"皇兄朱由校，在龙船上做手脚。\\n\\n最后，床上病恹恹的哥哥对弟弟说：“来，我弟要做尧舜。”就这样，弟弟赢了，东林党赢了。\\n\\n这个小情节，正史有记载。1627年，兄终弟及，朱由检从哥哥手中接过帝位，成为明朝崇祯皇帝。\\n\\n他上台3个月，在东林文官簇拥下，将魏公公“阉党”一网打尽。东林党弹冠相庆，变天了，好日子到了！\\n\\n极具讽刺意味的是，弟弟信东林，杀“阉党”，用文官，大明并没有实现中兴，反而一步一步走向灭亡。\\n\\n17年后，李自成杀入北京，弟弟上吊自杀，身边没有一个东林官僚，陪伴他的却是一个阉党王承恩。\\n\\n二）\\n\\n哥哥朱由校，是帝国的第15个皇帝，年号“天启”，庙号“熹宗”，1620年九月初六登基，1627年八月十一日病亡。\\n\\n哥哥只活了23岁，只做了不到7年的皇帝。在明末时期写就的大量文章里，哥哥常被讥笑，人送外号“木匠皇帝”。\\n\\n他们讥笑他痴迷木工，不务正业。“圣性又好盖房，凡自操斧锯凿削”，“每营造得意”，忘记吃饭，忘记寒暑。\\n\\n他们讥笑他傻不拉叽上了魏公公的当，大肆用贪财的“阉党”，而不用“爱国”的东林读书人，贻误江山，云云。\\n\\n文章都是读书人写的。当时，东林党是最大的读书人，以江南士大夫为主的官商集团。哥哥信公公，用公公，深深得罪了那帮文臣官僚。\\n\\n哥哥是聪明人，就是死得太早。在位短短七年，他和他信任的公公执政团队，领导军民打赢了几场大仗。\\n\\n这些仗，对内对外都有，例如，平息山东白莲教、在澎湖打败荷兰，辽东“宁远大捷”，原本艰难的朝局焕然一新。\\n\\n三）\\n\\n我们把目光放“木匠皇帝”四个字。这个用来讽刺哥哥的外号，背后隐藏的却是另一番宏大故事。\\n\\n时间往前推移，1597年，明神宗万历二十五年六月十九日，皇宫又突起大火，把皇宫“三殿”烧个净光。\\n\\n“三殿”在当时名叫皇极殿、中极殿和建极殿，即今天故宫太和殿、中和殿和保和殿。这是帝国最高级别的政治建筑。\\n\\n三殿，是帝国脸面、国家象征。三殿尽毁，如同美国白宫、国会大厦、自由女神像一夜之间被恐怖分子炸掉。\\n\\n这场大火对帝国政治生活的严重冲击，要有多大就有多大。正常情况下，三殿需要马上重建，刻不容缓。\\n\\n但是，如此重大而紧迫的国家头等大事、超级工程，朱由校的爷爷明神宗，终其余生，都没有重建起来。\\n\\n整整23年过去，在紫禁城里，光秃秃的三殿遗址，犹如帝国面上的三块癞疤，成为无言的耻辱！\\n\\n\\n四）\\n\\n三殿建不起来，不是不想建，而是“没法建”。火灾过后，惊魂未定的明神宗要求文官内阁“即议修复”。\\n \\n工部很快提交“大工”预算：白银3000万两。把神宗吓呆了。天啊，这可是户部10年的财政盈余！\\n\\n当时，帝国财政已捉襟见肘。户部太仓每年额收税银不过300万两，而“九边”一年军费就超过此数。\\n\\n边军年年缺饷，户部时时告穷。用神宗的话说，“官民两竭”。工部提出的这个天量预算，怎么拿得出来？\\n\\n为了筹钱，文臣内阁提出了很多办法，诸如开征矿税、复征罚脏银两、汇积各省财政结余、发动官民捐献，等等。\\n\\n可惜，这些政策，一如既往在庞大官僚系统手里变了样，成了层层经办人中饱私囊的绝佳机会。\\n\\n几年下来，筹钱不到百万，连预算零头都不够，反而造成民怨四起。神宗放弃治疗了，在剩余的23年皇帝生涯，他龟缩偏殿办公。\\n\\n五）\\n\\n这时，哥哥朱由校匆匆上台。他刚满16岁，身边有个53岁的老太监，不是别人，魏忠贤公公。\\n\\n出身贫穷的魏公公，入宫30年，头发熬白了，才从底层倒马桶太监，晋升为东宫太子一个才人的伙食管理员。\\n\\n命运很奇妙。这个才人，恰好为太子生了一个长子。公公伺候才人，自然而然也连带伺候这个小皇孙。\\n\\n煎熬了那么多年，公公极度珍惜这份工作，对才人和小皇孙有种说不出的忠诚与依恋，伺候主人一丝不苟，全力以赴。\\n\\n公公手把手将小皇孙带大。想象一下，400多年前，夕阳从紫禁城头落下，公公抱着小皇孙，絮絮讲故事、哼歌曲。\\n\\n在那十几年的岁月里，公公一定会讲到皇宫里三殿遗址的耻辱，讲到重建预算大到离谱，讲到征税过程中官员的贪墨。\\n\\n这个小皇孙，就是哥哥朱由校。因这层关系，他与公公的感情，他对公公的信任，异乎寻常的不一般。\\n\\n六）\\n\\n朱由校决心重修三殿。他即位之初，马上下诏：“传起建皇极门殿，择日兴工。”\\n\\n对于工部的天量预算，他怀疑，他不信。他用了最笨但也是最好的办法：自己学木工，钻技术，分贤愚，辨忠奸。\\n\\n哥哥真的沉下心去学。他聪明，学得快，“自操斧锯凿削，巧工所不能及”，他成了建筑工程专家。\\n\\n哥哥的任职日志《明熹宗实录》，记载了他掌控三殿重修的各个关键施工环节：兴工礼、立金柱、升金梁、竣工典……\\n\\n天启六年九月，“皇极殿成”。次年，“中极、建极殿成”。作为帝国权力象征的三殿，终于再次屹立在紫禁城里。\\n\\n哥哥重建三殿，实际上花了多少钱？睁大眼，看清楚，一共是白银5957519.7684161两。\\n\\n你并没有看错，就是这么变态，精确到小数点后7位。这个数字不是我编的，是明朝的官方文告：\\n\\n“工部奏，三殿大工……报竣，……所费银计五百九十五万七千五百一十九两七钱六分八厘四毫一丝六忽一微。”——《明熹宗实录》\\n\\n七）\\n\\n以前，每逢为内廷兴建或修葺工程，工部官僚冒领工料价款、贪污中饱已成惯例。何况修三殿属于大工，更是机会难得。\\n\\n现在，他们遇到“木匠皇帝”，真正的内行，专家中的专家。\\n\\n工程的猫腻，官员的伎俩，逃不过他法眼。竣工决算精确到小数点后7位。\\n\\n600万两与3000万两，差距达2400万两，文臣官僚虚报工价高达5倍之多。\\n\\n胆敢联合起来蒙骗朕！太黑了，这才是真正的祸国殃民。\\n\\n东林党文官在皇帝眼里一文不值，公公们得到极大重用。天启五年，皇帝诏令烧毁全国书院。\\n\\n魏公公也贪，但是，他所有的赃款加起来，也很难超过2400万两。而且，公公们忠心，人少，办事高效，远比当时的文臣官僚强。\\n\\n信任，才是要害。有明一代，层出不穷的“宦官专权”现象，骨子里揭示的正是皇帝对文臣官僚系统的不信任。\\n\\n极其诡异的是，三殿刚完工，哥哥莫名其妙从龙船上“落水”，很快病亡。弟弟是亲王，没受过系统的、真正的帝王之术教育。\\n\\n他接班后，东林党日夜在他耳边忽悠，“太监都是奸臣，是卖国贼”，“东林党个个是圣人君子，是爱国英雄”。\\n\\n志大才疏、刚愎自用的弟弟真信了。上台后立刻铲除“阉党”。崇祯二年，为东林党恢复名誉，大加重用。\\n\\n就这样，哥哥苦心经营、原本有很大起色的国事政局，逐步好转势头被彻底破坏，重走回头路。\\n\\n自私自利、内斗误国的东林党空前膨胀，这帮家伙，一贯擅长文宣，标榜人间楷模，口口声声为大明，说的比唱的好听，就是不干人事。\\n\\n弟弟心中的“大明梦”，最终彻底幻灭。\\n\\n1644年，崇祯十七年四月三十日，李自成撤出北京，一把火将紫禁城焚毁，哥哥亲手重建的三殿复为灰烬。\\n\\n## 东林为政\\n\\n 一）\\n \\n1620年九月初六，哥哥朱由校登基，一开始他重用的人，其实还不是魏公公，相反，是东林党人。\\n\\n那时，哥哥对满口子“爱大明”的东林党抱有期望。东林党人得以主掌内阁、都察院及六部，杨涟、左光斗等众多大佬身居要职。\\n\\n当家了，朱由校拿来财政报表一看，登时傻眼：除内库尚余七百万两，外库居然已经枯竭很久了。\\n\\n内库，供皇室日常御用，属于皇帝私房钱；外库，也叫太仓，属于户部国库，“专供军国”。\\n\\n当时，帝国总收入折合白银约1500万两，其中入内库600余万两，入外库400余万两，剩下的大多为实物。\\n \\n蛋糕远远不够分。外库枯竭，财政赤字好几年了。当时，单是“九边”兵饷一年就要380余万两，几乎用尽外库岁入。\\n \\n除正常边饷经费，还有战事的临时专项军费。随着辽东抗清战事频起，战费开支骤然锐增。\\n\\n哥哥让户部作了统计，他上台前3年里，1618年—1620年，共计发辽事银2018万余两，平均每年超过600万两！\\n\\n二）\\n\\n仅以辽事开支计，外库每年赤字200余万两。这盘烂帐，哥哥算不过来了。他要求执政的东林党想办法。\\n\\n“风声雨声读书声，声声入耳；家事国事天下事，事事关心。”这是挂在东林书院门口的一副对联，你们肯定听过吧。\\n\\n在《明史》里，东林党被赞美成了一朵花：正人君子，正气凛然，可歌可泣，人间楷模，“众正盈朝”。\\n\\n当然，这些赞美的话语，还有那些臭骂“阉党”的篇章，看看就好。这些文字，大多是东林党所在的江南士人所写。\\n\\n看一个人，不要只听他说了什么，而要看他到底干了什么。\\n\\n东林党的老巢是无锡东林书院，书院的背后是江南大土豪大财阀。金钱滋养下，书院培养出来的人才，做官后自然以维护财阀利益为己任。\\n\\n东林党很像嘴炮党，不干事的文青圣母。他们的政纲有两条：税收得越少越好，特别是商税；皇帝管的越少越好，事情由我们来管就好了嘛。\\n\\n面对内忧外患的朝局，面对外库可怕的财政赤字，东林党首先提出了他们的第一套解决方案：发内帑。\\n\\n啥意思？陛下，外库虽然没钱了，您的内库里不是还有几百万两白花花的银子嘛，先拿出来用呗。\\n\\n是的，东林党提出要用皇宫内库的钱，为了抗清，为了国家，哥哥毫不犹豫答应了。\\n\\n史载，哥哥上台后，朝廷先后5次发内帑“劳边”，共花白银500万两。后来，重修“三殿”的费用还得东拼西凑，内库很快枯竭。\\n\\n\\n三）\\n\\n内库虽然花光，但东林文官把持下的辽东战局，毫无起色，边饷还是一刻不能停。怎么办？东林党又提出第二套方案：造钱。\\n\\n开动印钞机，天启二年七月，东林党内阁在北京和南京正式开铸“天启通宝”。\\n\\n造钱不是重点，关键在于纪值：看清楚，是“折十大钱”。一枚小小的破钱，被强制要求价值“十两”，津巴布韦货币1后面多少个0？\\n\\n结果，大财阀乘机买田买房买物，把货币换成实物资产，享受通胀升值。而广大草民蚁族购买力极大被剥削，陷入更为困难境地。\\n\\n还有比这更黑的吗？毫无意外，这个赤裸裸的货币超发抢钱计划，实在是太狠了，很快就不得不流于失败。\\n\\n一计不成，一计又起。“有道德，有理想”的东林党又从工具箱里拿出了第三套方案：加税。\\n\\n从他们一贯的政纲出发，这个加税计划其实很有意思，很好玩：\\n\\n只加田赋，不加商税；商税不但不加，还要减税；只在农民身上割肉，把丝织业等非农税赋减为原来的33%。\\n\\n咳咳，江南地区是全国最大的丝织产业基地，懂了吧。\\n\\n很多东林党大佬，家族都有庞大的工商业，有的甚至经营着垄断企业。他们是大官商集团，怎么可能在自己身上割肉？\\n\\n四）\\n\\n东林党执政三年，花光了内库积蓄，割了小农的肉，肥了官商自己的腰包，败坏了辽东战局。\\n\\n聪明的哥哥，杰出的建筑工程专家，逐渐看清了一切。再也不能这样子下去了。魏公公正式登场。\\n\\n天启四年六月以后，“内外大权一归忠贤”。事情很快立竿见影，就在当年，帝国税收构成发生了180度转变：商税突然占据了大头。\\n\\n天启四年，帝国商税从上一年的322万两猛增至548万两，净增226万两，增幅达70%。\\n\\n天启四年，主要针对工商业的杂项银从上一年的60万两猛增至220万两，净增160万两，增幅达270%。\\n\\n这样的增幅，接下来的两年都得到了保持。更为重要的是，天启四年后，帝国基本没有针对农民的加赋。\\n\\n短短一年，帝国多收入的400万两白银，全部来自江浙地区工商业。你说，把持工商业的东林党，能不恨公公入骨吗？\\n\\n东林党对“阉党”发起猛烈攻击。可惜，公公们不是吃素的。在刺刀见红的斗争中，东林败下阵，一个个被陆续收拾。\\n\\n400多万商税，每一两都是魏公公真刀真枪从东南大官商集团手里抢出来的。你以为轻描淡写约谈一下，他们就肯乖乖补交几亿税款？天真！\\n\\n\\n\\n《五人墓碑记》记得吧？这篇“奇文”的作者，是东林大文人张溥。文中，他用生花妙笔，歌颂五人为“反抗暴政”的大英雄。\\n\\n朝廷派人到江南收商税，有税官在苏州被人打死，魏公公准备坚决镇压，江南大财阀吓坏了，只好交出五个带头人，这五人被押往北京处死。\\n\\n《五人墓碑志》就是写来纪念他们的。国家风雨飘摇，他们也没有吃不上饭，相反还挺有钱，却大肆逃税、抗税，居然带头打死朝廷税官，这是英雄吗？\\n\\n五）\\n\\n有钱好办事。帝国形势有所好转。“三殿大工”如火如荼进行，河南灾民得到赈济，辽东抗清捷报频传。\\n\\n天启6年，明军取得宁远大捷，大炮轰伤努尔哈赤。次年，宁锦大捷又重创皇太极。这背后，就是钱在起作用。\\n\\n魏公公为人也贪，也干了很多令人发指的坏事。但在他掌权的几年，国事确实大有改观。当时，有很多人开始给他修生祠。\\n\\n后来的结局，大家很熟悉。天真的崇祯上台，灭掉魏公公，重新起用文官，帝国锋利的“搂钱之刀”，再次割向农民。\\n\\n1630年，崇祯三年，第4次加派“辽饷”，每亩加一分二厘，共增田赋银685万余两。\\n \\n1637年，崇祯十年，“不集兵无以平贼，不增赋无以饷兵”，加增田赋银280万两，称为“剿饷”。\\n \\n1639年，崇祯十二年，朝廷宣布练兵73万，“因练兵必用饷”，又每亩加“练饷”银一分，共征730万两。\\n \\n10年里，帝国在农民身上割肉1695万余两，并以此作为岁额向全国派征。这可是正赋以外的加派！\\n\\n当时，“民田一亩值银七八两者，纳饷至十两”。土地成了负资产。农民活不下去了，只好当流寇，“明之亡亡于流贼”。\\n\\n崇祯再傻，后来也发现事情不对劲，但世上已无魏公公，他无力彻底摆脱文官集团，只好靠不断撤换内阁首辅来发泄心中不满。\\n\\n当然，帝国文官系统和东南豪商中饱私囊，发了大财，但是，他们赢了所有政治对手，却输给了整个时代。\\n\\n终于，帝国暴力保护壳彻底崩溃。\\n\\n李自成破京，对大明官僚实行残酷逼捐。你猜，共逼捐出多少钱？白银2000万两！李自成不由惊叹：“以此破敌，何敌不破？”\\n\\n清兵入关，东南遭受一连串大屠杀，“扬州十日”、“嘉定三屠”…… ，豪强们拼了命都不愿意拿来交税的财富被洗劫一空，全家老小的命也搭上了。\\n\\n不过，握有生花妙笔的东林文人们，投降满清后，带头编书写文，痛骂\u202a明朝\u202c皇帝昏庸误国、魏忠贤等人贪墨殃民，导致明朝灭亡……\\n\\n## 决算的数目字\\n\\n没有正确的“三观”，历史读得越多越傻，中毒越深。\\n\\n一）\\n\\n“史实考证”这种费脑筋的事，我担心你应付不来啊。\\n\\n今天，我们“史料考证”，看看天启皇帝留下的一份工程决算报告。这份报告，缘于天启末年对故宫“三殿”的集中重建。\\n\\n“三殿”的具体故事，当然要看本号的这两篇文章：\\n\\n《谁是帝国大忽悠》\\n\\n《利害相磨笔如刀》\\n\\n坦白说，我第一次看到这份工程决算，刹那间，我是怀疑的，直到静下心深挖，我才深深被震撼：\\n\\n居然精确到小数点后7位，对整个工程要细致掌控到什么程度才能算出如此恐怖的数字！\\n\\n人们称天启为“木匠皇帝”，原本应该是想污蔑抹黑他，但是，我却觉得，这个称呼，简直就是对他无上的赞美。\\n\\n闲话少说，我们先欣赏一下这份决算报告，看看天启皇帝的利害手段：\\n\\n“工部奏，三殿大工开工自天启五年二月二十三日起，至七年八月初二日报竣，总算钱粮给与领状者，共五百七十八万八千一百三十五两八钱三分八厘二毫二丝八忽六微，应找者共三十万零一百三十三两八钱九分四厘七毫五微，透支者一十三万零七百四十九两九钱四分四厘二毫二丝外，兑者共一十三万九千一百五十三两三钱八分一厘六毫九丝，所费银计五百九十五万七千五百一十九两七钱六分八厘四毫一丝六忽一微。虽前朝册籍无可稽考，而工倍费省未有如斯举者也。\\n得旨，览奏‘三殿鼎建，两载告成，工大费省皆赖厂臣心计经营，力效鸠庀，以故顶石之运，\\t楠杉之采，节省金钱数百万，而禁苛恤力,\\t子来胥悦，劳勤独高’。 说得是。这截算钱粮，\\t自开工迄工竣，计五百九十五万七千五百两有奇，具见稽核详恪，还宜以册案宣付史局，用彰实录。\\n其夫匠铺车等役，给银未完的，\\t须外解补还，著行各省直严催，题过助工银两，星速内解，\\t以完工局。”\\n——《明熹宗实录》卷78，天启七年八月乙酉\\n\\n这份决算，载明了“三殿”大工的工程时间、总费用、皇帝批语、后续工程款项支付和厂臣功劳等内容。\\n\\n二）\\n\\n“三殿”主体工程，从天启五年二月二十三至七年八月初二报竣，仅仅用了两年半时间。\\n\\n这个速度快不快？你肯定轻飘飘的一扫而过，心中无感。\\n\\n但是，你去故宫实地看看吧，“三殿”极为庞大恢弘的建筑规模、精密复杂的工程结构，你想过吗？\\n\\n没有现代施工机械，没有水泥钢筋，一砖一瓦，一草一木，全靠成千上万个人的双手！\\n\\n史载，“三殿”大工的施工人员主要是国家的工程部队，三都司班军，超过20000人。\\n\\n如此繁杂的超级基建，短短的30个月工期，庞大的施工队伍，怎能不惊叹天启政府强大的组织力和高效的执行力？\\n\\n三）\\n\\n工程总费用，我们都知道了：白银5957519.7684161两。\\n\\n这笔钱，虽然远比文臣内阁的预算少了好几倍，但对帝国财政收入来说，仍是天量开支。\\n\\n当时帝国中央政府内外库口径的岁入约1500万两左右，这笔钱已占39.7%。啥概念？\\n\\n世界超级工程港珠澳大桥造价1269亿，仅占2017年全国一般公共预算收入172567亿的0.73%。\\n\\n1）\\n\\n实数已如此巨大，万历龟缩偏殿办公二十余年，想破脑袋都无法筹足文臣内阁预算中的那个虚数，也就情有可原了。\\n\\n“三殿”焚毁时，帝国财政已入不敷出，皇室、官俸、军费等日常开支相当庞大，而战争支出，更是如流水一般。\\n\\n为修复国家权力运行象征的“三殿”，万历皇帝甚至新增了一项工业税：矿税：\\n\\n“迨两宫三殿灾，营建费不赀，始开矿增税……中官遍天下，非领税即领矿。”\\n——《明史·食货五》\\n\\n矿税原本丰厚，但遭到工商业主抵制，再加上层层贪墨，收到中央手里后，攒下来的钱连预算零头都不够。\\n\\n万历一死，泰昌、天启即位，政治得势的东林党内阁，趁机立刻废除了矿税。\\n\\n“罢天下矿税令旨。先年开矿抽税，为三殿两宫未建，帑藏空虚，权宜采用。近因辽东奴酋叛逆，户部已加派地亩钱粮，今将矿税尽行停止。”\\n——《明光宗实录》卷2，万历四十八年七月丁酉\\n\\n请注意蓝色那句话，活画出东林党的核心政纲：辽东用兵缺钱，在田亩加派钱粮，而废止专门损害工商业利益的矿税。\\n\\n2）\\n\\n天启四年六月，东林党垮台，魏忠贤用事，朝政为之一新。\\n\\n八个月后，“三殿”重建就动工了。工程预算真正做实之后，筹起钱来心里有数，甚至边筹钱边动工也是有底气的。\\n\\n天启皇帝和魏公公是怎么解决钱的问题呢？并不是靠加派田赋！\\n\\n首先，内库私房钱。天启登基后，要求立即启动“三殿”大工，拨出内帑200万两：\\n\\n“传起建皇极门殿，择日兴工，……。时辽饷愈急，大工起建，有司莫措。乃以工部请发内帑二百万，刻日起工。”\\n——《明光宗实录》卷3，泰昌元年八月戊申\\n\\n其次，户部、工部、兵部等中央机关分摊费用。其中，兵部负担较重，既要出人，还要出钱。\\n\\n明中后期，中都、河南、山东的三都司京操班军，实际上已转型为国家专业基建工程部队。\\n\\n“又有中都、山东、河南班军轮操谓之更番军，总称三大营军，故凡有兴作，辄役班军。”\\n——《明神宗实录》卷425，万历三十四年九月乙未\\n\\n“三殿”基建，也是由班军负责，部队的劳务费、修筑费由“户七兵三”分摊，户部出七成，兵部出三成。\\n\\n再次，朝廷号召全国文武官员、士民工商献爱心，嗯，“劝捐”。\\n\\n“大工繁费，物力不赀，内外大小文武百官，通行捐俸。”\\n——《明熹宗实录》卷71，天启五年六月庚戌\\n\\n“今中宫等官、诸王公主，并司礼监等衙门、各监局司库掌印管事牌子，及内外私家闲住太监等官，恭进助工银共四十万两，俱发公所贮收。”\\n——《明熹宗实录》卷58，天启五年四月丙午\\n\\n你看，后宫诸王公主、太监都踊跃捐款“助工银”40万两，内外百官的捐献一定只多不少。\\n\\n这一幕，你想到什么？对了，李自成兵临城下，亡国关头，崇祯政府“劝捐”兵饷，居然死活“劝”不出钱来！\\n\\n两相对比，你还会觉得天启皇帝是傻瓜笨蛋、魏公公是无能阉党吗？\\n\\n四）\\n\\n焚毁多年的“三殿”终于建成，这对当时的明帝国来说是几十年来难得一见的盛事！\\n\\n“天启六年九月，皇极殿成。七年八月，中极、建极殿成。”\\n——赵翼《廿二史札记》卷32，《明宫殿凡数次被灾》\\n\\n对此，天启批示：“工大费省皆赖厂臣心计经营”；工部总结：“虽前朝册籍无可稽考，而工倍费省，未有如斯举者也”。 \\n\\n君臣一致都提到“工大费省”这四个字，确实，太不容易了！\\n\\n天启皇帝把功劳归结于“厂臣心计经营”，这就太谦虚了。他本人是顶级土木建筑工程专家，“三殿”重建的所有关键环节，他全程参加核验。\\n\\n“三殿”重建，都在天启皇帝的牢牢掌控之下，任何猫腻都瞒不过他。\\n\\n天启七年八月乙未，三大殿重建工作完成。十天后，八月甲寅，朝廷正式宣布：“殿工告成。”\\n\\n历史就是这么诡异。就在宣布“三殿”竣工的第二日，帝国的命运骤然发生重大转折，天启皇帝就驾崩了！\\n\\n“上崩于乾清宫。”\\n——《明熹宗实录》卷87，天启七年八月\\n\\n天启只有短短的七年，“三殿”重建伴随皇帝在位七年的始终。天启一朝，是大工的一朝。\\n\\n五）\\n\\n工程决算报告书中，还专门对工程尾款的支付作出明确规定：\\n\\n“其夫匠铺车等役，给银未完的，\\t须外解补还，著行各省直严催，题过助工银两，星速内解，\\t以完工局。”\\n\\n做工给钱，天经地义。朝廷明文要求，“给银未完的”，必须“外解补还”，“以完工局”，绝对不能拖欠工程款！\\n\\n不是说魏公公贪得无厌、为所欲为、十恶不赦吗？怎么对一点工程尾款都要交代按时支付不拖欠？\\n\\n看来，天启皇帝和魏公公办事是有规有矩的，哪怕是国家最高级别的政治建筑，完工后该给钱的就给钱，不打白条。\\n\\n天启皇帝批语中的“厂臣”，正是魏忠贤。“厂臣”，意为东厂、西厂主官。\\n\\n“三殿”完工，“工大费省”，在天启皇帝领导下，魏忠贤亲自负责，具体抓，抓具体。\\n\\n当时，各部官员上表称贺，都不约而同认可魏公公主持“三殿”大工的功劳：\\n\\n“三朝旷典，久需运会，才余两载，煥复旧规，实赖厂臣魏忠贤，生符名世，精禀扶舆，真有与国家共休戚之心，卓尔肩天下系安危之望？”\\n——《明熹宗实录》卷87，工部尚书薛凤翔“题叙殿工”\\n\\n“臣仰见三殿告成，……为大典克襄省财节费，地方受福，此皆厂臣干国，宏猷匡时伟略所以臻此。”\\n——《明熹宗实录》卷87，吏科右给事中陈尔翼奏表\\n\\n皇帝、朝臣都交口称赞魏忠贤的功劳，这难道都是为了拍魏忠贤的马屁吗？显然不是。\\n\\n万历、泰昌两朝，折腾了二十多年，“三殿”大工始终无法动工。\\n\\n天启皇帝继位初，国事艰难，内忧外患；等他离世时，帝国财政较为充足，形势有了很大好转。\\n\\n对外，相继取得“宁远之战”和“锦州之战”大捷，迫使后金转为防御；对内，河南灾民得到赈济，社会基本趋于稳定。\\n\\n就算天灾人祸频发，辽东天天打仗，东林党拼命捣乱，但是耗资惊人、工程浩大、二十多年想建而始终建不起来的“三殿”竟然得以顺利竣工。 \\n\\n六百万两的大工支出顺利筹措，并不是靠横征暴敛，对农民加派赋税而来的；三都司班军以完整的队伍、近两万人的规模照常上班，按期完工。\\n\\n你想过没有，这难道真的是偶然的吗？\\n\\n六）\\n\\n从决算书看出，天启皇帝和魏公公团队对人力、物力和财力的有效控制和组织，活生生的摆在哪里，并不靠文宣吹嘘。\\n\\n“集中力量办大事”说得好听，问题是，你能不能集中得起来？你有没有能力去集中？\\n\\n天启短短几年，确实处理了好多长期想处理而没有处理的难题，干成了好多过去想干而没有干成的大事。\\n\\n这些，靠东林嘴炮党，靠公知文青圣母心，能做到吗？\\n\\n随着天启皇帝诡异早死，魏公公被崇祯和东林党清算，帝国重走回头路，一切又变回了老样子。\\n\\n天启朝的改革和商税政策全部被废除，中央财政又一次穷得叮当响。随之而来的，是辽东局势日衰，是流民暴动峰起。\\n\\n当然，这一切，东林党得势后，他们掌控了历史的书写，自然有着另一番截然相反的结论：\\n\\n“圣性又好盖房，凡自操斧锯凿削，即巧工不能及也。……先帝每营造得意，即膳饮可忘，寒暑罔觉，可惜玉体之心思精力，尽费于此。然皇极等三殿落成于天启之年，肯堂肯构，先帝之好土木，岂亦天启其朕兆耶？……，至皇极等等三殿告成，逆贤等只图荫赍为己荣耳！\\n——刘若愚《酌中志》卷1，《客魏始末纪略》\\n\\n“木匠皇帝”贻误国政，“阉党专权”胡作非为，“三殿告成”是公公想邀功请赏，大明江山几乎被他们搞垮了……\\n\\n题外话，揭露这段“黑历史”的作者刘若愚，曾是魏忠贤团队的重要成员。咳咳，这种“反戈一击”，是不是更有一种特殊的说服力？\\n\\n其实，刘若愚是在牢狱中写出这本《酌中志》的，写完崇祯君臣审阅后觉得很满意，就赦免了他的死罪。\\n"}'));jctx.push(JSON.parse('{"id": "181210", "tag": "book", "text": "# 明清的回治与回乱\\n\\n中国是世界上穆斯林人口较多的国家之一。\\n\\n作为一个古老的世俗国家，穆斯林的治理始终是一个不可回避的问题。近年来，随着宗教激进主义在世界范围内的蔓延，以及中国西北穆斯林问题的复杂化，研究中国历史上对穆斯林的治理无疑具有相当的现实价值。\\n\\n蒙古时代：回回的兴起\\n\\n穆斯林在中国境内的大量定居，源于蒙元时期。\\n\\n13世纪初,蒙古军兴起于漠北,成吉思汗及其继承者征服了中亚、西亚地区的大量伊斯兰国家，蒙古军每攻占一处,往往将当地穆斯林青壮年男子征入军队。如不花刺人投降后,“适于服役的青壮年和成年人被强征人军”（《世界征服者史》）;在撒麻耳干“从青壮年中挑出同样的（三万）人,编为一支签军”，工匠也是征调的对象,蒙古人仅在撒麻耳干就掳掠了三万工匠。这些部队被蒙古用于征讨金、南宋和大理的战争中，就这样，大批穆斯林士兵被滞留在中国陕甘、云南地区。\\n\\n为了低成本安顿这些军人，元朝政府乃鼓励其在当地定居，并多次颁布优待政策：\\n\\n至元十六年(公元1279)正月,“立河西屯田,给耕具,遣官领之”（《元史》卷十,《世祖纪》七）；至元二十五年(公元1288年),“以忽撒马丁为管领甘肃、陕西等处屯田等户达鲁花赤,督斡端、可失合儿工匠千五十户屯田”；至治二年(公元1322年),诏“免回回人户屯戍河西者银税”。鉴于来华的穆斯林人口数量巨大，穆斯林族群在文化、习俗、政治和经济上亦有别于中国土著，元朝政府于是设立了“回回户”，将其纳入封建国家的特定户籍之中。\\n\\n就这样，在元政府的鼓励和支持下，这些曾经服役于蒙古军的穆斯林士兵，从此逐渐在中国云南和大西北地区定居下来。是故《明史·西域传》称:“元时回回遍天下,及是居甘肃者尚多。”\\n\\n明代的同化、繁衍\\n\\n蒙元灭亡后，明廷建立。以“驱逐鞑虏，恢复中华”自命的明朝统治者在处置回回的问题上，在尊重穆斯林信仰的同时，也采取了一系列带有明显“同化”色彩的政策。\\n\\n一方面，明朝政府强制回回与汉人通婚。《明会典》卷141刑部十六《律令•婚姻》规定： “蒙古色目人婚姻：凡蒙古色目人，听与中国人为婚姻，务要两相情愿，不许本类自相嫁娶，违者杖八十，男女入官为奴。另一方面，明廷在内地禁止“胡服、胡语、胡姓”，结果使得回回都变胡姓为汉姓，并改变了很多服饰、语言等方面的习俗。《明太祖实录》卷26洪武元年二月壬子条文称，“其辫发、胡服、胡语、胡姓一切禁止，甚酌损益，绵断自圣心，于是百年有余胡俗，悉复中国之旧矣。”正是基于这一系列政策，后来的大陆回族才呈现出汉化的面貌。\\n\\n不过，明廷的同化政策，并未对回族人口的繁衍产生影响。1528年兵部尚书王琼到甘肃平凉府,就惊讶地发现东关地区居住着大量穆斯林；兵部侍郎张海则奏称:“甘肃即古河西五郡之地……人民奔溃,诸夷熟羌来归,在边安插,积聚数年,蕃育日多”。\\n\\n实际上，西北地区回回人口的急剧增加,也引起了明朝的注意和不安。巡抚甘肃都御史朱英对此表示,“欲将甘州等处久住夷人迁徙河南、陕西地方,庶免交通漏泄……欲将先年哈密残破夷人随土鲁番使臣入境者分寄甘肃一带者,暂送腹里陕西、河南地方”。兵科给事中章镒亦称:“哈密遗种,寄附我边,日增月益,在在有之。”\\n\\n事实上，明廷强制回回与汉人通婚的初衷在于限制其人口增长，明法典原注中“夫本类（蒙古、色目）嫁娶有禁者，恐其种类日滋也”即是如此。然而，事实却表明，明朝政府的限制措施效果相当有限，回回人口反而借助通婚大幅增长。\\n\\n\\n\\n明代回族地区政治稳定的根源\\n\\n不过，需要指出的是，尽管回回人口在明代出现了剧增，但明廷在回回地区的统治依然是稳定的。终明之世，西北回回地区基本没有出现过大规模的穆斯林动荡和叛乱。那么，明朝为何能够在回回地区维系稳定的统治？\\n\\n这是因为，相比于后世，明代的回回宗教结构与宗教观念有着很大的不同。\\n\\n明代的闭关锁国和强烈的儒家文化氛围，使得伊斯兰教不仅缺乏传教人才，而且出现了儒家化的现象。明代中叶的海禁和西北边疆的隔绝，使抵达中国的伊斯兰学者、中国穆斯林到圣地的朝觐都越来越少，中国伊斯兰社会与世界伊斯兰社会逐渐呈现出隔绝的状态，并不得不走向本土化。到了明朝中后期，大批自幼习儒的回回知识分子开始通过儒家理论解构伊斯兰教典，如陕西回回儒生胡登洲办理经堂伊斯兰教育，回教传播呈现出“经政兼通，回而兼儒”的特性。在这种情况下，回汉社会的观念分歧急剧缩小，儒家立国的明廷能够相对适应当时回教社会的观念需求，从而实现有效治理。\\n\\n同样由于明代时期中国和伊斯兰世界的宗教交流匮乏，回回社会缺乏具有强大影响力的教典诠释者，中国伊斯兰学者既无法研读经典和教义，也难以到其他地方传播其认知，各地只能依靠“祖习、风俗、自性”家传口授。\\n\\n就这样，明代回回社会的伊斯兰教呈现出教坊式的村落分散结构：凡有十几户、几十户或几百户穆斯林居民的村落，便可以建造一座清真寺，择聘一位阿訇任教长，这一区域便形成一个独立的教坊，且与其他教坊没有任何隶属关系。教坊制的宗教结构使得回回社会的宗教组织结构极为松散，宗教的动员能力非常有限。明代基于士绅治理的统治机器，可以轻而易举地对回回社会实现有效治理。\\n\\n与这些现实相应的是，明朝政府对回族教坊的教长采取了收买扶植的政策，形成了共同的利益联盟，使伊斯兰教成为明廷统治回回社会的利器。按照明朝制度，凡清真寺的掌教，均须领得明廷发给的札副作为凭据，其中更有“敕赐札副”者，被称作“冠带住持”，即所谓“冠带荣身”，一切差役徭役，概在蠲免之列。弘治年间正式领取札副的北京东四清真寺掌教马颙，就是一位“冠带住持”；另外，明廷统治者与回回社会宗教领袖的结合还表现在掌教的世袭制上，如北京东四清真寺掌教马氏，自明弘治年间给予札副，住持是寺，绵绵延延。这种特权加身和世袭罔替的掌教制度，乃是明朝统治者在回回社会的统治手段。\\n\\n正是基于以上现实和政策，明朝才得以在回回地区建立廉价、稳定、有序的统治——这是后世统治者很难做到的。\\n\\n清朝前中期的治理思维\\n\\n明朝灭亡后，清廷入主中原。由于满清来自关外，对伊斯兰教和回族缺乏了解，再加上明代回回社会的本土化，故而清朝统治者并未意识到回回与汉族的区别。\\n\\n实际上，尽管清朝统治者在与蒙古、藏族、维吾尔族以及西南少数民族打交道的过程中，采取了相当灵活的政策，通过与各个少数民族上层达成权力联盟，形成了稳定的统治联盟，但在回族问题上，清廷则完全不同。\\n\\n清朝统治者并不认为回族有什么特殊性。当有官员提出回族的特殊性时，清政府则刻意强调“一体同视”的原则。\\n\\n1648年，甘肃河西爆发了以米喇印、丁国栋为首的回族大起义，起义军拥立故明延长王朱识穿，并打出“反清复明”的口号。清廷经过五年的时间，镇压了这场叛乱。叛乱后，清陕甘总督孟乔芳上奏清帝顺治，“（回回）从来叵测……习俗不一，终为疑二……（战后应）另行安置，勿令养马，勿藏兵器”。顺治皇帝对此不以为然，而是采取了与汉族类似的统一抚恤治理政策。\\n\\n1729年四月，针对多位大臣对回民的猜忌，雍正帝下谕内阁，称“（回民）其人既为国家之编氓，即俱为国家之赤子，原不容以异视也……朕思回民之有教，乃其先代留遗，家风土俗，犹中国人之籍贯不同，嗜好方言亦逐各异。”乾隆帝也曾表示“不以回民异视，而以治众者（汉人）治回民;为回民者亦不以回民自异,即以习回教者习善教。则赏善罚恶,上之令自无不行,悔过迁善;下之俗自无不厚”（《清高宗实录》卷八）。\\n\\n从三代满清帝王的表述中可以看出，清廷固然要求地方官员不得歧视回族,但也绝不承认回族的特殊性,坚持对回族的直接统治，正所谓“（回民）自其祖先以来,食毛践土,蒙国家豢养深恩者已百数十年,与民人同隶编氓,毫无区别”（《石峰堡纪略》卷十四）。这即是清廷前中期在回回社会实行直接统治的政治原则。即清朝以等同于汉地的郡县制统治回回社会。\\n\\n回教的变化：从教坊到门宦\\n\\n尽管清廷的统治手法依然延续了明朝的经验，但回回社会则随着时代的变革，发生了相应的变化。\\n\\n清朝平定台湾后，明廷“片板不许入海”（《明史》卷二百五《朱纨传》）的严苛禁海政策被废除，清廷取之以有所限制的“开海”政策，这就使得中国与世界的交流急剧增加。在这种情况下，伊斯兰世界的“正统”伊斯兰教传入中国，并对中国的回教社会产生了巨大影响。\\n\\n海禁的开放后，回回社会与伊斯兰世界的交流变得相对便利，使得一大批更具权威的传教大师得以涌现。\\n\\n他们中的一部分是中国穆斯林到伊斯兰世界学习，习得“真经”，回国后确立宗教影响力。如甘肃临夏穆斯林马来迟1728年到中东朝觐，通过师从一些中东苏菲派大师（中国版记录马来迟从广州航行到阿拉伯半岛，并在那儿向一个著名的伊斯兰学者学习3个月）；甘肃陇南穆斯林马明心随叔父赴麦加朝觐，被当地沙孜林耶道堂收为门徒，习经修道。这种源于伊斯兰圣地的宗教学习，使得回乡后的马来迟和马明心在回教社区的宗教权威性远远超过传统的儒式解读，成为当时著名的传教大师。\\n\\n传教大师中的另一部分则是亲自来华传教的伊斯兰世界传教者。明末海禁废弛之后，伊斯兰世界的传教者穆哈伊丁先后三次来华传教，第一次在广东、广西传教，第二次在湖南、湖北传教，第三次到甘肃传教，最后于定居于河州东乡大湾头，成为当地影响力极大的宗教领袖；而另一位伊斯兰世界学者和卓·阿卜杜拉则在传教时启迪了大拱门宦的创建者祁静一。\\n\\n海禁废弛之后的传教大师涌现，最直接的影响就是，以往回回社会孤立分散的教坊宗教社会结构被打破，转而代之以跨省连县式的门宦体系。传统的经堂传教和狭小村落式的孤立教坊传教无力抵挡伊斯兰世界的“真经”对信众的影响力，纷纷拜倒在那些传教大师面前。\\n\\n据马来迟的追随者记载，“马来迟朝觐回来后，声望很高，远近群众都来探望他这位有名的‘哈智’，他乘此机会宣传伊斯兰教和朝觐收获”，远近无不悦服，马来迟由此创建了著名的“华寺门宦”，当时就号令了四十多万人；而另一位传教大师马明心在归乡之后，“全国各地来此拜师求教者不计其数，有青海循化的苏四十三阿訇，平凉的穆大阿訇，宁夏海原的田五阿訇，同心的米爷，河州的高三阿訇，洪乐府的甘南旦若阿訇，伏羌（甘谷）银拐子的丁阿訇，巩昌（陇西）的三阿訇、李阿訇，安定（定西）关川的关里二阿訇（即哲赫忍耶第一部《热什哈尔》经的作者），礼县盐关的刘满拉，云南古城（今寻甸）的马三爷阿訇，贵州（今贵州省）的金氏弟兄，山东的金阿訇，陕西的陈阿訇、买阿訇、白乡老，新疆的没胡子阿訇等，还有灵州（今宁夏灵武）的马七巴巴者（马化龙之曾祖）挈其子马达天同学于马明心门下，一时传为佳话。经过这些学生的再次传播，追随者不断增多，遂形成了一个较大派别，被称为关川道堂（亦称哲赫忍耶门宦、关川门宦）。马明心也被称为‘关川阿齐兹’（即尊贵者）”\\n\\n最终，原本分散孤立的回回教坊社区最终在传教大师的影响下形成了强大统一的门宦整体，这是回回社会历史上所不曾有过的情况，就像大陆宁夏历史学会会长霍维洮所言“回族一开始就超越了部落阶段，其民族整合只能以宗教的方式展开”（《近代西北回族社会组织化进程研究》）。这种现实的转变，对于清廷的统治来说，是一个巨大的挑战。\\n\\n历史经验总结：跨区连片地传教可以极大提升宗教的动员能力，同时削弱统治者的管制能力，对于统治者来说，跨区传教即是威胁。\\n\\n清廷治回的新挑战\\n\\n回回宗教社会结构的变化，使得原本平静的回回社会出现了巨大的变化因素，进而影响到清朝地方政府在回回社会统治的稳定性。\\n\\n首先，对于传教者来说，信徒不仅仅意味着宗教影响力，也代表着真实的财富和现实利益。因此，当传教大师打破原有的孤立教坊之界限，跨区传教时，也就带来了回回社会新传教者与老传教者、新传教者与新传教者之间的剧烈斗争，这是清朝地方政府所难以应对的新问题。1747年，河州格底木回民马应焕向官府控诉华寺门宦创始人马来迟“邪教惑众”，聚众“至二三千人”，两者之间的分歧在于斋月里“开斋、礼拜”先后顺序不同，这是典型的老式传教者与新传教者之间的冲突。对此，甘肃巡抚黄廷桂要求新老教各方应自守其约，力避冲突，“前开、后开各遵祖教，遇有丧事，不许一起延请两造念经，致滋事端”。\\n\\n而哲合忍耶门宦的创建者马明心归国后在河州地区的传教也遭到了马来迟华寺门宦的阻挠，被迫到循化地区传教，随着传教者的不断扩张，哲合忍耶与华寺门宦之间的矛盾和冲突也日趋激烈，作为直接统治者的清政府不得不介入其中。在1769年的两门宦冲突中，清政府判处哲合忍耶的阿訇贺麻路乎发乌鲁木齐为奴，华寺门宦的阿訇韩五充军三千里。\\n\\n其次，伊斯兰世界的新教传入和普及，使得回回社会呈现出去儒家化的现象，加剧了回回社会与清廷儒家官僚阶层的观念隔阂，不利于双方的沟通。这种观念导致的误解，在清代中期政府官员的奏疏中体现得极为明显。\\n\\n1724年九月，山东巡抚陈世倌上疏称“如回教不敬天地、不祀神祗,另立宗主,自为岁年;党羽众盛,济恶害民”；陕西总督岳钟琪也有同样的看法，他在奏折中表示“查编户之中,有回民一种,其寺皆名礼拜,其人自号教门,饮食衣冠,异于常俗”；而安徽署理按察司鲁国华更在奏折中宣称“回民居住内地……自宜凛遵历度，仍伊不分大小建……又平日尚白，早晚皆戴白帽，设立礼拜、清真等寺名色。不知供奉何神，妄立把斋名目，违制惑众。”（见《清真释疑补辑》）”。\\n\\n清廷官员与回民之间的隔阂加深，实际上加剧了清廷官员对回民的蔑视，使得清廷在处置回教事务中的粗暴和蛮横不可避免。\\n\\n更为重要的是，门宦宗教体系极大的强化了回回社会的政治动员力，使得清廷地方政府在回回社会的统治面临巨大的抵抗。\\n\\n门宦的建立，使得回回社会原本孤立的教坊得以统一起来,各教坊所属的回民通过教坊、教区、道堂,实现了有机联系。尽管，回民与门宦之间的联系是比较自由的，但回民对门宦教主的宗教虔诚弥补了门宦组织的松散性,或者说由于教民有了坚韧的宗教信仰,门宦根本不需要对教民实施明显的组织控制，即可形成强大的动员能量。\\n\\n事实上，在门宦组织中，教主所属的教区和教坊,无论在心理上还是组织上，都是门宦组织确定无疑的领导核心。\\n\\n清廷大臣那彦成长期任职西北,他对门宦领袖的威望和动员力深感触目，在向朝廷报告的中，这位官员这样写道:“回俗阿浑为掌教之人,凡回子家务及口角争讼事件,全凭阿浑一言剖断,回子无不遵依” （《那文毅公筹划善后事宜奏议》卷七七）；而大陆宁夏伊斯兰教研究会会长勉维霖亦在其《中国回族伊斯兰宗教制度概论》中，则详尽阐述了当时门宦领袖的政治权威，“门宦谢赫,一般驻于他的传教中心地道堂,以领导和统辖各地的信众。门宦谢赫既是寻道者穆里德的导师和引路人,也是全体信众的精神领袖和世俗首领,具有至高的权威,受到信众的特殊尊崇,他的指示和命令称为\'口唤\',不论精神问题还是世俗问题,教众都要竭诚遵从。”\\n\\n就这样，清廷在回回社区的直接统治对象由类似于宗族的回坊个体，逐渐演变成庞大的门宦组织，也有能力做出规模更大的反抗，这是清廷脆弱的地方政府所无力面对的。\\n\\n新教回变\\n\\n由上可知，随着宗教冲突的加剧、官民隔阂的加深，以及门宦组织的形成，使得清廷地方政府与回民宗教力量之间的大规模对抗难以避免。双方的第一次剧烈碰撞恰恰源于这三种因素的叠加。\\n\\n1781年元年，马明心的弟子、哲合忍耶派阿訇苏四十三率领教徒千人围攻华寺门宦信徒的村庄，双方械斗“一日不绝”，清朝当地县府无力镇压，“游击胡松阿差弁带兵往来弹压而不能禁止”（《循化志》卷八）。\\n\\n在这情况下，陕甘总督勒尔谨委派兰州知府杨士玑，会同河州协副将新柱、皋司福菘等，带兵到该地区查办。苏四十三等装作华寺门宦的教徒前来迎接清政府的查办官员，清廷官员对其诳语道：“新教（哲合忍耶派）若不遵法，我当为汝老教（华寺门宦）作主，尽洗之”（《循化志》卷八）。“苏四十三等闻是言，反志益急。”夜晚，苏四十三率信徒千人，围攻清军所驻之白庄，尽杀新柱所属之清军，次日晨又赴旗台堡杀知府杨士玑、守备徐彦登、外委陈伏得、土司韩成嶙等。回民与清廷的直接冲突正式爆发。\\n\\n广告\\n去逛逛\\n清总督勒尔谨闻讯将哲合忍耶派创始人马明心逮捕，由官川解押兰州。苏四十三听闻恩师马明心被捕，遂率领哲合忍耶反抗军进逼兰州，要求清政府释放马明心，当时兰州只有清标兵800名，城中空虚。兰州布政使王廷瓒见状乃将马明心的随从先行释放麻痹反抗军，然后杀害之。马明心的死激起了哲合忍耶派的更大反抗，苏四十三反抗军被镇压后，到了1784年，马明心弟子田五又发动了对清廷的反抗。\\n\\n在这场哲合忍耶派（后来的哲合忍耶门宦）的反抗浪潮中，新式宗教政治动员力体现得极为明显。苏四十三和田五的反抗斗争显示，阿訇有能力成为大规模武装反抗运动的组织者，而宗教领袖的号召力可以通过信奉其的阿訇得到极大的拓展。\\n\\n据《钦定石峰堡纪略》记载，“田五于今年正月内至靖远掌教哈得成、头人哈彦家商同谋逆，复立新教，令哈得成、哈彦转约城内回民，俟起事后攻打靖远，勾通内应……勾令临期内应，众回民均属知情。”安定一带的反抗军亦由当地阿訇领导。“安定县属沙马沟、马家河地方俱有新教，马营街尽系新教。现在领头打仗头人名叫马阿不都、马之光、沙之玉、马世雄，此四人都是三掌教头目。”\\n\\n这次反抗的主要领导人或为马明心弟子，或为其亲属，或在宗教师从上属马明心一系，号令所及，无所不动。“至贼匪煽诱起事，系盐茶、靖远、安定、会宁、伏羌、通渭、固原、静宁、隆德、秦安、华亭各州县所属之小山、海城、官川、糜子滩、马营街、白马庄、马家堡、底店、乌家坪、鹰窝石、白杨岭、蔡家堡等处”（《钦定石峰堡纪略》）\\n\\n清廷的应对\\n\\n宗教力量的壮大和反抗，使得清廷在西北的统治变得软弱无力，这种现实迫使清廷做出一定的政策调整。\\n\\n在门派冲突恶化之前，清廷的政策是以增强驻军和强化地方政府组织为主。\\n\\n1729年,撒拉土司韩炳呈文说:“撒拉土广人稠,回民桀骜不驯,微末土目,委难约束,请设兵驻防,以期安”，次年,清廷设循化营,驻兵五百于草滩坝，1762年又设循化厅；1731年,甘肃巡抚许容要求在回族中强化保甲制度:“回民居住之处,嗣后请令地方官备造册籍,印给门牌,以十户为一牌,十牌为一甲,十甲为一保,除设立牌头、甲长、保正外,选本地殷实老诚者充为掌教。如人户多者,再选一人为副,不时稽查”；这是在西北回族中实行保甲制的开始,目的在于使官府统治进一步深入回族乡村,建立乡村政治网络,掌教之选则寓有把宗教势力亦纳于官府之用意；到了1738年,清廷议准川陕总督查郎阿奏议,在西宁城旁建土城一座,设游击、千总各一员,驻兵四百，并在贵德厅、甘都堂、河州城以西、西固城等处,或添兵把守,或增建墩台。\\n\\n经过几十年来对驻军的强化,到了乾隆时期，为了维持当地的稳定，清廷在甘肃的驻军已得到了极大的加强，故《清高宗实录》有云“故甘肃兵视天下为最多”，可见西北回民维稳压力之大。\\n\\n到了哲合忍耶派回变之后，清廷除了继续强化对回教地区的军事存在之外，也设法利用了门宦矛盾，并努力削弱掌教的影响力，以维持其在当地的统治。\\n\\n当回变发生后，乾隆帝表示“此案用旧教（华寺门宦）而除新教（哲合忍耶派）最为吃紧关键”，他反复指示清廷地方官员要充分利用回民内部的门宦之争，“即应明切晓谕旧教之人，赦其互相争杀之罪，作为前驱，令其杀贼自效。如此以贼攻贼，彼等本系宿仇，自必踊跃争先，既壮声势，又省兵力，则贼势益分”。变乱发生后，凡是参加反清行动的新教回民一律被镇压，祸及家属。更重要的是，清廷在经历回变之后，意识到门宦掌教的巨大政治动员力，因此不论新教老教，其掌教均令革除。\\n\\n就这样，通过花费巨大的庞大驻军和对回民内部矛盾的利用离间，清廷在回回社会的统治总算维持了大约七十年的大致稳定。\\n\\n清末大西北统治的真空化\\n\\n到了清朝晚期，随着官僚风气的腐化，清廷在大西北的统治能力逐渐衰朽，使得清廷在该地区的统治出现了真空。\\n\\n到了道光咸丰年间，清廷在大西北的官僚队伍已经退化得相当严重。在同治以前,清廷所署的甘肃巡抚共有四十人,其中满人倒有三十四人。由于享有政治特权的满族官员相对缺乏儒家政治理想，再加上西北地处偏远，缺乏来自上峰的监督，当地官员大多不仅疏于公务，而且贪污之风尤甚。道光时青海办事大臣哈勒吉那“素不识字,惮于用心,所管本署通丁,半通番匪”,“希图坐地分赃”；咸丰时陕甘总督乐斌“性爱听戏宴会,彻夜不休,同人深以为苦;酒量食量极大,舆夫走卒所不及” ，“属员相率效尤,俱尚浮靡。而督、臬两署笙歌,竟无虚月。”官员“恩麟、和祥、明绪并督幕彭沛霖,结拜兄弟,酒食征逐,醉后谩骂,毫无局面” ,甘肃官场“一堂鬼魊,暗无天日,不仅政由贿成也” 。\\n\\n与此同时，清廷在当地的驻军也失去了军事威慑力。当时的清军士兵缺乏纪律,借故滋事者极多。1850年(道光三十年),固原裁汰老兵,引起士兵闹事,“平庆泾道范懋德闻之大恐,亲赴教场向众兵磕头求散” ； 1856年,“胜保奏西宁、宁夏等处兵丁因请饷滋闹,兰州省城复有兵众围绕总督衙署,打碎藩司段大章、知府刘仲海肩舆之事;并汉回匪党于关内外抢劫,或假冒野番,或勾结番匪,行旅为之裹足,甚至饷粮、奏折均被抢掠……”军队哗变频发，不仅仅显示军事纪律的废弛，也表明维系清廷统治的暴力机器已经丧失了战斗力。\\n\\n税收的剧增和“回勇”的建立\\n\\n到了1853年，随着太平天国扫荡江南，清廷丧失了自己最大的财源，财政压力就被转移到了北方各省，而1860年，英法军队入侵直隶，捻军扫荡华北，四方扰攘，更使得财政压力集中在了西北各省。陕西是当时完好省份中最为富庶的地区，被视为饷源所在，成为清政府以镇压太平天国的人力、物力和财力的主要基地之一。《清实录》记载：“此时京饷及各军饷粮，均赖山、陕西省接济。”湖北巡抚严树森表示：“陕西为财赋之邦，西、同、凤三府又为精华荟萃，近年用兵各省，皆借陕西协饷聊以支持，即京饷巨款亦多取盈于此。”在这种情况下，陕甘地区回民的税负徭役压力和怨愤情绪可想而知。\\n\\n更为糟糕的是，清廷为了抵挡太平军而盲目扩编的“回勇”团练，使得事态开始失控。\\n\\n1860年清廷根据湖广总督官文的建议，在甘肃、陕西推行团练。在团练筹办之初，清廷组织了大批相对武勇的回民加入团练，试图以此编练精锐抵御太平军，却不曾想使得陕西地区的强大的回族武装迅速建立起来。\\n\\n以陕西凤翔地区为例，“初团练章程不分回、汉，在局中者千总铁九霄、监生麻生瑞，皆回子也……而有为之游说者……可得二千劲勇，将来御贼，较乡勇倍强。余商诸唐宰，从之，遂调看其技艺。从此回方市军器，缝旗帜，白布号头，踊跃用兵，莫能禁也。讹言四起，一日数惊。”（郑士范著《旧雨集》）\\n\\n回汉团练的组建，使得陕西过去的回汉冲突演变为武装斗争。团练之前，陕西回汉屡有争讼和斗争，但双方只是分散疏离的普通民众，造成的破坏和影响都非常有限。回汉团练组成，无论是汉民，还是回民，都变成了有组织的队伍，回汉矛盾极易转化为武装斗争。\\n\\n对于当时的场景，前江西巡抚、陕西士绅张芾在写给清廷的奏折中这样写道：\\n\\n“近日渭南地方……该处回众将汉民村庄焚毁杀戮甚惨；大荔县一带，回民亦纠众助斗，两县汉回，各怀不平，愈斗愈狠。并据华州知州禀称：渭南赵姓招募回勇在华州峪口滋事，华阴县汉民复将秦家村等处回庄焚毁；（渭）河北大荔、渭南所属汉、回各庄，亦互相烧杀，日来尚在相持；又据同官县知县禀称：耀州、富平等处汉回突至耀州所属之富沟堡，杀毙回民数十人，焚毁礼拜寺，复至同官县属之韩家原，开放枪驳，围攻搈杀。”\\n\\n清廷当时的谕旨也记录了类似的场景：“从前寻仇械斗尚不过在一村一镇之间……近因粤、捻各匪窜人陕境,西、同两府属汉回同时并起,纷纷烧杀,沿河一带村镇俱成焦土”（《清廷于同治元年六月初九日明发谕旨》）\\n\\n曾在陕西华阴县办理团练的士绅李启讷，目睹团练带来的灾难之后，在他的《愤忧疾书》中表示:“团练之设,名曰弥乱,实为乱阶。推原其由,善良者畏事,绝不与闻;刁猾者喜事,争先恐后。迨至充为团练头目,吓诈乡邻,借端索求,又有无赖游民,每日支得口粮,百十为群,抢劫成风,此风一炽,天下多事矣。如今岁关中回汉相杀,虽属回民滋事,实由汉人有以激之也”。\\n\\n所以,倡建“回勇”，致使回汉冲突失控，乃是清政府的严重政治失误。当庞大的回汉武装建立之后，清廷官府已无能力仲裁双方矛盾，维持社会秩序了。再加上政府的横征暴敛，一场大规模的毁灭性冲突，不可避免了。正如时人所言，“地方官亦右汉而左回,大变之兴有自来”（《壬戌华州回变记》）\\n\\n此时，干柴烈火早就就绪，只需一个导火索即可。\\n\\n历史经验总结：普法战争时，法国政府武装巴黎市民，形成了革命军的基础，且不受政府控制，导致了巴黎公社革命；俄国革命的后备军，法国大革命中的国民自卫队，都是如此。\\n\\n谣言、回变与蔓延\\n\\n当时，云南爆发了杜文秀、马如龙、马德新等领导的回变，陕西回民与之多有交结。在回汉杀戮渐乎失控的情形下，陕西士绅、前江西巡抚张芾亲自到回民中间调解冲突，声称“汝等皆良回，起衅者任老五（任武，回民头目）耳。只诛渠魁，胁从罔治”，任武之所以不被赦免，是因为他参与了云南的反清回变。\\n\\n然而，当任武听闻清廷必不恕己的时候，便设法挟持张芾，并声称在张的轿子中发现“秦（陕西）不留回”的传单，鼓动回民将张芾以极其惨烈的方式处死，从而以杀害朝廷大员的既成事实逼迫陕西回民叛乱。\\n\\n陕西回变发生后，回汉攻杀愈发惨烈。清廷害怕甘肃回民起来响应，试图争取甘肃境内的强大宗教门宦，以稳定局面。陕西回变之初，1862年7月，灵州知州张瑞珍曾召见哲合忍耶门宦领袖马化龙，马化龙当时力保灵州回众不参与叛乱；张家川地区回民领袖马伏瑞也声明将约束回众。然而，陕西回汉相互残杀和清廷大肆镇压陕回的事实，大大激发了甘肃回汉、回清之间疑惧，使得双方的信任荡然无存。\\n\\n1862年8月，宁夏同心平远所回族把总马兆元散发谣言，声称“称奉上司檄，官兵刻期歼除回类”，甘肃回民深信其言，“各庄回民纷纷惊惧，投往附和”。随后，哲合忍耶门宦领袖马化龙在金积堡举兵。回变蔓延至甘肃境内。\\n\\n陕甘回变使得内地通往新疆的道路阻绝，新疆清廷统治机构无力维持局面，变乱频发。1864年4月，回教阿訇热西丁在反叛者的支持下，控制了库车；白山派宗教领袖托合提·爱来姆控制了喀什；1864年5月，寓居在乌鲁木齐的甘肃河州阿訇妥得璘在回族将领索焕章的支持下，发动变乱，自称“清真王”；1865年9月，浩罕军人阿古柏奉“大和卓”后裔布素鲁克入侵新疆。\\n\\n从此，云南、陕西、甘肃、青海、宁夏、新疆皆被回变所席卷，可谓全盘糜烂。\\n\\n清末回变领袖一览表\\n姓名\\n身份\\n起兵\\n结局\\n杜文秀\\n大商人、秀才、意见领袖，通晓回教经典\\n1856年起兵云南蒙化(今巍山)\\n1872年服毒后投清营，被杀害\\n马德新\\n云南著名回教领袖\\n1856年号召云南东南起义，响应杜文秀\\n1862年投降清政府后豁免，1874年被清政府杀害\\n马如龙\\n武生、官宦家庭\\n1856年起兵云南红河\\n1862年投降清政府，获署总兵衔，后为云南提督\\n马兆元\\n盐茶厅属平远所把总\\n1862年起兵宁夏同心\\n1863年被其他回变军诱杀\\n马桂源\\n华寺门宦创始人马来迟四世孙，华寺门宦宗教领袖\\n1862年起兵甘肃西宁\\n1873年被清政府处死\\n禹得彦\\n陕川地区的大地主和大商人\\n1862年起兵陕西渭南\\n1872年投降清政府后豁免\\n白彦虎\\n陕西“回勇”头领\\n1862年起兵陕西渭南\\n逃亡俄国幸免\\n任武\\n陕西回变领袖\\n1862年起兵陕西渭南\\n1863年被盟友禹得彦所杀\\n马化龙\\n哲合忍耶学派第五代穆勒师德（传教人），大阿訇\\n1862年起兵甘肃金积堡（今属宁夏）\\n1871年被清政府处死\\n \\n马占鳌\\n莫泥沟清真寺和大河家清真寺之开学阿訇\\n1863年起兵甘肃河州\\n1872年投降清政府后豁免\\n马永琳\\n苏菲主义虎夫耶派领袖\\n1863年起兵甘肃河州，被招降\\n1895年河湟起义后被清政府杀害\\n艾拉汗\\n低阶军官家庭\\n1864年起兵新疆伊犁\\n流亡俄国\\n妥得璘\\n河州回民阿訇\\n1864年起兵新疆乌鲁木齐\\n1872年被阿古柏所杀\\n热西丁\\n额什丁麻札清真寺教长\\n1864年起兵新疆库车\\n1867年被阿古柏所杀\\n阿古柏\\n浩罕汗国高级官吏\\n1864年奉布素鲁克入侵南疆\\n1877年去世，死因不明\\n布素鲁克\\n大和卓木曾孙，南疆宗教领袖\\n1864年随阿古柏入侵南疆\\n1869年去世，死因不明\\n马文禄\\n甘州（今张掖）提督索文部下军官\\n1865年在肃州（今酒泉）起兵\\n1873年战败被杀\\n\\n\\n清廷的应对与结局\\n\\n尽管回变涤荡半个中国，但当时的清政府最关键的敌人依然是与之争夺天下的太平天国和捻军，在太平天国和捻军被消灭之前，清廷对于各个回变军的政策是有以招抚为主的针对性遏制。\\n\\n在陕西地区，清军兵力集结较为便利，且变乱威胁中原腹地，危害较大，清廷乃以武力消灭为主。1862年五月，清廷命令名将多隆阿督办陕西军务，1863年二月，多隆阿攻占回军在同州的两个重要据点羌白镇和王阁村，九月攻占苏家沟和渭城湾，杀死回变军一万七、八千人，陕回基本被驱逐出陕西境内。\\n\\n在云南、甘肃、青海、宁夏地区，由于地方偏远，清军集结不利，且回变军实力雄厚，而当地回变军领袖马桂源、马化龙等人也志在追求独立自治权（马化龙甚至改名为“马朝清”），清廷乃通过承认回变军统帅的兵权、管辖权，并赠送官职，通过拉拢分化这些回变军，防止局势恶化。\\n\\n在云南，清廷多次招抚回变军统帅马如龙和马德新等人，任命马如龙为云南提督，任命马德新为“二级伯克”，“云南回回总掌教”；在甘肃，清廷置回变军叛乱事实不顾，设法拉拢回变军领袖，先后任命金积堡回变军领袖马化龙为记名提督，西宁回变军领袖马桂源为西宁府知府，肃州马文禄为镇标都司，承认其军事和行政自治权，并利用回变军的内部矛盾，诱杀了回变军领袖马兆元，勉强维持了清廷对这几个省份的名义统治。至于新疆地区，清廷则无暇顾及。\\n\\n不过，到了1868年，清廷平定太平天国和捻军之后，有了足够的军事力量，便改变了对以上各省回变军的安抚政策。\\n\\n1867年2月，左宗棠被任命为钦差大臣，都督陕甘军务，他一改此前宁夏将军穆图善的安抚政策，拒绝承认受抚回变军的官衔，致力于武力镇压回变军。1869年9月，左宗棠率军进攻灵州回变军马化龙所部，1871年1月，马化龙军被打垮，3月，马化龙被杀；1872年6月，左宗棠迫使河州马占鳌回变军投降；1872年11月，打垮了西宁回变军马桂源所部；1873年11月，肃州马文禄回变军战败投降。陕甘平定之后的1876年，左宗棠出兵新疆，历时一年多，平定新疆回变。\\n\\n同样的情形发生在云南，1867年之前，云南回变军领袖杜文秀控制了半个云南，并率领大军围攻昆明，清军直到1869年之后，方才腾出军力反攻云南，到了1872年底，最终攻克大理，并在1874年重新恢复了对云南的统治。\\n\\n人口损失与历史教训\\n\\n清末回变是中国历史上规模最大的宗教战争，在战争中，回汉相互攻杀，备极惨毒，战争也极大地陕甘两省的民族分布。\\n\\n据《中国人口史》一书的统计，回变战争中，甘肃（此时的甘肃包括今宁夏回族自治区和青海省西宁市海东地区）全省人口损失约1400万人，人口损失比例为74.5%；陕西人口损失总数高达622万，大约占战前人口总数的44.6%。其中，陕西省因战争杀戮死亡的人口为520.8万，占全部损失人口的比例高达83.7%，而因灾荒损失的人口不过101.2余万。战乱过后，原有约200万回民的陕西省最后仅存于西安城内和陕南。而甘肃回民在战争中损失超过十分之八，汉民损失近十分之七。\\n\\n总之，同治回变是一次历史上罕见的浩劫，在宗教极端主义和极右翼浪潮愈来愈烈的今天，中国历代的回教治理与回变，无疑是历史留给现代人的宝贵经验。\\n"}'));jctx.push(JSON.parse('{"id": "181222", "tag": "book", "text": "# 司马代魏\\n\\n因为失败者没有人权。自正始十年（249）高平陵之变到景元五年（264）司马昭称晋王加九锡，司马家两代三人用了15年的时间巩固统治，经历高平陵之变、淮南三叛等事件已经扑灭了所有的明面的和潜在的反对者。那些曹魏的忠诚者、支持者、甚至同情者们，都已经被从肉体毁灭到升迁打压，最终消失于历史里了，他们可能心向曹魏，但在司马氏一次又一次的血腥屠刀下，这些人不投靠司马氏，也就成为了粉末。同时因为这些人没能赶上魏晋换代的机会，无法成为西晋开国功臣，自然也就没人记得乃至知道他们了——毕竟正面造反还能留下个名，被打压排挤到没官可做，可是连个名都留不下来。\\n\\n至于司马氏篡权的最开端高平陵之变的时候，因为曹爽那十年干的太出色了，所以曹魏元老们都是站在司马懿一边的。司马懿强大的政治号召力使他表现出来的不是被目为阴谋篡权的乱臣贼子形象，而是出来匡正朝纲的功勋太傅。政变时，司马懿称高柔“君为周勃”，意即此举在曹魏元老心中是昔日陈平、周勃诛除诸吕安定刘氏一样的行为。也因此他们觉得曹爽才是乱臣，老太傅是出来安定局面，重新维护他们这些曹魏功勋元老的利益、安定曹魏的，他们认为司马懿在做的才是护卫帝室。曹爽所任命的大多是姻亲同郡，这才是损害了曹魏老臣们的切身利益。像历仕四代的蒋济、高柔，孙资、刘放，这些人都信任司马懿，再加上与司马懿关系密切的司马孚、王肃（也就是王司徒儿子）、陈泰、荀顗、郑袤，与曹爽集团闹翻的北地傅氏傅嘏、范阳卢氏卢毓、陈郡何氏何曾、颍川钟氏钟毓，此外还有孙礼、王观等人，这些人都是司马懿的盟友。\\n\\n高平陵之变里曹爽亲信——他们的身份更准确是司马懿等曹魏元老的政敌，既然站在司马懿对立面，姑且算是忠于曹魏的吧。毕竟他们肯定拥护曹魏统治，不可能支持司马氏营立家门的行为。\\n\\n曹爽兄弟：曹真子\\n\\n何晏：曹操养子、娶公主\\n\\n邓飏：南阳邓氏\\n\\n丁谧：曹操同乡亲信丁斐之子，可能是丁夫人族人\\n\\n李胜：上党、钜鹿二郡太守李休之子\\n\\n毕轨：东平毕氏，明帝亲信，曹操早年别驾毕湛之子，子娶公主\\n\\n桓范：龙亢桓氏，曹操乡里老宿\\n\\n以上人物下场：夷三族\\n\\n高平陵之变里司马懿的两位主要盟友太尉蒋济和司徒高柔。蒋济反对将曹爽诸人灭族，是曹魏政权的同情者，于是后世无闻，子孙无仕宦记录，五等封爵时获得一个子爵而已。相比之下高柔的后代就显赫多了，长子高俊大将军掾；次子高诞，历任三州刺史、太仆；三子高光，廷尉、尚书令，赠司空。这就是差距。\\n\\n高平陵之变里支持司马懿的士族代表是尚书陈泰和侍中许允，他们劝服了曹爽投降。陈泰是颍川陈氏司马懿密友陈群之子，高平陵之变时站在司马懿一边非常正常，但高贵乡公之事时，陈泰要司马昭诛贾充以谢天下，司马昭拒绝，于是颍川陈氏陈纪支名位遂微，不复汉魏两朝并有重名的景象了。许允是河北冠族，与夏侯玄、李丰为密友，两人被司马师诛杀后，许允也走到了司马家对立面，准备趁阅兵时做掉司马昭，然后再攻司马师，事泄被流放乐浪，半路被追杀。\\n\\n此外可能被牵连的还有尚书左仆射徐宣之子徐钦（桓范牵连）\\n\\n淮南一叛\\n\\n淮南一叛有既有忠于曹魏的因素，也有权臣争权的内质，我个人觉得王凌更想当权臣。王凌是王允的侄子，虽然以主弱受制于强臣为理由，但他的行为不太像匡正。王凌之所以敢与司马懿对抗，所依仗的就是曹魏四征三方与自己关系匪浅。王凌自己为假节钺、太尉、征东将军，外甥令狐愚为兖州刺史，专东南之重；征南为族弟王昶，都督荆州豫州军事，征西为郭淮，是王凌妹夫。不过王凌想的太多，做的太少，被司马懿亲征迅速平定。\\n\\n淮南一叛的影响扩散不大，一是因为司马懿之前杀的人太多了，二是王昶、郭淮都是司马懿提拔过的亲信，所以仅太原王氏祁县王凌支夷三族，太原王氏晋阳支、太原郭氏、太原令狐氏都安然无恙。\\n\\n可能被牵连的人大司农梁习之子梁施（王凌牵连）\\n\\n淮南二叛\\n\\n司马懿死后，司马师继续执政，这引起了魏帝曹芳的不满。因为司马懿自身是四朝元老、又受两代皇帝托孤，本身功勋卓著，所以由他辅政从皇帝到朝野并无异议。至于司马师就名位差很多了，凭什么可以掌控军政大权？\\n\\n魏嘉平四年春正月，（司马师）迁大将军，加侍中，持节、都督中外诸军、录尚书事。命百官举贤才，明少长，恤穷独，理废滞。诸葛诞、毌丘俭、王昶、陈泰、胡遵都督四方，王基、州泰、邓艾、石苞典州郡，卢毓、李丰掌选举，傅嘏、虞松参计谋，钟会、夏侯玄、王肃、陈本、孟康、赵酆、张缉预朝议，四海倾注，朝野肃然。\\n注意这些名字，全部与司马氏关系亲密，不是司马懿提拔的亲信，就是曾经在司马懿麾下效力，或者是司马师兄弟的通家之好。这里面大部分日后依然是司马氏的心腹重臣，小部分因为心向曹魏被司马家夷三族。\\n\\n中书令李丰、太常夏侯玄、光禄大夫张缉等准备发动政变，做掉司马师。计划泄露，李丰被司马师亲手锤死，夏侯玄被斩，张缉被赐死狱中。李丰是卫尉李义之子，魏明帝曹叡亲信，很可能和毌丘俭是早年密友，子娶公主联姻魏室；夏侯玄，曹魏宗室，征南大将军夏侯尚之子、曹爽表弟；张缉，凉州刺史张既之子，女为曹芳皇后。这次在中央的未遂政变，有很深的曹魏皇室背景，连皇帝曹芳都因此被废。受牵连者苏铄、乐敦、刘贤，都是小角色，不过待遇相同，全部夷三族。\\n\\n司马师废曹芳后，都督扬州的镇南将军毌丘俭与扬州刺史文钦起兵，司马师亲征淮南。毌丘俭是魏明帝曹叡亲旧，铁杆曹魏粉丝。文钦，曹操同乡部将文稷之子，曹爽亲信，忠诚度不如毌丘俭，但起吗也是曹魏支持者。事败后，毌丘俭夷三族，文钦逃亡入吴。\\n\\n除了二人外，受到牵连的还有刘陶。刘陶，大鸿胪刘晔之子，曹爽亲信。同为曹爽亲信的毌丘俭起兵后，司马师问计于刘陶，刘陶不肯多说，激怒了司马师，出刘陶为平原太守，路上被司马师派人砍了。\\n\\n淮南三叛\\n\\n诸葛诞并不是什么曹魏忠臣，只不过被司马昭逼反了。他的好友邓飏、夏侯玄已经提前一步夷三族了，之前都督淮南的王凌、毌丘俭也已经夷三族了，于是诸葛诞再接再厉，据要地，拥强兵，外联孙吴，准备割据了。这次是司马昭带着太后、皇帝，都督中外二十六万大军倾国之力亲征诸葛诞，激战十个月，诸葛诞传首，夷三族。此战过后，司马氏举国上下再无敌手。\\n\\n高贵乡公\\n\\n至司马昭执政时，朝中和外镇的反对势力基本已经被肃清，所以才有了高贵乡公奋力一搏，不愧为曹操子孙。高贵乡公平日为其讲经的是太保郑冲、司空王祥，与他讨论经学的是中护军司马望、侍中王沈、散骑常侍裴秀、黄门侍郎钟会，这些人全数出自高门大族，但已经全是司马氏的心腹了，没人心向曹魏了。郑冲荥阳郑氏、王祥琅琊王氏、司马望河内司马氏司马懿之侄，王沈太原王氏、裴秀河东裴氏、钟会颍川钟氏，而且这批人最后全部成为了司马氏的重臣。当然，钟会本身就是个野心家，最后玩脱了，把自己玩死了。\\n\\n不过高贵乡公一事事发突然，受影响的除了想让司马昭杀贾充的陈泰外，还有太尉满宠之孙满长武，他是司马家姻亲，照样被司马昭拷问杖死。\\n"}'));jctx.push(JSON.parse('{"id": "181230", "tag": "design", "text": "# 并不神秘的深度优先搜索\\n\\n在图中搜索到某个点的路径，把图映射成一张二维数组，每个坐标的值，区分障碍物，未走过，已走过等状态。\\n\\n深度优先的核心思路还是递归的应用，先确定下一步的寻路方向，然后把下一步的坐标点直接以递归的方式调用，虽然看起来只是一次函数调用，但已经穷举了这个坐标点后所有的可能。但是穷举这个方向不一定会有结果，所以当函数结束后，要回退这一步的尝试，换一种寻路的方向，再次递归尝试。如果是数组，只要单方向前进就够了，如果是地图寻路，可以在4个方向上做尝试，4个方向都尝试过，所有寻路的可能就穷举尽了。\\n\\n深度优先也属于穷举，只是用了递归的方式让代码看上去比较简洁。\\n\\n```\\n#include <stdio.h>\\n#include <stdlib.h>\\n\\nint gmap[6][5] = {\\n  0,0,0,1,0,\\n  0,0,1,0,0,\\n  0,0,1,0,0,\\n  0,0,0,1,0,\\n  0,1,0,0,0,\\n  0,0,0,0,0,\\n};\\nint move[4][2] = {1,0,  0,1,  -1,0,  0,-1};\\n\\nint gshort = 100000;\\nint gall = 0;\\nint gway[100] = {0};\\n\\nvoid printway(int cnt){\\n  int i = 0;\\n  for (; i<=cnt; i++) {\\n    printf(\\"%02d \\", gway[i]);\\n  }\\n}\\n\\n#define ISREACH(x, y) ((x==4)&&(y==0))\\nint sf_step(int x, int y, int cnt){\\n  int eps;\\n  int i=0;\\n  printf(\\"EPS:%p\\\\n\\", &eps);\\n  gway[cnt] = 10*y+x;\\n  gall++;\\n\\n  if (!ISREACH(x,y) ) {\\n    for (; i<4; i++) {\\n      if ( (x+move[i][0]<5) && (x+move[i][0]>=0)\\n        && (y+move[i][1]<6) && (y+move[i][1]>=0)\\n        && (gmap[y+move[i][1]][x+move[i][0]]==0) ) {\\n        gmap[y+move[i][1]][x+move[i][0]]=2;/*reach this slot*/\\n        if (1==sf_step(x+move[i][0], y+move[i][1], cnt+1)) {\\n          cnt+1<gshort? gshort=cnt+1: 0;\\n          return 1;\\n        }\\n        gmap[y+move[i][1]][x+move[i][0]]=0;\\n      } else {\\n        continue;\\n      }\\n    }\\n   } else {\\n      printway(cnt);puts(\\";\\");\\n      return 1;\\n    }\\n    return 0;\\n}\\n\\nint main(int argc, char** argv) {\\n  int x,y;\\n  x = atoi(argv[1]);\\n  y = atoi(argv[2]);\\n  printf(\\"%d,%d\\\\n\\", gall, sf_step(x, y, 0));\\n  return 0;\\n}\\n\\n```"}'));jctx.push(JSON.parse('{"id": "190120", "tag": "book", "text": "# 梁山排名解\\n\\n关于几个点，第一个，鲁智深确实是天下第一的好男子，但评价好坏，要论品行，打死镇关西虽是无心，但却是一个黑点，且改为上中人品；第二个，青州虽有错在先，但百姓无辜，所以宋江、花荣洗不白，可他们又和普通杀人魔不同，所以花荣列为中下；第三个，秦明认花荣作大舅哥，也是身不由己，但确实凉薄，对于一个没有恶行的人，不该是中下，所以是中品，张清列为中品，也是因为对妻子不地道，林冲不一样，他是完全没有担当，看着老婆进火坑，所以是中下；第四点，当时朝廷无德，权臣窃国，所以占山为王、取生辰纲、军官投降非梁山人物之过错。\\n\\n\\n话分两头，这个山头在招安之前，是邪恶的，看似杀了不少贪官，实则是为了粮草。打东昌府那次，结尾说，太守清廉，饶了不杀。如果真的是替天行道，为什么要打东昌府，为什么要连累当地百姓？打大名府，军民死伤半数。每除去一个贪官，都要满门抄斩，包括妇女、小孩、丫鬟、仆人，说实话，在《封神演义》中纣王自焚的一段，作者尚有怜惜无辜宫人的情感，虽然封神只是二流小说，但可取之处不少。\\n\\n此外，畸形的侠义。男人喜欢女人是可耻的。亲密度决定立场，如施恩、蒋门神都不是什么好东西，但施恩和武松亲密；孔家兄弟行凶杀人，占据白虎山、落难于官府，按道义，不该相助，但武松、梁山还是帮了。道德绑架，李忠的二两银子，史进和李睡兰。随意行凶闹事，就连鲁智深都有不让李忠卖药，打掉小二牙齿的黑点。为了所谓的义气，视家人如无物，汤隆和徐宁就不说了，讲义气的乐和为了救二解，联合孙新坑姐夫孙立，想过姐姐吗？\\n\\n\\n另一头，说梁山人：\\n\\n七领袖：宋江，给晁盖报信是义气，还是目无王法，暂且不论，因为朝廷不咋地；为人有可取之处，识英雄，对武松、李逵是真心相帮；情商高，百两黄金，取一条，既顾全兄弟情义，又没让梁山乱花钱；热心肠，得到一条金子，马上想到帮助老人家；知廉耻，救刘高妻子于清风山。但此人可同富贵，不能共患难；平常的时候，是个君子，紧要关头，暴露凶心；而且贪婪、野心极大。清风山陷害秦明，说实话，刘高事件是青州官府的错，还是花荣、宋江的错？宋江好心救人，被反咬一口；兄弟无辜被抓，花荣挺身相助，花宋并无理亏之处，反倒是青州官府不察，宋江虽然害了秦明，但彼此为敌，本来就是你死我活。是青州先捉拿的宋江，宋江后烧的民居，错不在宋江，而在官府，只是可怜的还是无辜百姓。此后，杀黄蜂、灭高廉，打祝家庄、曾头市、芒砀山，都是对方自找。可是对李逵、对朱仝、对晁盖、对林冲、对大名府、东昌府的百姓，宋江做的如何？可谓狠心。宋江有优柔寡断之处，四大奸臣，三个带亲，高俅只是个外人，梁山打了杨戬，杀了高廉，杀了蔡京门生，差点害了蔡京的女儿女婿，此仇已经不能解，反倒杀了高俅，倒有敲山震虎的作用，而且可以通过贪生怕死的高俅，引来高衙内，杀此贼父子。结果呢，放了！又想打个大仗，又畏首畏尾。但此人，大义不亏；纵是朝廷排挤，坚决不降辽国；面对辽国贿赂，痛斥之，不辱国威；为官时，兢兢业业；身死时，不忘忠心。所以宋江表面忠厚，内心狠辣，又颇有气节，为人中品。\\n\\n卢俊义，心地善良，救李固、抚养燕青；面对混江龙水淹太原城，不因战胜而喜，反为百姓而悲。善。\\n\\n吴用，为人歹毒(不用多说)。\\n\\n公孙胜，道德之士。\\n\\n朱武，占据少华山，只为谋生(只看到少华山为了生存打劫粮草，未见害人举动)；为陈达，甘冒风险；为了少华山，情愿将首领之实位让于史进(为保一山，而将一山之富尽托付于外人，此等胸襟，王伦难比)；兄弟死后，洒泪祭奠，朱武者，国之栋梁，人中君子。\\n\\n柴进，就凭他姓柴，他养士人、留囚徒就合理合法，未有害人之举，善。\\n\\n李应，先是祝家庄负李应，后是李应置身事外。未有害人之举。善。\\n\\n七个领袖，一个知大义(宋江)，三个君子(卢俊义、朱武、公孙胜)，两个好人(柴、李)，只有一个小人(吴用)。\\n\\n五虎：关胜，重情重义。虽降梁山，而宋非季汉，宋徽宗不是刘备，蔡京也不是诸葛亮，且关胜先服宋江为人，后上的梁山，不愧祖宗。是个英雄。\\n\\n林冲，欺软怕硬，为人怯懦，有点智障(比刀、当董超和校霸的面夸鲁智深)。杀王伦是污点，虽是柴进举荐，但梁山毕竟姓王，但个人认为林冲是一时兴起，非有意如此，情有可原之处。为人中下。\\n\\n呼延灼，高手有两种，一种是一生无敌、所向睥睨，一种是被更厉害的高手打败，呼延灼是唯一没被其他高手打败且鲜有胜绩的高手——鲁迅。这哥们挺逗，骂了上梁山的凌振，自己也上了梁山；有一个黑点就是，走投无路的时候是慕容帮了他，结果他反倒领梁山军马攻打青州，看在身不由己的份上，理解一下。人品中下。\\n\\n秦明，这个太惨了。人品中等。\\n\\n董平，人渣，最坑的是程万里不想得罪梁山，是他得罪的梁山；结果带着梁山杀了程万里。\\n\\n五虎之中，一个人渣。\\n\\n八彪：朱仝，重情重义，善。\\n\\n花荣，宋江铁粉，人品中下(毕竟有青州事件)。\\n\\n张清，这哥们最逗的是，和老婆亲热完才说，我叫张清。人品中等。\\n\\n索超，愣头青，人品算中等吧，脾气不好。\\n\\n杨志，有些怕事、脾气差；但杀牛二，主动自首；生辰纲被劫，没有补刀杀了几个坑货，人品中上。\\n\\n穆弘，横行霸道、无视人命，恶。\\n\\n徐宁，惨，算是个好人。\\n\\n史进，水浒传中的黄天化，品格高尚，做事糊涂。被王进打败，马上认错，为人大气坦荡；苦留王进、为父守丧，知恩图报，有孝心；大战陈达，保卫乡里，有勇气、担当；义释三人，有情有义；少华山派人半夜送礼，没有推辞，为人豪爽，知道体谅他人；还礼的时候，只送衣物用品，不送金银珠宝，可知史进是真心待人，并非表面形式；大战华阴县，有血性；尊敬李忠这个半吊子师父，念旧情，知感恩；救王义，闯华州，侠肝义胆。缺点也明显：不务正业，败家子，有孝心没孝行；不会说话，好得罪人；没有心眼(相比宋江只拿一条，史进的来者不拒就太稚嫩，毕竟人心隔肚皮)，也就是坦诚大劲了，题外话，这也是鲁智深和史进最好的原因，瓦宫寺，鲁智深知道史进需要钱，让他先挑，史进也不客气，捡好金银包了一包，要是所有兄弟都像这二人，生活将轻松不少；太稚嫩，做事少考虑，一时兴起烧了庄子，当时不肯落草，等到走投无路了回去，那差别就很大了；好色，结果坑了一个无辜妓女。不知如何评价，说是上品人物，却多是混账行径；说是下品人物，却是个响当当的英雄，故评为中品。\\n\\n八骠之中，只有一个恶人。\\n\\n十步：鲁智深：梁山里面，唯一一个尊重女人，还和别人讲道理的好汉，桃花庄里，庄客骂他找死，他还据理力争，挺可爱的。但镇关西，罪不至死；杀人之后畏罪潜逃；随便动手打人店小二(本来就手重)，这些都是过失，虽然我非常尊敬鲁智深(假如我是梁山一员，一定反对招安，因为鲁智深反对招安)，但过错明显，人品就列为上中品。\\n\\n武松：前期打人未伤人命，暂且不提；对施恩，也算是照顾小弟，也不提；血溅鸳鸯楼，虽杀无辜，但愤恨所致，可以理解。但是蜈蚣岭杀小道童，白虎山下行凶，若是不上二龙山，不知道要害多少人，还好迷途知返，皈依佛门，人品中品吧。\\n\\n石秀，之所以杀人，非为杨雄，乃为私愤，性情残忍，虽有智慧，仍为恶人。\\n\\n杨雄，兢兢业业好干部，努力工作好丈夫，善待石秀好兄弟，虽然杀人犯法，一来妻子有过，二来石秀引诱，再者心中愤懑。故应该是个好人。\\n\\n二解，本本分分的可怜孩子，好人。\\n\\n雷横、刘唐，人品只能是中下。\\n\\n李逵，十恶不赦。\\n\\n燕青，有智慧，不滥杀无辜，坦坦荡荡(从见李师师后，和戴宗的对话看出)，真真的君子。\\n\\n好的极好，坏的极坏。\\n\\n一个情报官：戴宗，酷吏，而世风如此，故戴宗非是恶人，人品中等。\\n\\n八水军：李俊，揭阳岭上，只有他不做人命的生意，虽水淹太原城，乃是为国效力；侠肝义胆，重情重义，二童为助手，也是重情重义，三个都是上品人品。\\n\\n二张都不是好东西，而张顺清白些，张横手里，不知多少人命。\\n\\n三阮，容易被利用，但没什么大过失。\\n\\n水军一个恶人(张横)。\\n\\n三十六天罡加上三个地煞，步军恶人最多，步军之外，吴用、董平、穆弘、张横是恶人，宋江、张顺不算好人，林冲、呼延灼、花荣有些污点。\\n\\n十六小骠：黄信戏份不算多，人品算中等。\\n\\n孙立先被兄弟坑，迫不得已，又坑兄弟，且彼此敌国，此为兵不厌诈；如果孙立单枪匹马，找栾廷玉劝降，栾廷玉、祝彪会放了他吗？所以并不能说是孙立的过错，非是孙立人品差。\\n\\n关胜的两个副手、水火二将，都是有情有义的人。\\n\\n呼延灼的两个副手，人品也没什么不好。(朝廷军官的素质是真高)\\n\\n陈达、阳春，我相信少华山上都是君子。\\n\\n欧鹏，武功不错，人品不知；邓飞，疾恶如仇，颇有侠气(救裴宣、让位)。\\n\\n杨林，有些英勇之处；马麟，这个出场太少。\\n\\n周通，一个有礼貌的强盗，但不是好东西，人品中下。\\n\\n燕顺，食人恶魔，恶人。\\n\\n小骠有两个坏东西。\\n\\n十七小校，芒砀三侠，皆是好汉；鲍旭，听名号就是心狠手辣之辈。其他十三个， 施恩、穆春，横行一方(施恩还好一些)，李忠，有过谋财害命的行径；龚旺、丁得孙、薛永、宋万、杜迁、郑天寿、焦挺、石勇，普通人物；邹家叔侄，有情有义。\\n\\n五个好汉，八个寻常人物，一个不怎么样(施恩)，三个坏人。\\n\\n此外三十六人：\\n\\n六健将：孔明、孔亮，杀人的暴徒；王英，淫贼；扈三娘，可怜之人；吕方、郭盛，还算不错。\\n\\n三个恶人。\\n\\n十二个情报人员：张青、孙二娘、李立，人中恶鬼；王定六，平庸无奇；朱贵，平庸无奇，但过去梁山酒店的作风和十字坡相比，好不到哪里；杜兴，算是有情有义；顾大嫂、孙新，坑哥哥。\\n\\n白胜，也算是好汉了，在晁盖已经暴露的情况下，忍了许多刑罚才招供的；乐和，坑姐夫；时迁、段景住，盗贼。\\n\\n梁山情报人员普遍不咋地。\\n\\n六个斯文人士：神医、伯乐、书生、匠人、孔目、神算子都不错。\\n\\n两个行刑头领：蔡家兄弟，也算酷吏了，但危机之时，还知道救城里百姓，是两个好汉。\\n\\n一个炮手：凌振没什么黑点，还是那句话，军官素质普遍高。\\n\\n九个打杂的：汤隆，坑兄弟，恶人。\\n\\n朱富，下药杀人，虽然是为了救李逵，但也挺狠的，算是坏人。\\n\\n孟康，行凶杀人(不能算是军官，和被抓上山的不同)，坏人。\\n\\n曹正，颇有谋略，人品算中上吧。\\n\\n陶宗旺，好像连台词都没有。\\n\\n李云、郁保四、侯健、宋清，都不是什么坏人。\\n\\n十八个非武斗派，有三个坏人。\\n\\n这三十六人，算是好坏参半吧。\\n\\n总体上来说，梁山龙蛇混杂，好汉多，人渣也不少。\\n\\n\\n此外，还在这里更两篇和《水浒传》有关的文章吧！\\n\\n浅谈梁山排名：\\n\\n我的观点是除孙立改为天罡24，穆弘改为第38位，黄信改为第39位，其余皆不变。\\n\\n梁山排名四要素：\\n\\n第一，星位与人物命运对应；\\n\\n第二，组合不可破坏，多交错分布，一般情况下搭档多是奇偶排列，而水浒传多是偶奇排列(解珍34解宝35)；例外的是朱仝、雷横，花荣、徐宁，前者实力差距大，后者徐宁(金)没办法排花荣(银)前面\\n\\n第三，在其位谋其职，排名一般和职位有关(几乎没有猫腻)\\n\\n第四，特殊星位，燕青为天罡之末，但地位很高(相当戴宗)；朱武虽在第37位，却是地煞之首。\\n\\n先更天罡，我的观点是把孙立改为第24位，穆弘改为第38位，黄信改为第39位。\\n\\n天罡前四位没有争议，第五、第六位虽只差一位，但地位相差很多，第五位是群将之首、第六只是群将之一， 第五位是天勇星、第六位是天雄星，关胜、林冲皆配得上雄字，而林冲却当不起勇字，只因此人太过隐忍。\\n\\n秦明、呼延灼谁在前，谁在后都可以， 猛字最配秦明脾气；花荣箭术、武功皆一流，配得上英字，排在第九位恰到好处，对于梁山，五虎重于八骠，八骠重于步军，而五虎之末不如八骠之首，八骠之末亦不如步军之首，若先把五虎排完了，再排八骠，八骠排完了，再排步军，反而不尽人意，所以先排好四个主力(勇雄猛威)，之后紧接着是八骠之首，再好不过。\\n\\n五虎已有四位，关键是第五位的人选，有资格进入五虎的有杨志(林鲁杨本领相当)、孙立(梁山一流武将之间差距不大，但兼具智勇胆及应变能力的只有孙立)、董平(双枪绝技)、徐宁(金枪绝技)；张清武艺不太高、史进和索超性子太急躁，排除在外；朱仝按下不表(朱仝、雷横一对，没办法在九宫八卦阵中守八方，而五虎第五必须是四个方位中的一个)。再看兵器，关胜的刀，林冲的矛，秦明的棒，呼延灼的鞭，还差一样兵器：杨志使刀，与关胜重复；孙立使鞭，与呼延灼重复；董平、徐宁相比，董平双枪更出彩一些，所以董平进入五虎。\\n\\n正因为董平这个虎将并不太出色，所以不能排第十位。第十位的柴进对应贵字，十一位的李应对应富字；且看前十一天罡，先是首领，再是调兵遣将的军师，再是大将，再是掌管钱粮的头领，排得不要太好。第十二位的朱仝，打仗也是一绝，林冲爆发力超强，关胜越战越勇，朱仝速战速决；且朱仝名望极高，又是梁山两代首领的恩人，排在第十二位不错。\\n\\n朱仝这个骠将之后，是步军的两个大神(老大)。大佬级别排好了，就是最后的虎将董平。论本事，张清极为重要，董张cp排15、16位，之后是八骠中的三个杨志、徐宁、索超(性格短板)，确实按本事排的。再之后，是情报部长戴宗，财政部长在五虎快排完的时候出现，情报部长在八骠快要排完时出现，也是恰到好处。\\n\\n之后老规矩，再插两个步军大将，李逵本事自不必说，刘唐和石秀武艺难分高下，但刘唐属于创立家业的那一批头领，所以做了步军第三，排在李逵前面。插入两个步军大将之后，就是最后两个骠将，史进本事不必说，但孙立和穆弘二人，确实不好安排。\\n\\n论本事，孙立进入五虎都可以，穆弘不行；论地位，穆弘是一方霸主，孙立虽不如五虎八骠中几个朝廷大将、山头大王，却也是一系首领，不逊色于穆弘。难点在于职位，在九宫八卦阵之中，孙立等十六小骠负责守八方，穆弘、刘唐一马一步各带一个偏将负责守两侧，且穆弘、穆春兄弟正好是一正一副组合；但这个难点不是没有解决的办法：第一，孙立太强，使九宫八卦阵的西方气势过盛，换成穆弘更好；第二，一侧的刘唐和陶宗旺不是兄弟，所以另一侧的一对将领也可以不是兄弟，可以把穆春换成同样打杂的曹正，与孙立组成一正一副。关于命运，天究星，究者，极也，更符合孙立的智勇；关于组合，史进、穆弘cp感不强。孙立排在地煞，属于连降两级(五虎—八骠—小骠)，穆弘只是降了一级(八骠—小骠)。而且，有些星位是特殊的，可以把穆弘排在第38位地煞星，地魁、地煞对应天魁、天罡，正好是其余七十副将的首领，也不委屈这个一方霸主。\\n\\n八骠之后，排第五个步军头领，雷横既与朱仝一对，不宜太后，且剩下的天罡都是最后几个，排名前后也没那么重要了。步军排了一半之后，就是没有争议的水军六大头领，李俊为首，其余交叉；再之后是两对兄弟，二解武艺虽不如小骠前几个，但佐将易有，异人难得，这对兄弟是不可多得的特种兵，该在天罡之中。燕青压轴。\\n\\n地煞之首是副军师朱武，正如吴用是三十四正将之首，朱武为七十二副将之首，一正一副相对应，这就是所谓的特殊星位。朱武之后是地煞星穆弘，穆弘之后是地勇星黄信(莫非作者把孙立排在地勇星的位置是想表达孙立是地煞中的关胜)。\\n\\n再更地煞：\\n\\n地煞差不多原则：如果某个地煞比理想中的排名只差了几位，则视为排名合理。\\n\\n理由如下，第一：反正都是副将，没必要较真；第二：自作聪明有时候会适得其反，比如想让某些人的排名提前，可能其中一人前进两位、但他后面的四个人跑到他前面去了，排名反而退后了。\\n\\n首先强调一点：\\n\\n宋万、杜迁、朱贵几个老头领完全凭个人本事排名，不会受特殊照顾，这是晁盖时期定下来的规矩。\\n\\n接下来讨论原著排名的合理性：\\n\\n(一)先说三个特殊人物(前两个有资格超越穆弘、黄信)：\\n\\n第一个：裴宣，权限很大，精神天罡。天罡的排名是先军师，后大将；所以理论上地煞的排名最好是执军令者在前，诸副将在后，即裴宣紧随朱武居地煞星，效仿吴用、公孙胜。但提到裴宣，必须提萧让，两人在职务上是一对，萧让的职务是行文走檄调兵遣将，裴宣的职务是定功赏罚军政司，按职务，排名应是萧让在前，裴宣在后；但论职务，萧让是秘书官，不适合太高的排名，所以原著中朱武之后，先是四虎的八个副将，再是萧让、裴宣的这种排法是合理的。\\n\\n与萧让、裴宣相关的梁山五大技术人员金大坚、安道全、皇甫端、凌振、蒋敬，他们具体的排名不重要(骨干人物职位有时候并不高)，只要满足几个条件：排名不宜过高、亦不宜太低，不打乱其他组合、安皇cp，怎么排都说得过去。故原著凌振(地煞16)、蒋敬(地煞17)、安道全(地煞20)、皇甫端(地煞21)、金大坚(地煞30)五人的排名是合理的。\\n\\n第二个：樊瑞，是具有中等天罡实力的地煞。论势力，部下三千人马，在各山之中，仅次于梁山，碾压史进部下的七八百人；论根基，芒砀山之名不逊色少华山之名；论行军用兵，一战灭了史进一半人马，需要梁山总寨亲自出马才能降服。为何史进是天罡，樊瑞却是地煞，且排名不算高？樊瑞排入地煞唯一的原因就是个人战力问题，他不像二解、燕青那样可以搞情报工作，武力上又不如其他七个步军头领，所以只能是步军副将先锋，而非步军大将，故樊瑞只能居地煞之位。那为什么樊瑞不能排在第二位的地煞星，居地煞众武将之首？因为梁山坐次是按照职位功能排序的，步军不如马军，若樊瑞排在地煞众武将之首，那其对应的步军将校整体排名也该在马军偏将之上，此事关乎三军，不可因一人变动；所以樊瑞的排名要低于一部分马军偏将。至于排名的合理性，和扈三娘放在一起讨论。\\n\\n第三个：扈三娘，地煞之才有余，天罡之才不足。马军偏将，以扈三娘实力最强(孙立是天罡)。所以在穆弘、黄信之后(二元老)，就是扈三娘，这种排法理论上是可取的。但为将不只看武功，副将之中，关胜二副将、呼延灼二副将、水火二将懂得行军用兵之法，武艺又不输扈三娘多少，排在扈三娘前面也是合理，而且王英、扈三娘是一对，扈三娘的排名要考虑王英的排名，所以扈三娘的排名没有办法高于宣郝韩彭单魏。\\n\\n现在要同时分析樊瑞、扈三娘在原著排名的合理性，在此之前，必须要分析排在二人之前的十二个小骠：\\n\\n四虎的八个副将排在樊瑞、扈三娘前面是合理的：这八个人是一个整体，如关林秦呼不可分割，既然樊瑞要排在一部分马军偏将之后，那八副将理所应当居于樊瑞之前；扈三娘排在八人之后的理由不用再说。\\n\\n燕顺排名必须在欧鹏、邓飞之后，王英及其他小骠之前：欧鹏、邓飞武功高强，不逊色扈三娘及前八小骠，又是一山之主，兼具实力、地位，所以排在后八小骠最前，成为第五个虎将的副将；燕顺武功不高，但为一山之主，且清风山名声很高(大闹青州)，所以在后八小骠之中排第三位，居欧邓后，其他人前。\\n\\n小骠排名总论对，燕顺还需要一个搭档：陈达、杨春一对不可分，周通和李忠必须一对，所以要从马麟、杨林之中选一个做搭档，二人都是各自山寨副头领之一，但杨林是梁山和饮马川的牵线人，重要程度高于马麟；所以决定杨林是燕顺的搭档。\\n\\n因为燕顺的原因，所以决定了扈三娘必须排在前十二小骠之后。\\n\\n扈三娘王英、吕郭、二孔是守护中军的重要六健将，樊瑞、鲍旭、项充、李衮是步军小校中最重要的四个先锋，前者地位如同中等小骠，后者属于步军小校的佼佼者，两者地位相近，又因为马军重于步军，所以扈三娘等四个马军排名高于樊瑞等六个步军是合理的。至此，可以认为原著中，朱武、前八小骠、萧让、裴宣、中四小骠、扈樊十将和五个技术人员相互穿插的排列方式是合理的。\\n\\n樊瑞、鲍旭高于二孔、项李没有问题，二孔和项李谁前谁后都可以；但是吕郭高于扈三娘，鲍旭高于樊瑞确实有问题，考虑到樊瑞、扈三娘排名都不高，所以遵循地煞差不多原则，默认原著的排名。\\n\\n(二)讨论完三个特殊人物，再讨论位于地煞武力顶点的前八小骠：\\n\\n个人认为宣赞、郝思文是十六小骠中实力最强的两个，但穆弘、黄信两个作为元老，有资格排在二将之前；个人认为单廷珪、魏定国的武功及军事才能高于韩滔、彭玘，但由于原著中“林冲排名低于关胜，林冲副将的排名高于关胜副将的排名，呼延灼排名低于秦明，呼延灼副将的排名高于秦明副将的排名”这一迷之规则，所以不改变四人排名，前八小骠排名遵循原著。\\n\\n至此前三十地煞分析完了，除穆弘、黄信，其余排名皆与原著相同。\\n\\n(三)水军二童排名应为地煞中游水平，理由有二：水军地位不太高，二童是地煞之中难得的水军人才。所以二童(地煞32，地煞33)的排名是合理的。\\n\\n(四)最后分析其余四十人：\\n\\n先将这四十人分为四类：\\n\\n马军九人：一阶陈达、杨春、汤隆、马麟、孙新、顾大嫂\\n\\n二阶周通、张青、孙二娘(注：桃花山实力太弱，故将周通归于二阶)\\n\\n步军十六人(最杂的一类人)：一阶龚旺、丁得孙(二前哨)，李云、焦挺、曹正、薛永(步校四勇)\\n\\n二阶宋万、杜迁、李忠、郑天寿、陶宗旺、施恩、穆春\\n\\n三阶邹渊、邹润、石勇(二三阶这十个都没什么大本事)\\n\\n情报八人：时迁、乐和(金牌情报员)\\n\\n朱贵、杜兴、段景住(老江湖)\\n\\n李立、白胜、王定六(普通情报员)\\n\\n杂役七人：孟康、侯健、蔡福、蔡庆(有一定作用)\\n\\n宋清、朱富、郁保四(几乎没用)\\n\\n故个人认为的排名如下：\\n\\n一阶：陈达、杨春、汤隆，龚旺、丁得孙、李云、焦挺、马麟，宋清(地位最高的小弟)，时迁段景住(时段是一对)—乐和—孙新顾大嫂—曹正—薛永\\n\\n二阶：宋万杜迁—李忠周通—郑天寿陶宗旺(龙套兄弟)\\n\\n三阶：孟康与侯健—施恩与穆春、朱贵朱富—杜兴—蔡福蔡庆—张青孙二娘—邹渊邹润\\n\\n四阶：石勇，李立、白胜、王定六、郁保四\\n\\n注：—这个符号表示两个人并列(排名可以互换)，加黑的人物与原著排名出入较大(12个)\\n\\n与原著排名比较(排除了李云、焦挺、孙新、顾大嫂、时迁、段景住六个变动很大的人物)：\\n\\n1.(前二十个的原著排名)马麟、孟康、侯健、陈达、杨春、郑天寿、陶宗旺、宋清、乐和、龚旺、丁得孙、穆春、曹正、宋万、杜迁、薛永、施恩、李忠、周通、汤隆(我的排名：陈达、杨春、汤隆、龚旺、丁得孙、马麟、宋清、乐和—曹正—薛永、宋万杜迁—李忠周通—郑天寿陶宗旺、孟康与侯健—施恩与穆春)\\n\\n①因为二童的排名遵循原著，所以地煞31的位置需要一个人，小骠马麟比铁匠汤隆更适合(马麟与陈达兄弟排名的差距很小，三人地位对等)；②孟康、侯健在作者心中的重要程度与其在我心中的重要程度不同，故排名有较大差异，在此尊重原著；③龚旺、丁得孙两个前哨在作者心中没有那么重要，对此不能说作者错了，且二人原著排名与我的排名只有几名的偏差，选择尊重原著；④穆春在原著的排名有点偏高，但对于这种无关痛痒的人物，偏高几名或偏低几名，并无太大影响(可能与江州派对梁山的重要性有关，由此看，穆春的排名反而合理)；⑤汤隆的排名太低，其实力(后期屡立战功)及重要程度(造兵器)完全被低估。除此之外，其他人的排名出入不大。\\n\\n2.(后二十个的原著排名)杜兴、邹渊、邹润、朱贵、朱富、蔡福、蔡庆、李立、李云、焦挺、石勇、孙新、顾大嫂、张青、孙二娘、王定六、郁保四、白胜、时迁、段景住(我的排名：朱贵朱富—杜兴—蔡福蔡庆—邹渊邹润—张青孙二娘、石勇、李立、白胜、王定六、郁保四)\\n\\n与原著出入不大，情报人员及其他人员排名普遍很低(职务重要性决定)。\\n\\n3.李云、焦挺、孙新、顾大嫂、时迁、段景住六人：\\n\\n李云、焦挺虽然武艺高强，但李云的职位太低，排名不高没有办法；焦挺没有一点名声，实际作用同样不大，排名不高也是合理；\\n\\n时段二人最符合其星位，排名不可变更；\\n\\n孙新顾大嫂夫妻的实力完全被低估了，排名太低。\\n\\n(五)得出结论：\\n\\n七十二地煞，除孙立之外，汤隆、孙新、顾大嫂排名不合理，李云的职务安排很迷(不敢妄加猜测)，其余的倒也合乎情理，宋江似乎有意针对登州系和汤隆。\\n\\n(六)地煞排名改动问题：\\n\\n扈三娘、樊瑞不变(只差一两名而已)；李云职务不好改变，也不做改动。\\n\\n汤隆原为地煞52位，建议改为地煞38位(杨春之后)；孙新(原地煞64位)、顾大嫂(原地煞65位)，建议改为地煞45位、地煞46位(丁得孙之后)。但可行性为零，若变动此三人的排名，将有大批地煞的星位随之变动，导致整个地煞排名混乱，且这三人的排名没到非改变不可的地步。\\n\\n所以我的观点是除孙立改为天罡24，穆弘改为第38位，黄信改为第39位，其余皆不变。\\n\\n——————————————————————————\\n\\n梁山人物出身：\\n\\n天罡(排除七个骨干)二十九将：朝廷三人+一元老，宋江心腹，宋江老乡，二龙山系二首领，朝廷四将夹一个二龙山系头领，梁山元老，宋江心腹，二龙山系头领，宋江心腹，宋江老乡，水军六人，草根四人，卢俊义心腹\\n\\n七十二地煞：\\n\\n二龙山系军师、宋江心腹、登州系首领、朝廷六将\\n\\n名士、饮马川、黄门山、饮马川、清风山、饮马川、朝廷将领、黄门山\\n\\n宋江心腹二人、名士二人、宋江心腹二人、李逵心腹、芒砀山、宋江心腹二人\\n\\n芒砀山二人、名士、黄门山、水军二人、饮马川、草根、二龙山系二人\\n\\n清风山、黄门山、宋江兄弟、名士、朝廷二偏将、宋江小弟、二龙山系\\n\\n梁山旧派二人、草根、二龙山系三人、草根、李应心腹、登州系二人\\n\\n梁山旧派兄弟二人、草根二人、地方势力二人、草根二人\\n\\n登州系二人、二龙山系二人、草根五人\\n\\n01010101010101010101010101010101010101\\n\\n水浒之遗：\\n\\n与梁山好汉关系紧密的九个人：和武松有缘的头陀、史进之师王进、杨雄丈人潘公、孙立师兄栾廷玉、孙立的师父、郭盛师父嘉陵张提辖、扈三娘哥哥扈成、曹正妻舅、王定六的父亲，此外还有张青手下的阿二、阿三、四个捣子(或许还有其他火家)以及李立的几个火家这些杀人无数的恶人。\\n\\n关于水浒传的七个疑问：林冲、杨志的两把宝刀的去向(林冲的宝刀也许就是高俅那把)；\\n\\n紫金山、伞盖山、白沙坞、野云渡究竟存在哪些势力；\\n\\n韩伯龙死后，他手下两三个火家的去向；\\n\\n戴宗、乔道清、樊瑞、马灵，高廉、贺重宝、毒焰鬼王寇烕、包道乙师承何处；\\n\\n在晁盖之前夺取过生辰纲的人是谁；\\n\\n和李忠、周通打斗的那群客人的身份；\\n\\n好汉党世雄的去向。\\n\\n\\n九大奸贼：蔡京、童贯、高俅、杨戬、蔡攸、王黼、朱勔、梁师成、李邦彦(书中提到七个)\\n\\n与四大贼臣有关的十个梁山仇人：高衙内、高府老都管、沧州管营、卖刀的人、欺骗林冲的两个承局、大名府张孔目、拟写招安草诏的翰林待诏、蔡太师府张干办、高殿帅府李虞候，高三郎、童贳、高俅提拔的寇州知府三个不知是不是奸佞之徒，梁山的仇人不包括与杨志一同护送生辰纲的那群人。\\n\\n与梁山好汉有关但没有下文的十七人：法华寺二僧(晁盖因之而死)、何涛、何清、唐牛儿、洪教头、周谨、大名府首将王定、截江鬼张旺(应该死了)、踢杀羊张保、祝家庄被偷鸡的店小二、剪径被燕青射伤的汉子、安定州的歪学究何才、范权、龚正、锦鳞龙翟源、冲波龙乔正\\n\\n\\n辽国下落不明的二人：驸马太真胥、皇侄耶律得忠\\n\\n三寇部下幸存二十六将(不包括与梁山好汉交好的几个)：于玉麟、陆辉、云宗武、冯玘、刘赟、许定、卫忠、家余庆、段恺，苏吉、方顺、卢元、费珍、薛灿、翁奎、杨春、蔡泽、傅祥、寇琛、管琰、吕振、吉文炳、安士隆、武顺、程胜祖、薛斗南\\n"}'));jctx.push(JSON.parse('{"id": "190202", "tag": "book", "text": "# 唯为-难产的帝国大朝会\\n\\n原创： 唯为  唯为  今天\\n\\n“我来问道无馀说，云在青天水在瓶。”\\n\\n一）\\n\\n从四月份新皇帝即位起，1521年，大明正德十六年，接下来整整八个月，早该举行的大朝会，迟迟无法举行。\\n\\n为什么呢？原因就是在某些核心问题上，新皇帝始终无法与他的同事们达成一致。\\n\\n围绕着帝国的意识形态——“大礼仪”——的争论与冲突，君臣对立和博弈愈演愈烈，气氛和态势越来越尖锐。\\n\\n决策层难以统一思想、形成共识，大朝会的举行遥遥无期。\\n\\n新皇帝与同事们的纷争，看起来纷纭复杂，归根结底其实就是一点：\\n\\n继嗣，还是继统？\\n\\n当初进京，朝臣一致认为他要按照皇太子的身份即位礼仪；他却坚持按皇帝身份登基：“遗诏以我嗣皇帝位，非皇子也。”\\n\\n是皇太子接班，还是新皇帝登基？是坚持原定礼法礼制政策不动摇，还是可以另起炉灶、新搞一套？\\n\\n分歧不解决就开不了团结胜利的大会。这是帝国政治的常态，也是定期举行的大朝会的实质：\\n\\n大朝会只是为了表达君臣和谐、上下同心、形势一片大好的信号，所有分歧和冲突都必须在大朝会之前妥善解决。\\n\\n故事，还得从一个来自遥远偏僻的湖北钟祥安陆王府的青年藩王讲起。\\n\\n二）\\n\\n正德十六年四月二十二日，北京，他在奉天殿即皇帝位。\\n\\n坐上龙椅之后，天生政治敏感的他立刻发现，自己不是一个真皇帝，朝政大小事务，自己说的话不好使。\\n\\n在他这个皇帝之上，还有一张无形的巨网，将他紧密笼罩，让他感到窒息，却又难以摆脱。\\n\\n这张巨网，就是以内阁大学士杨廷和为代表的文官群体。而杨廷和的背后，隐隐约约还有深宫中的那个可敬长者——伯母张太后。\\n\\n初来乍到，初登大位，他想说的话没有一句可以随心所欲地说出来，他想办的事情没有一件能够顺顺当当得以办成。\\n\\n这让他很不爽，让围绕在他身边的来自兴献王府的小兄弟们很不爽。从进京的那一天起，他们逐渐试图改变这一切。\\n\\n1）封赏\\n\\n他大力封赏从湖北钟祥带来的藩邸旧臣小兄弟，进行“掺沙子”活动：\\n\\n先把人安插到吏部，兴王府时的秘书长袁宗皋，被任命为吏部左侍郎，组织部常务副部长；\\n\\n接着在宫中提拨心腹，随驾来京的贴身太监谷大用等人受到提拔重用。\\n\\n他的这番行为，马上受到他的同事——文臣们的反对。\\n\\n三天后，吏科给事中阎闳上书，直言他“滥赏”太过分：\\n\\n“伏闻陛下赐扈驾太监谷大用等人……臣窃以为过矣。观历代以来藩王入继大统者，序援立之功则主威弱，私扈从之人则侍卫骄，弛戚倖之禁则请托行。”——《明世宗实录》卷一，正德十六年四月丁未\\n\\n第二天，兵科给事中夏言轮番上阵，居然对他定规矩，划红线，限行为：\\n\\n“时召内阁大臣相与论议裁决，或事关大体，众论不同者，则敕下廷臣集议，不宜谋及亵近，径由内批，……圣意有所予夺，亦必经由内阁议而后行事”。——《实录》卷一，正德十六年四月戊申\\n\\n处理朝政必须要和内阁大臣讨论，有必要甚至在廷臣中公开征求意见，集体研究后再实施，最高决策不能只出自皇帝身边不为人知的内廷小圈子。\\n\\n看完这两份刺耳的奏本，他的心情如何？史书无载，但记录了他的批复意见：前者，“嘉纳之”，接受批评；后者，留中，搁置，不作任何表态。\\n\\n2）看客\\n\\n即位的第六天，四月二十八日，他见证了自己执政后的第一场政治攻讦，紧接着见证了一个极其重要的人事变动。\\n\\n是的，这一切，坐在龙椅上的他，真的仅仅只是见证，犹如看戏的观众，对局势的发展毫无影响力。\\n\\n当日，给事中张九叙弹劾大学士梁储及吏部尚书王琼。王琼呢？直捣黄龙，直接抨击杨廷和“窃揽乾纲，事多专擅”。\\n\\n很快，堂堂的吏部尚书组织部长，王琼被立案审查，撤职下狱。腾出来的空缺，五月五日，由杨廷和的亲信、原礼部尚书石瑶接任。\\n\\n对这场朝堂风波，从《明世宗实录》来看，朱厚熜唯一能做的，就是按照杨廷和等人的意思办，签字同意。\\n\\n但是，在他的内心，是否隐藏着深深的不快呢？王琼指控杨廷和的那八个字，是否隐然拨动了他的神经呢？ \\n\\n3）双亲\\n\\n后来，我们都知道，他是大明帝国出了名的大孝子。\\n\\n登基后三日，他下令奉迎老母亲来京；登基后五日，他要求礼部尽快研究确定他刚去世不久的父亲的身份定位，“诏议兴献王封号”。\\n\\na）父亲\\n\\n不出所料，朝臣们一如既往从“继嗣论”出发，坚持帝国的既定路线方针不变。\\n\\n五月七日，新的礼部尚书毛澄提出他父亲兴献王封号初步意见：\\n\\n“皇上宜称孝宗为皇考，改称兴献王为皇叔父兴献大王，兴献王妃为皇叔母兴献王妃。”——《实录》卷二，正德十六年五月戊午\\n\\n啥意思？你要叫自己的伯父明孝宗弘治皇帝为爹，而自己的亲身父母，只能称为叔父、叔母。\\n\\n有的事可顺从，有的事可留中，有的事可忍隐，唯独此事，他铁了心不退让。他要求“再议”：“藩府主祀及称号，事重大，再会议以闻。”\\n\\n毛澄等人也很硬，毫不妥协，五月十八日回奏：我们提出的这个方案已经很好了“尊崇之典可谓至矣。臣等不敢复议。”\\n\\n他耐着性子，再次把报告打回去，要求多翻翻前代档案资料，继续“详议”：“博考前代典礼，再会官详议，务求至当以闻。”\\n\\n嗣还是统？左还是右？年轻新皇帝与同事们互不妥协，各不迁就，陷入了长时间的僵持。\\n\\n此时，朝廷中新生代瞄准时机冲了出来，为势单力孤的新皇帝摇旗呐喊，冲锋陷阵。七月初三，新科进士张璁公开上书：\\n\\n“则陛下之兴，实所以承祖宗之统，而顺天下之心。”——《实录》卷四，正德十六年七月壬子\\n\\n皇帝继承的是祖宗的大事业，而不是明孝宗一脉的香火，怎能让皇帝改称伯父为爹？\\n\\n他看了这份有理有据的扎实的论证报告，感动得一塌糊涂：“及得璁奏，喜曰：‘此论一出，吾父子必终可完也。’”\\n\\n但是，张璁的报告犹如捅了马蜂窝，受到中央和地方大小臣工的一致反对和抨击。\\n\\n地方派的压力来了。七月十二日，皇帝藩邸所在的湖广道御史上疏，明确认为“兴献王称号宜如礼官议”。\\n\\n藩邸老家的父母官都不帮自己，他气得说不出话来，批了两个字，“报闻”，已阅。\\n\\n中央的压力更大。七月十三日，杨廷和等人带头上奏，指责张璁的主张是“邪说”，坚持要求皇帝接受“继嗣”理论：\\n\\n“国家典礼，关系甚重，臣等实不敢阿谀顺旨。”——《实录》卷四，正德十六年七月甲子。\\n\\n紧接着，汹涌浪潮随之而来。朝臣们纷纷上疏，请求皇帝接受礼部所拟定的方案，重提皇帝行事须守规矩：\\n\\n“事必咨于辅臣，宠勿启于近习，割恩正义以定礼，稽古准今以崇孝。”——《实录》卷四，正德十六年七月庚午、丙子，邓继曾奏疏\\n\\n八月初一，礼部尚书毛澄第三次将原封不动的“皇叔父兴献大王”称号方案提交皇帝。\\n\\n但是，这一切压力，他顶住了，咬紧牙关，反复批示就是一句话：“命再会官详议。”\\n\\nb）母亲\\n\\n\\n不过，有了张璁等朝臣支持，有了锦衣卫人事布局的展开，逐渐增强了他对皇权的信心。\\n\\n请参阅本号《唯为 | “皇帝，是太阳，是雷霆#c530”》\\n\\n他开始尝试运用身上的大义名分和手中的最高权力。\\n\\n毕竟现在天下皆知他是一国之君，不管如何，处于决策最顶层的他，越来越体味到专制体制的奥妙：\\n\\n任何一件朝政大事，如果没有自己的同意，是无法得以顺利执行的！\\n\\n意识到这一点之后，他更加地渴望做一个“真皇帝”，而不愿意完全被文官政府所束缚、所操控。\\n\\n在个别不得已的问题上，他开始敢于对大臣们说“不”，以贯彻自己的意图和维护自己的利益。\\n\\n其中，首先就是他的老母亲“进京礼仪”的问题。\\n\\n父亲去世后，他对老母亲的感情极为深厚。离开钟祥王府时，他想念母亲，一路哭个不停：“不忍遽离圣母，呜咽涕泣者久之”。\\n\\n故世父亲的身份定位问题，尚可暂且搁置争议：老母亲一天比一天临近北京，用什么样礼仪来接待，是一个非常迫切的现实问题。\\n\\n这个问题，同样有“嗣统”的争论、左右的分别：按“继嗣论”，用王妃之礼；按“继统论”，用母后之礼。\\n\\n不出所料，礼部提出按王妃礼仪迎接：“豫遣文武大臣各一员于通州境外奉迎。至日，母妃由崇文门入东安门。”\\n\\n派人在通州迎接，再从侧门进宫。对此，想用母后礼仪的皇帝同样退件，要求“再议以闻”。\\n\\n这次，朝臣们作了一点让步。复议中，礼部提出新建议——“由正阳左门入宫”。不料，皇帝仍不满足。\\n\\n面对新皇帝的得寸进尺，礼部非常不满，在第三次复议时忍不住说出了一番情绪化的气话：\\n\\n“臣等初议由崇文门进东安门；再议由正阳左门进大明等门东门，而皇上仍令集议以闻。……自通州至朝阳门，路直且顺，从此进东安门便。”——《实录》卷六，正德十六年九月丁巳\\n\\n你爱让你妈从哪个门进就从哪个门进吧，我们不管这点破事了。\\n\\n4）甜头\\n\\n结果，文官们耍的小性子，反而激起了新皇帝的反抗勇气。\\n\\n他立刻下诏，直接否决礼部“用王妃凤轿仪仗”，改为“用母后仪驾”；走宫城正门，“从正阳门由大道行”。\\n\\n在迎接老母亲礼仪的问题上，他第一次使用皇权“独断”，没想到挺顺利，文官们就算不满也无可奈何。\\n\\n这种感觉太爽了！初尝最高权力的甜头，他食髓知味，试图用同样方式解决父亲的问题。\\n\\n十月初一，他借口钦奉“伯母张太后之命”，直接颁诏：\\n\\n“钦奉慈寿皇太后之命，以朕既承大统，父兴献王宜称兴献帝，母兴献后、宪庙贵妃邵氏为皇太后。朕辞之再三，不容逊避，特谕卿等知之。”——《实录》卷七，正德十六年十月己卯\\n\\n我的老父亲是“帝”，我的老母亲是“后”，我就这么定了，爱咋咋地！\\n\\n于是，礼部尚书毛澄等大臣们纷纷以辞职抗议。他呢，“优诏不允”，抚慰，优待。\\n\\n大军师之三国群龙录\\n广告\\n查看详情\\n\\n\\n三）\\n\\n短短半年，他已不再是涉世未深的地方藩王，对权力有了更多的理解。他积极介入或主动设置政治议题。\\n\\n他介入司法，多次直接更改刑狱审判结果。这一点，也令大臣们很感失望。\\n\\n“何近日以来事或少变，如法司奏上大狱，某等已经多官会审明白，拟以重典。臣等依票旨，未蒙愈允，往复执论数次，既而径从中改？”——正德十六年十月，毛纪奏疏\\n\\n他不断刷存在感，文官们觉得这个新皇帝越来越难操控，感叹皇帝在四方面渐渐变了：\\n\\n“信大臣渐不及始、广听纳渐不及始、 勤圣学渐不及始，明赏罚渐不及始。”——《实录》卷八，正德十六年十一月甲寅\\n\\n他用“内旨”的方式，想在父母“帝、后”尊号上加多一个“皇”字。对此，以杨廷和为首的文官政府，“封还御批”，拒绝办文。\\n\\n如果再加“皇”字，他的父母就和明孝宗、张太后等真正的皇帝、皇后并列，朱家祖庙的谱系排序就会大乱。\\n\\n“正统大义，惟赖一皇字以明。若加于本生之亲，则与正统混而无别。揆之天理则不合，验之人心有未安。”——《实录》卷八，正德十六年十二月\\n\\n明代权力结构，皇帝的诏旨、御批，要经过六科审核；六科若认为不妥，有“封还执奏”的权力。这是文官政府对于皇权的一种约束。\\n\\n不过，他故伎重演，又搬出深宫之中张太后这个长者来敷衍搪塞，“慈寿皇太后谕旨有谕”，“朕不敢辞，尔群臣其承命”。\\n\\n这一次，附和他的官员，除张璁等人外，还多了不少人。但是，绝大多数官员仍持强烈反对立场。\\n\\n世事就是这么奇妙。就在这期间，皇宫内发生了一连串火灾，文官们纷纷拿出生花妙笔，大加渲染：\\n\\n“禁中失火，密迩青宫。变不虚生，宜应之以实：法成汤之自责，效周宣之侧身；思礼乐教化之或愆，念庆赏刑威之有失；充其惧灾忧患之心，而致夫顺天悦亲之实上。”——正德十六年十二月，毛澄奏疏\\n\\n“今月二日长安榜廊灾，及今郊祀日，内廷小房又灾。天有五行，火实主礼。人有五事，火实主言。名不正则言不顺，言不顺则礼不兴。今岁未期而灾者三，废礼失言之郊也。”——正德十六年十二月，邓继曾奏疏\\n\\n“上天示戒，朕心警愓”，几场大火，他终于让步，同意不加“皇”字。1522年，嘉靖元年三月，他正式定议父母尊号为“兴献帝、兴国太后”。\\n\\n虽未能实现尊奉父母为“皇帝、皇太后”，但相比一开始的“皇叔父兴献大王、皇叔母兴献王妃”，他已在胜利路上迈进了大大的一步。\\n\\n更重要的是，从中他学到了很多，尝到权力美味，塑造了自己的强势姿态。不过，他也切身感受到那班文官对于皇权的束缚。\\n\\n四）\\n\\n一年多来，与文官政府的博弈，各色人物的表现及其行为背后所表露出的人性弱点，让他对权力的理解越来越通透。\\n\\n文官的固执、中庸、投机，乃至彼此争斗、攻讦，让他认识到这班士大夫不过如此，内心的极权欲望越来越膨胀。\\n\\n当然，他也知道：在文官没有出现重大分歧时，除了依靠目前这批大臣之外，他所能依靠的人毕竟还是太少、太弱。\\n\\n随着对厂卫等监察力量的掌控，他，慢慢地开始享受专制皇权的优越性，一步一个脚印地推行自己的意志。\\n\\n在尊崇自己父母的事情上，他有条不紊地继续进行着各种动作，以争取“继统论”彻底胜利，一举确立自己的治国新规则。\\n\\n八月，他在湖北钟祥县设置国家级的祭祀管理局，“命安陆添设祠祭署”，按照帝王的规格祭自己的父亲。\\n\\n十二月，他指示礼部为其刚刚去世的奶奶上“徽号”，即“尊号”，还要在明宪宗成化皇帝的寝宫旁选择安葬地。\\n\\n嘉靖二年四月，他要求制定“兴献帝家庙享祀”标准，四次“下廷臣会议”均被文官否决，他悍然“特旨”，“竟用八佾”，天子规格。\\n\\n如果说之前他尝试专权，还半遮半掩打着那个长者张太后的旗号，此时已完全熟练运用“个人独断”的专制权力了。\\n\\n五）\\n\\n愈演愈烈的专权态势，咄咄逼人的威权氛围，文官集团终于顶不住了，开始进一步分化、分裂。\\n\\n如果文官们的立场能始终保持一致，他或许还有所忌惮。但是，文官内部出现了分歧乃至纷争，正中他的下怀：\\n\\n你们争得越厉害，就越便于我大刀阔斧调整干部；通过人事任免，不听话的滚蛋，听话的上台。\\n\\n开始有人攻击杨廷和。说他在正德皇帝面前屁都不敢放一个，现在却敢于天天给新皇帝使脸色，简直是欺负人：\\n\\n“先帝自称威武大将军，廷和未尝力争，今于兴献帝一‘皇’字、‘考’字，乃欲以去就争之，实为欺罔。” ——嘉靖元年十二月，史道奏疏\\n\\n开始有更多的人悄悄转变立场，变换腔调，认真学习贯彻皇帝所主张的“继统论”的精神实质和丰富内涵。\\n\\n而张璁等人呢，气势越来越壮，言论越来越激进，不断公开表态，坚决拥护皇帝尊奉本生父母的英明决定。\\n\\n开始不断有人提出辞职。这次，皇帝基本对谁也没有再作挽留，所有辞呈，马上签批。\\n\\n终于，嘉靖三年二月，65岁的杨廷和请求退休。他很爽快，遂“许之”，“言官交章请留”，其他官员要求挽留，“上不听”。\\n\\n旧人走了，新人排队进京。皇帝下令，张璁、桂萼等一批官员从南京调入北京。\\n\\n请参阅本号《唯为 | 一个寒门老学渣之逆袭#c550》\\n\\n对于这场人事大地震，四月初四，吏部尚书乔宇联合九卿共同上疏，提出最严正的抗议，请求皇帝收回成命：\\n\\n“顷罢汪俊，召席书，取桂萼、张璁、霍韬，黜谪马明衡、李本、陈遁等，举措异常，中外骇愕。……且书不与廷推，时出内降，升为尚书，百余年来所未有者，请收回成命，令俊与书各守职如故……止召萼、璁。”——《实录》卷三十八，嘉靖三年四月戊戌\\n\\n文官们的任何骇愕都已无济于事。他们并未意识到，此时的大明帝国，已悄然进入了一个全新阶段。\\n\\n大军师之三国志名将令\\n广告\\n查看详情\\n\\n\\n六）\\n\\n事情继续在发展。皇帝距离确立自己至高无上的绝对权威，还差最后的“关键一步”：见血！\\n\\n五月二十四，张璁等一班大礼新贵来到北京，继续火上浇油，悍然提议去掉“本生皇考恭穆献皇帝”谥号中的“本生”二字，让皇帝的生父成为完全意义上的“皇帝”。\\n\\n六月十三，皇帝无视数十名官员的强烈反对，分别授予张璁等人为翰林学士：同时，严厉惩治了一些攻击张璁的官员。\\n\\n七月初六，吏部尚书乔宇提出辞职回老家，皇帝爽快批示，“给驿以归”，车费倒可以报销。\\n\\n这样，他逐步构建了效忠于自己的小圈子和基本盘，不听话的人通通被清退、清理、清查。\\n\\n对帝国这种政治局势的深刻转向，《明史》用了11个字作了精准概述：\\n\\n“三年，帝渐疏大臣，政率内决。”\\n\\n时间指针走到1524年，嘉靖三年七月十五日，皇帝终于召开了久违的大朝会。历史已永远记住了这一刻。\\n\\n大朝会结束后，一班文官聚集到左顺门，黑压压跪在一起，“或高呼太祖高皇帝，或呼孝宗皇帝，声彻于内”，要求保留兴献王谥号中的“本生”二字。\\n\\n到了中午，群臣仍然伏地不起。皇帝派人“录诸臣姓名”，将带头的八人下诏狱。结果，“群臣皆哭，声震阙庭”。\\n\\n皇帝龙颜大怒，又将五品以下官员“悉下诏狱拷讯，四品以及司务等官姑令待罪”。\\n\\n第二天，大学士毛纪紧急上奏，哀求皇帝希望挽救众臣：\\n\\n“昨日伏睹天威，将部院等衙门各言事官并下锦衣狱。臣等不胜悚惧。缘各官伏阙谕奏，继以号泣，诚为有罪。但区区一念，皆出于忠恳，其情可矜，况各衙门缺官办事，加以天气炎热，万一病惫不测，亦伤国体。伏望圣明少霁天威，严令各回衙门办理事务，亦足以示惩戒而无累于圣德矣。臣等不胜惓惓之至。”\\n\\n皇帝不听。十天后，毛纪辞职。又过了两天，七月二十八，皇帝“诏锦衣卫”，对左顺门事件作出最终处理结果：\\n\\n“杨慎辈倡率叫哭，期慢召上，震惊阙廷，大肆逆，其各杖于廷。于是，原状死，慎、元正、济充戍，磐、汉卿、时柯俱削籍为民。“——《实录》卷四十一，嘉靖三年七月辛卯\\n\\n或当场杖毙，或入狱充军，或撤职双开，他用一场骇人听闻的血淋淋暴力事件，宣告了自己绝对权威的最终形成。\\n\\n此后，大礼议相关议题以及他作出的所有指示，不论如何不合传统礼法礼制礼仪，如何背离原有的方针政策，再也无人敢有一丝一毫置喙。\\n\\n在帝国的每一个角落，他的话真正成为一言九鼎的金口玉言。在他至高无上的个人威权之下，整个嘉靖朝的文官群体，噤若寒蝉，鸦雀无声\\n\\n从一个谦逊少年成长为玩弄权术的极权主义信徒；从一个地方藩王转变为拥有绝对权威的最高统治者。\\n\\n他，只用了短短的三年又三个月时间，迅速，彻底，且不可逆转。\\n\\n大明帝国“两京十三省”，迎来了只属于他的长达四十多年的时代。历史册页里到处都是他的名字：\\n\\n朱厚熜。\\n"}'));jctx.push(JSON.parse('{"id": "190203", "tag": "book", "text": "# 守夜人总司令结构学\\n\\n## F1：见大行远\\n\\n原创： 觉悟者  守夜人总司令  2018-07-27\\n\\n生命是一种结构，它能自己从外界攫取能量以维持自身的存在。生命是基因的载体，只要有利于基因传递，任何一种延续的方式都可能被选择。在甲骨文中，上古先民们崇拜能够像青蛙一样大规模繁衍的女性，这是脆弱的生命应对灭绝最有效的形式——同一时期，相互隔绝的各古老文明都不约而同的崇拜繁殖，这绝不是一个巧合！\\n\\n如果一个人的儿女遭受绑架，会本能的愿意牺牲自己去交换。如果绑架的是丈夫或者妻子，则要看感情的深浅；如果是父母那就更要看关系的亲疏程度了——几千年的孝道浸染依然抵不过护犊子的本能！为什么会这样？\\n\\n盗墓行业最终进化成这样的形态：父子组队，儿子下去拿墓里的珍宝，父亲在上面拉着绳子。别的模型在漫长的行业进化中都被淘汰了——甚至儿子在上面拉绳子，父亲下去拿宝物都被淘汰了。因为儿子拿到父亲递上来的宝物后会斩断绳索，只有父亲拿到儿子递上来的宝物之后依然会拉儿子上来!\\n\\n\\n那些刻在基因里的本能行为，往往蕴藏着某种关于整个人类的秘密…\\n\\n中国古代最恶毒的惩罚不是车裂、腰斩或者凌迟，最残酷的惩罚是：株连九族！断绝基因的传递是对生命最高的绝罚，足以让所有人匍匐在地心惊胆颤！罗马人最终打败并毁灭了迦太基，还在他们的土地上撒了盐——让它永远寸草不生！为罗马一雪前耻的统帅西匹阿没有任何胜利者的喜悦，他的心头涌起无比的悲凉和恐惧——罗马会遭遇同样的命运吗？是否有一天也会消失在历史的长河中，无影无踪……\\n\\n生命无时无刻不处在生存的竞争之中，所有温情脉脉的装饰下面都藏着那个无法回避的终极命题：生存还是死亡！你可以回避竞争，但无法回避死亡。物竞天择的源动力来自基因对能量的无限需求——基因需要不断的进化，所有载体都不过是它进化路上的工具！\\n\\n## 生存策略\\n\\n生存环境是一种结构，处于结构中的生命为了基因的延续进行着残酷的竞争，如果缺乏打破结构的力量，结构本身就是一个角斗场。人类历史上所有对外行为都是为族群的延续争夺生存资源，所有的内部行为都是为对外竞争做好准备——它们彼此交织，相互支撑。\\n\\n能够摧毁结构的关键支点，并制造坍塌的内部力量只有两种：\\n\\n1. 科技树升级 \\n\\n2. 组织度跃升\\n\\n这二者往往相伴相生，彼此促进形成一种变革的合力！在这种结构性的变革中，原结构中占据资源的群体会整体溢出，这个占据资源又高度组织化的群体必定趁机借势制造各种内外纷争，其它芸芸众生都跟在后面追涨杀跌沦为炮灰。当这个群体在斗争中消亡或成为新的稳定结构中的一部分之后，秩序就会得以重建，并对内外生存结构都进行重塑。\\n\\n摧毁结构的外部力量主要依靠落差——技术落差，组织度落差，资金落差都能形成强大的势能，并降维攻击摧毁落后一方的原有内部结构。当年的洋务运动和今天的改革开放都基于此！\\n\\n人的器官中存在各式各样的细菌，它们在争夺有限的养分并相互攻伐逐渐达到一种微妙的平衡。自以为是的医生用药物把绝大多数的细菌都杀死了，那唯一没有被杀死的细菌瞬间占有了所有的养分，并以意想不到的疯狂，加速繁殖——很快它就占据了整个器官，并造成无法挽回的病变！\\n\\n即便拥有某种落差优势，富有远见的人也不会轻易的摧毁落后一方原有的结构——经过千百年博弈所形成的精密结构并不像表面看起来那样简陋——无论是行业生态还是政治经济都是如此！\\n\\n如果你正走在一片空旷的草地上，突然倾盆大雨，你会下意识的拼命奔跑——其实，你知道没有躲雨的地方，奔跑也无济于事；然而，你还是会本能的这样做！这种本能由久远的生存环境塑造而成，并被藏在基因里代代相传。生存竞争不仅仅塑造外在的结构，也雕塑内在的结构。群体外在的一致行为被称之为：“文化特征”，群体内在的相同思维被叫做：“文化心理”。所谓文化，就是生存结中群体共同的生存策略！生存环境决定生存策略。在生存环境改变之后，生存策略往往延续之前的惯性——这是许多悲剧的根源所在！\\n\\n在生存竞争的历史长河中，参与博弈的各方发明了一堆让人眼花缭乱的名词，还把它们写在各自的旗帜上用力的挥舞，试图吸引对方入套…有真知灼见的人一眼就看穿这些鬼把戏，虽虚以委蛇，却并不当真——其生存策略只会矢志不渝的遵循真实世界的底层逻辑！\\n\\n## 结构力量\\n\\n力量通过结构来聚集，也通过结构来释放。结构性的崩溃所造成的毁灭是一种让人痴迷的力量：地震、海啸、山崩地裂，皆因为地壳板块发生结构性的坍塌——所有能模拟大自然那种瞬间灭绝无数生命的力量都被赋予无上的权威！\\n\\n如同雪花的每一片都呈现它整体的形状一样，许多事物的最小组成单元与它的整体结构存在惊人的雷同。在数学中，这一形态被称之为递归。你能按图索骥找到那个原点，也可以清晰的预见它在更大时空中的边界。如果那个原子结构是不稳定的，规模越大，整体的崩溃系数就会指数增长。如果原子结构的力量呈盈余状态，规模越大潜力也就越大！\\n\\n识别结构，洞察原子结构所蕴含的力量和存在的缺陷，充分借用时间的杠杆——在毁灭性的力量面前，一切腾挪的技巧都是多余的……\\n\\n摧毁结构的内外两种力量：内部的力量源自科技树的升级和组织度的提升，外部的力量源自于落差的挤压——后续会展开很多经典的案例，此时此刻先阐述原理。摧毁结构是为了构建新的生存结构，那么，搭建结构并通过结构聚集和释放力量的方法又是什么呢？\\n\\n## 制造工具\\n\\n马克思说：“人与动物的最大区别就是制造和使用工具”。但他没明说：天子驭官，州牧牧民，事实上，你也只能算是动物！统治工具是人为构建的结构，人也是一种资源，被嵌入各种各样的结构之中，结构自身具有内在的约束力：一个金字塔型的结构会把人向上挤压——这种竞争结构不断强化内部的一致性，让归属感和荣誉感的含金量持续升高，最终形成：同一个目标，同一种主张，同一个套规范！为了进一步强化内部成员的自我约束，还会人为增加等级，并按等级分配利益——它不仅仅强化各层级对组织结构的忠诚，同时刺激成员自下而上的竞争愿望！无论天子还是州牧都是通过各种结构驾驭庞大的组织并把资源组织起来发挥着整体性的作用——搭建结构就是制造和使用工具！\\n\\n\\n\\n可怕的力量不是权力，也不是资本，甚至不是人心，一切都是工具！只有拥有了目标，才会需要工具！驱动一切的力量，潜伏在更底层的暗处。\\n\\n## F2：底层逻辑\\n\\n原创： 觉悟者  守夜人总司令  2018-09-18\\n\\n凡是能大量制造死亡的力量都会被顶礼膜拜！\\n\\n共识与仲裁\\n\\n死亡\\n\\n所有生命体都会最大限度的占据资源以追求多样性和保障自身的存续，生命体处于不同的生存结构中会采用不同的生存策略，一切行为的目的都是为了生存和延续。生存策略的终极共识是关于面对死亡的选择。\\n\\n用拳头捶击膝盖引发的弹跳不过是一种应急的条件反射，被毒蛇咬伤之后的断臂求生，则源于生命在面对死亡时所形成的共识：执行舍弃局部来保护整体的系统性调度！\\n\\n人类进化出感情和探讨生命的意义都是为了在生命体遭遇生死选择的时候，让取舍最有利于基因的传递。\\n\\n共识\\n\\n在史前的生存竞争中，人类并非最强壮的物种，但最终胜出并成为地球的统治者。这源于人脑中会相信某种在现实世界中并不存在的东西，还会为之一致行动，甚至牺牲自我。个体按照某种一致性的目的构建起一个更复杂的结构来发挥整体的合力，是人类战胜其它物种的关键所在——搭建的结构越庞大，越精密，所汇聚的力量也就越大。\\n\\n能最大限度凝聚个体的共识源于对存亡绝续的同样抉择。让生命处于死亡的威胁之下，是凝聚共识最有效的方式。共识是你愿意为自己的选择付出多大的代价。因此，共识必定是超越个体的，同时又有利于个体的终极目标。\\n\\n仲裁\\n\\n《F1：见大行远》里说：凡是能大量制造死亡的力量都会被顶礼膜拜。暴力能够终结生命，造成死亡，所有生命都面对死亡的威胁，所以暴力能够成为裁决的终极力量。\\n\\n仲裁其实就是通过死亡来做出抉择。因此，仲裁的最初形式就是暴力对决，其它一切的仲裁机制都是在模拟暴力对决。随着社会结构复杂度的跃升，需要暴力做出仲裁的需求量成爆炸式增长。原始暴力不足以供给越来越多的需求者，于是，它转变为公共暴力并被虚拟化——购买力是对公共暴力的第一次虚拟，它把暴力的使用群体由少数拥有领地和武装的贵族扩展到拥有资产的新兴人群。他们通过拥有这种模拟的暴力来获得事务的仲裁权。\\n\\n各领主的私人武装变成了社会的公共暴力，拥有购买力的群体通过国家机器来控制公共暴力，暴力被虚拟化后，为更大规模的群体所共享。基于这样的路径依赖，暴力将来会被第二次虚拟化：随着科技的进步和互通互联的密度越来越高，资金可以瞬间聚集于一点，也可以瞬间撤离。确立目标和调动资金的能力将优于占有资源的能力——凭借远见能确立目标并搭建结构调动巨量资金的认知力，将会是继购买力之后，暴力的第二次虚拟化。如果说购买力是通过消费来确立护城河，那么，认知力会通过教育来建立门槛。\\n\\n建造与交易\\n\\n渔猎游牧社会违背誓约必然要被处死，因为动态的稳定建立在约定成俗的契约之上，而农耕社会以欺诈为智慧，因为零和博弈的生存资源争夺必然不择手段——身处不同生存结构之中的生命体，生存策略自然各不相同。\\n\\n\\n渔猎游牧民族的辉煌存在于口口相传的传说之中，开拓、连接和征服的英雄故事激励着一代又一代的人走向更远处。农耕文明的辉煌留在建筑里，通过向上层层累积的方式搭建起恢宏而稳定的结构，以彰显生存竞争中优胜者的辉煌和传承。\\n\\n人类因交易而变得精致，因建造而变得富强。\\n\\n建造\\n\\n农耕文明的生存以土地为根本，认为包括自己在内的所有一切都只是临时的过客——世事无常，又周而复始；一岁一枯，又生生不息——所以，既能立足长远克制隐忍，又会画地为牢相互倾扎。在周而复始的预期之下，一切都依赖时间的沉淀。千百年来，都是通过不断的向上累积和持续接力，建造出精密又恢弘的结构并传之后世——愚公移山不是一种精神，而是一种生存方式！在农耕文明中，富贵不表现为金玉满堂的奢华，而体现为深宅大院中盘根错节遮天蔽日的古树——那是一个家族持续兴旺繁荣的象征。\\n\\n\\n建造者关注秩序，因为秩序的崩溃会毁掉的不仅仅是自己的努力。一切的荣辱都沉淀于层级之中，名次和位置不仅仅关乎利益的多寡，还暗示着基因的优劣。 聚族而居的人抬头不见低头见，所以不能撕破脸；但内心的波诡云涌和利益纷争又无法避免。因此，明面上的假模假式和暗地里的咬牙切齿会被完美的融合在一起，并进化出精湛的为人处世技巧。\\n\\n在建造者眼中，自己不过是一个临时的看守者，获得的一切都要继续传之后世，还必须叠加上自己的痕迹：朝廷的丹书青史，民间的家族谱系，都在为千百年后的子孙，提供评估自己一生价值的依据！这种超越时空的恐惧，连接着久远的过去和遥远的未来。如同一副千钧重担压的人举步维艰！\\n\\n土地足以让附着其上的生命自给自足时，所有的生存斗争仅限于方寸之间，它们对外部的世界就会漠不关心，甚至人为设置障碍进行自我封闭。\\n\\n\\n交易\\n\\n如果方寸之间的资源无法保障生命的自给自足，除了通过杀戮将生命的规模降低到与资源相匹配的程度，就必须利用科技树和组织度的提升，来提高资源的利用效率，从而能攫取更多的能量以维持生命的存续。如若科技树和组织度都无法获得跃升，生命就必须从新的地方攫取资源来维系自己的存在。如此一来，方寸之间的斗争就变得不那么紧迫，团结一致反而有利于对外开拓。对外开拓最初的形式是劫掠，劫掠的成本太高才会变成交易。\\n\\n生命会以不同的形式搭建出更大规模的生命体来实现自己的生存目的。如果没有足够的力量建立稳固的静态秩序，就会以契约的方式构建动态的平衡。交易会提升分工和协作的密度，从而让资源得到最充分的配置——资源的利用率越高，所能攫取的能量就越多，从而搭建起更大规模的结构，形成一种正向循环，直至遭遇增长的极限。\\n\\n\\n\\n交易者的价值并不取决于自身，而取决于自己所置身的交易结构及其权重。因此，利益和安全都建立在契约之上，通过维护整体的安全和整体的利益来获得个体的安全，保护个体的利益。所以，会比较热衷于公共事务。搭建交易结构能够通过纠正资源的错配达到小博大的效果，并获得巨大的回报——价值源于失衡，利润源于扭曲——结构性的扭曲正是快速增长和巨大利润的源泉。\\n\\n破碎的爱琴海沿岸，村镇级的邦国林立，任何一个城邦都无法单独应对来自东方的威胁，斯巴达和雅典这样的死敌，面临死亡威胁的时候，也会携起手来共同对敌。与农耕文明的东方君主不同，西方的英雄大多是协调者、沟通者、连接者。他们善于与敌人达成共识，也善于与世仇结成联盟。狭小的国土散落在群山之，任何一个城邦都必须依赖与他人互通有无才能存续下去。于是，他们把自己与别人深度的捆绑在一起，通过对契约的坚守实现一种斗而不破的动态平衡。这种底层状况所雕塑出来的生存策略，同样决定了其语言的特征——必须要根据上下文才能确定某个单词的在当下语境中的确切意思。\\n\\n转化\\n\\n任何社会的一切组织形式都根植于其底层逻辑。《F1: 见大行远》中说过：所谓文化就是一个群体应对其生存环境的共同生存策略。无论东方还是西方的文化，都是一套关于底层逻辑的自我解释——以自己族群的理解方式和熟悉的语言来表述而已。\\n\\n\\n\\n无论是交易还是建造，都是生命应对存亡绝续的生存策略。一个社会的方方面面都深深的扎根于它最初的生存策略，即便底层结构已经改变，生存策略的惯性依然具有很强大的裹挟力。如果底层结构并没有实现升级，任何形式的沙中建塔都会坍塌！\\n\\n\\n\\n结构的特征\\n\\n结构的动态稳定依赖契约，结构的静态稳定依赖秩序。如果统治结构的维系成本无法支撑，关键节点之间经过博弈会形成某种契约。开始由静态的平衡转变为动态的平衡——秩序逐步瓦解，交易成为主流。一旦交易链条无法打通，交易成本持续升高，交易结构就会瓦解，处于无序状况的结构会释放它所聚集的能量，一旦某种低成本聚集力量的方式出现，暴力，或被虚拟化的暴力，就会在混沌中重建静态的统治秩序。\\n\\n统治结构\\n\\n统治结构将所有的利益与层级节点深度捆绑，通过营造封闭的层级结构来构建静态的稳定秩序。统治结构需要选择一种能强化秩序的道义覆盖其上，以降低维持统治的成本。在统治结构中，所有的道义之争都是权力之争；所有的权力之争都是利益之争；所有的利益之争，都是位置之争。\\n\\n无论自上而下，还是自下而上的内部信息传递，各层级都会根据自身的利弊进行伪造、筛选、屏蔽之后再逐级传递，因此，统治结构内部的信息传递严重失真。身处其中的人，更愿意通过外部信息来判断当前形势和自身所处的状态。统治结构越严密就越对小道消息和暗箱操作缺乏免疫力。\\n\\n\\n统治结构致力于让任何深陷其中的人变成依附型的寄生者。深陷其中的人被各种无形的内在制约力所裹挟，裹挟力越强，就越缺乏独立生存能力。因此，除了维系成本过高之外，流动性也是瓦解统治结构的巨大威胁。一旦成员有了迁徙的能力，封闭的结构就会被打破，单向的控制力就逐渐下降，从而变成一种双向的交易。\\n\\n\\n\\n交易结构\\n\\n在交易结构中，为了建立信任，必要时需要增加中间层级，以搭建供需双方的信任链条。信任链条的维系依赖于交易结构中各参与方对契约的坚守。遵守契约的程度决定着交易成本。换而言之，只需要反复的违背契约，就能轻易的提升交易成本。交易结构的最大威胁是交易成本，一旦交易成本过高，交易结构随即瓦解。\\n\\n在交易结构中，效率是整体的效率，不是单点的效率。由上下游编织而成的竞争协作关系网决定了整条交易链条的效率。单点效率的提升不足以改变原有交易结构。要替代任何一个环节必须能以更低的成本和更高的效率承担起此环节在整个交易结构中扮演的角色，否则无法替代。\\n\\n一旦退出就足以让交易结构面临死亡威胁的参与方，是交易结构的关键支点，拥有最高权重的博弈筹码。无论显性还是隐形的关键支点都不仅仅能决定交易当下的生死，也决定业务未来发展的边界和瓶颈。\\n\\n注：防失联，备用公众号：交易成本  \\n\\n## F3：结构力量\\n\\n结构学是解决现实问题的认知工具。结构学研究：生命体在其生存结构中的求存之道！它源于“基因延续对能量的无限需求和其载体对能量的有限转化之间的终极矛盾”。结构学并非个人技能，它一直就在那里。我只是碰巧发现了它，并试图将它描述出来，以便应用于生活、商业及投资的判断和取舍！\\n\\n生命体是一种能够从外部攫取能量维持自生存续的有序结构。它是基因的载体，基因的延续是生命体存在的终极目标。因此，只要有利于基因的传递，生命体这个结构既会自我进化也会接受改造。无论是自我进化还是外力改造都需要摧毁原有结构并完成重构。进化需要内部力量摧毁结构并完成重建，改造则需要外部力量摧毁结构并完成重建。无论摧毁还是重建，起决定作用的都是结构的关键支点。结构的关键支点及其相互之间的约束条件构建起结构内部相互支撑又相互制约的秩序——这种相互制约能够避免结构内部的损耗，从而最大限度的聚集力量作用于结构所导向的目标。\\n\\n所有的设计和进化都是为了解决某个问题，结构为目的而存在——结构力量的聚集和释放都是为了它的终极目标。不管是统治结构还是交易结构都是一种有序的稳定形态——这种有序需要能量来维持，构建这种稳定的秩序同样需要消耗能量。当能量不足时，结构就必然会坍塌和瓦解；如果能量不够，结构就无法搭建起来！\\n\\n结构力量三要素 \\n\\n科技是将遥远的资源用于解决眼前的冲突，金融是将未来的资源用于解决眼前的冲突。情绪是把不存在的资源用于解决眼前的冲突——这里的“遥远”不仅仅是距离遥远，也包括资源转化的中间环节的长度和转化条件的复杂度。这里的“未来”是一个没有精确刻度的时间概念。这里的“不存在”是以产生情绪的载体为参照！无论是科技、金融还是情绪，三者都能形成递归循环，持续叠加，自我强化的结构力量。释放和阻断结构力量都取决于结构的关键支点——结构力量的关键支点包括以下三要素：\\n\\n\\n面对存亡所形成的共识和仲裁机制\\n\\n能形成自我强化的内在驱动力机制\\n\\n执行生存策略的高性价比传导体系\\n\\n仲裁和共识 \\n\\n生命体是基因的载体，个体生命按照一定方式构建起更大的生命体是为了控制更多的资源，提高能量转化的能力，降低基因传递断绝的概率，增强基因延续的多样性和适应性——所以，生命体会最大限度的占据资源以追求多样性和保障自身的存续，生命体处于不同的生存结构中会采用不同的生存策略，生命体的一切行为都是为了存续！\\n\\n所有的个体行为都受其内在精神结构的驱使，精神结构中的判断基于自我视角的抽象。这种自我抽象的差异性必然形成各不相同的生存策略，从而驱使各自采取符合自己生存策略的求存行为。作为一个整体，这势必造成混乱和内耗并制约结构力量的形成，继而危及整体求存策略的贯彻。共识必定是超越个体的，同时又有利于个体的终极目标。共识为求存确立目标，仲裁则针对目标做出取舍。仲裁的判断和取舍为个体的行为确立边界和规则，并形成一种结构力量驱使所有个体贯彻执行整体的生存策略。\\n\\n共识赋予仲裁机制做出判断和取舍的权力，形成一种约束来确保个体遵循规则并做出牺牲。如果说共识是一部宪法，那么仲裁机制就是宪法的执行机构——没有执行机构的宪法就是一纸空文。这个执行机构之所以能够建立的根本原因是什么呢？\\n\\n所有生命都需要面对死亡的威胁，暴力能够终结生命，造成死亡，所以暴力能够成为仲裁力量。正因为如此，凡是能大量制造死亡的力量都会被生命顶礼膜拜。将生命体置于死亡的威胁之中是迅速形成共识的最佳方式！仲裁其实就是通过死亡来做出抉择。因此，仲裁的最初形式就是暴力对决，其它一切的仲裁力量都是在模拟暴力对决。随着社会结构复杂度的跃升，对仲裁权的需求量成爆炸式增长。原始暴力不足以供给越来越多的需求者，于是，它转变为公共暴力，从而把仲裁权由少数拥有领地和武装的贵族扩展到拥有资产的广大群体——他们通过购买力来获得公共事务的仲裁权。\\n\\n领主的私人武装演变成国家机器的公共暴力，拥有购买力的群体通过国家机器来控制公共暴力。所有并发的压力都源于共享的规模——社会密度的持续提高，个体对仲裁的需求会更频繁。随着科技和金融的发展，一切都会被加速证券化并交易，资产的波动幅度会持续增加，保值将越来越难，因此，拥有让资产增值能力的认知力将会是继购买力之后的仲裁力量。购买力通过消费来确立护城河，认知力将通过教育来建立门槛！未来让人难以其及的不是奢侈品而是顶级的教育——它不仅仅贵，还逆人性，对绝大多数人而言，后者会是更大的门槛。\\n\\n仲裁所确立的规则个体虽然会遵从，但任何秩序的维持都需要消耗能量。如果迫使个体遵守规则所消耗的能量大于能从中获得的能量，结构力量就无法聚集起来，更无法形成自我强化的叠加。\\n\\n内在驱动力\\n\\n精神结构是内在驱动力的源头，包括三点： \\n\\n对自我的判断；\\n\\n对自我与外部资源关系的判断；\\n\\n基于以上的判断形成求存策略。\\n\\n\\n生存策略是生命体求存的指引，也是生命体在其生存结构中一切行为的原始驱动力。这个驱动力是如何自我强化，又是如何作用于现实的呢？生命体对自我及自我与外部资源的关系所做出的判断并非基于客观事实，而是基于自我感知的一种筛选和抽象。生存结构既包括所处的生存环境，也包括生命体对所处生存环境的自我抽象！在阐述结构力量三要素的时候，提到过情绪之所以能够循环叠加并自我强化，是因为情绪具备一个特征，那就是可以用“不存在”的资源来解决当下的冲突。这个“不存在”并非指客观不存在，而是相对于生命体而言。既然生命体的精神结构对自我判断及对自我与外部资源关系的判断都是基于一种自我抽象。这里就提供了一种“做假”的可能——自身的状况和资源的匮乏或富足都不再取决于现实，而取决于生命体的自我抽象！\\n\\n所有能够形成循环叠加自我强化的元素都具备一个显著特征：能突破现有条件的限制并持续的提供能量。情绪是能不断的让“不存在”的资源成为形成生存策略的依据；金融是能不断的透支未来；科技是不断构建更复杂的工具去转化能量。但是，都存在一个边界，那就是能量守恒！\\n\\n精神结构在依据自我抽象的判断形成生存策略之时，其目的都是围绕在其生存结构中求得存续。越是关乎生死存亡，判断、决策、执行和反馈就会加速运转——生命体不断的根据反馈重新对自我及自我与外部资源的关系进行判断，并以此形成新的生存策略，再驱使生命体执行策略并重复以上的循环。情绪是一种将生存策略转化为行为的指示信号，情绪的叠加其实是上面那个循环在加速运转，这种运转需要消耗能量，只不过常人无法理解，就认为是情绪在持续消耗能量。\\n\\n鉴于精神结构的特征，如果生命体的自我抽象造成了错误的判断，这个循环叠加就会造成偏离——无论是对生存环境的感知、过滤、判断都将失真，继而会在目标设定、约束条件和检测标准上，越来越偏离事实。欲壑难填其实是一种内在判断的失真，正是这种错误的自我强化在不断的驱动着生命体去采取行动执行错误的生存策略——外部的一切都是它的工具！\\n\\n激励机制之所以能发挥作用，本质上并非源于外部的奖惩，而是源于个体精神结构的扭曲：所有金融机构在招募人员的时候都会故意挑选野心勃勃的人，并热衷于激发内心的恐惧和欲望，制造人与人之间的竞争，形成相互刺激、彼此驱赶的氛围。\\n\\n\\n生命体的认知、判断和行为都会延续某种惯性，这惯性有的来自于所处生存环境中的制约，更多的是源于内心的某种缺失——在面对选择的时候，无论方案多么的完美，最终起决定作用的是当事人内心的恐惧——人会不惜代价的逃避内心的恐惧，去满足对安全感的需要。\\n\\n正因为生命体的对外行为是为了满足内心的需求——不是被恐惧所驱使，就是被贪婪所引诱。情绪的冲突源于生命体的精神结构——正是这种失真持续造成的扭曲产生了驱动力！生命体的所有行为都是由内部驱动的——所有的外交都是内政的延续！\\n\\n一个国家的内外政策亦是被内部各种结构性扭曲造成的问题所驱动——错误的策略经过传导体系的放大必然造成结构性的扭曲，一旦相互叠加就会形成多米诺骨牌一样的坍塌——人必自侮，然后人侮之；家必自毁，而后人毁之；国必自伐，而后人伐之！常人畏果，贤者畏因。因为贤者看到了结构力量会自我叠加的内在驱动力。\\n\\n\\n一个社会、一个国家、一个组织都是由个体构建而成的更大生命体。生命体的结构特征具有普遍适应性。生命体的一切行为都受其精神结构所驱使。在由个体构建而成的更大生命体的生存策略也就是我们所谓的文化！个体的精神结构会对自我和自我与外部资源的关系进行抽象，再根据这种抽象和判断形成生存策略。无论个体还是整体，形成生存策略的基础都是基于自我视角的抽象而非现实——这既是个体自卑和自负的源头，也是文化具有自我遮蔽特征的源头！文化天然具备自我遮蔽性——因为它不仅仅源自于个体生命体精神结构对所处生存环境的自我抽象，而且是个体自我抽象所形成的共识。不仅会产生一种机制约束所有个体执行这一共识所形成的生存策略，还会衍生出一套机制去清除质疑者，从而实现内部的自我约束和自我强化。（会有一堆C系列来详细阐述）\\n\\n传导体系\\n\\n力量通过结构来聚集也通过结构来释放，结构力量的形成依赖于：一个能够凝聚共识的道义，一套能自我强化的激励机制，一个捆绑了利益的传导体系。所谓的道义其实就是生存策略。任何道义拆开来看，都是关于对自我判断的解释，以及对生存环境和自我与之关系的解释。生命体的精神结构特征决定了外部的奖励无论是对生命体造成正向的循环刺激还是反向的循环刺激都会形成自我强化。所以，奖励的核心是持续的刺激，而最有效的持续刺激就是设计一套规则去制造相互之间的优劣之争。生命体作为基因传递的载体，淘汰就意为着死亡。竞争的胜负会唤醒生命体对死亡的强烈恐惧，从而改变其对生存结构的判断，继而形成自我强化的驱动力，利用外部的一切工具去执行生存策略。\\n\\n生存策略的执行效果取决于传导体系。传导体系所能控制的资源决定了生存策略能在多大范围内产生影响。传导体系的构建也是一种秩序的构建，任何秩序的建立和维护都需要消耗能量。因此，成本决定着所搭建的传导体系的规模和控制力。\\n\\n共识所形成的生存策略之所以能得以贯彻是因为仲裁力量的作用。然而，仲裁力量不是凭空产生的，无论是原始暴力，还是购买力，或者认知力，都需要高昂的成本。所以，这种依靠外在约束确立规则并维持秩序所构建起来的传导体系，会有一个临界点，那个成本的临界点决定了它的规模和控制力。因此，搭建传导体系需要最大限度的追求性价比。\\n\\n通过外部约束来避免内耗，源于个体对生存环境和置身其中的自我抽象各不相同。各不相同的判断势必驱使各自执行自己的求存策略，从而造成混乱。因此，除了通过仲裁力量维持秩序之外，还会通过统一各体的自我抽象和判断来避免混乱——所有的教育和训练都是为了统一判断，从而降低成本，搭建性价比更高的传导体系。规模更大和控制力更强的传导体系不仅意味着生存策略能作用于更大的范围，还意味着整个生命体能控制更多的资源去提升转化能量的能力，并有利于终极目的。\\n\\n在搭建传导结构中，通过对各种工具内在驱动力的洞察和底层逻辑的理解，就能充分利用外部的各种工具，将搭建传导体系的成本转嫁出去，从而达到持续放杠杆的效果，以更低的成本建立更大规模，渗透力更大，控制力更强的传导体系——所有的四两拨千斤都是充分的利用规则去转嫁成本。\\n\\n结构学：https://t.zsxq.com/NNNvzVF\\n\\nE1：精神结构\\n\\nF2：底层逻辑\\n\\nF1：见大行远\\n\\nC1：他们到底怕什么？\\n\\nC2：宗教是统治工具吗？\\n\\nC3：梳理流程也没用！\\n\\n"}'));jctx.push(JSON.parse('{"id": "190210", "tag": "book", "text": "# 晚清沧海事\\n\\n太平天国和湘军之战，曾国荃利用先进火器，取得胜势。由于火药和铜帽全靠进口，曾国藩开始并不舍得，后来意识到优势，也改用火器。\\n\\n英王陈玉成和藩在合肥对峙，派其叔陈得才和赖文光北上陕西寻找穆斯林援兵，使兵力分散，曾联合多隆阿将其击败。玉成投靠苗沛林，苗却将其送给胜保。\\n\\n咸丰和慈禧的儿子是同治，后来的光绪是其表弟。二人的父亲是兄弟，母亲是姐妹。\\n\\n晚清名臣曾左李胡(也有把胡林翼换成张之洞)，曾是1811年而左是1812年，李比曾小一轮1823年也最长寿。李帐下的刘铭传最能打，提议修4条铁路，可惜被翁同龢否定，最后在台湾才得以施展并铺上铁路。\\n\\n曾国藩的翻译容闳，耶鲁毕业，是第一个受美国文化影响的汉人。受他影响，曾提出留美幼童计划。原定持续15年最终仅4年，饶是如此依然成果颇丰。\\n\\n左先平定陕甘回乱，再定新疆。平回后借马占鳌之手杀花门宦寺教主马桂源，使其统治合法性只能来自中央权力，宗教势力从此不复存在。马的后人即灭红军西路军的马步青马步芳。为平定边患长治久安立大功。\\n"}'));jctx.push(JSON.parse('{"id": "190216", "tag": "book", "text": "# 《精通比特币》知笔墨\\n\\n钱包、密钥\\n私钥衍生家族----适用于各种树形权限分配，比如企业钱包\\n\\n交易\\n交易费按交易数据字节大小计算，交易费市场定价，与币值无关。矿工可按交易费排序优先级进行处理。\\n比特币以UTXO记录，UTXO如同金额不同的一张张支票，金额最小单位为“聪”\\n交易输入减输出即付给矿工的交易费，交易订单一般由钱包创建，手动创建时应避免付出天价交易费。（贪心算法挑选输入UTXO，解决背包问题常用的还有动态规划）\\n交易链条和孤立交易：父、子、孙订单在比特网络中传输可能出现不同时序。孤立交易会被放入一个大小有限的等待池。\\n类Forth脚本语言编写的脚本验证比特币交易：解锁脚本解锁输入UTXO集，锁定脚本指定输出UTXO集的解锁条件。脚本可表达出多到数不尽的条件变种。这也是比特币作为一种“可编程的货币”所拥有的权力。\\n并非所有解锁脚本都一定会包含签名。 有哪些特殊情形？？？\\n解锁脚本&锁定脚本，拼接执行\\n图灵非完备性，去除脚本复杂性，减少漏洞可能\\n标准交易：五大标准脚本分别为P2PKH、P2PK、MS（限15个密钥）、P2SH和OP_Return\\n多重签名，多个密钥联合管理资金，多重签名机制能为公司治理提供管控便利，同时也能有效防范盗窃、挪用和遗失。\\nOP_RETURN的定义即显示不能赎回；请记住OP_RETURN不涉及可用于支付的解锁脚本的特点，OP_RETURN不能使用其输出中所锁定的资金，因此它也就没有必要记录在蕴含潜在成本的UTXO集中，所以OP_RETURN实际是没有成本的。\\n\\n比特币网络\\n每个比特币节点都是路由、区块链数据库、挖矿、钱包服务的功能集合\\n对待节点区块数据同步，获取区块hash列表，再获取区块数据\\nBloom过滤器：增加SPV隐私性\\n交易池：节点们利用这个池来追踪记录那些被网络所知晓、但还未被区块链所包含的交易。\\nUTXO池\\n\\n区块链\\n区块头：1.引用父区块哈希值的数据，连接前一区块。 2.难度、时间戳和nonce，与挖矿竞争相关。3. merkle树根（一种用来有效地总结区块中所有交易的数据结构）\\n区块标识符：区块头哈希值和区块高度\\n\\nMerkle 树\\nMerkle树被用来归纳一个区块中的所有交易，同时生成整个交易集合的数字指纹，且提供了一种校验区块是否存在某交易的高效途径。\\n- 生成一棵完整的Merkle树需要递归地对哈希节点对进行哈希，并将新生成的哈希节点插入到Merkle树中，直到只剩一个哈希节点，该节点就是Merkle树的根。在比特币的Merkle树中两次使用到了SHA256算法，因此其加密哈希算法也被称为double-SHA256。\\n- 当N个数据元素经过加密后插入Merkle树时，你至多计算2*log2(N)次就能检查出任意某数据元素是否在该树中，这使得该数据结构非常高效。 （为了证明区块中存在某个特定的交易，一个节点只需要计算log2(N)个32字节的哈希值，形成一条从特定交易到树根的认证路径或者Merkle路径即可。）\\n- Merkle树和简单支付验证（SPV）：减少数据传输\\n\\n挖矿与共识\\n矿工提供算力，矿工们在挖矿过程中会得到两种类型的奖励：创建新区块的新币奖励，以及区块中所含交易的交易费\\n去中心化共识\\n* 每个全节点依据综合标准对每个交易进行独立验证\\n* 通过完成工作量证明算法的验算，挖矿节点将交易记录独立打包进新区块，\\n* 每个节点独立的对新区块进行校验并组装进区块链\\n* 每个节点对区块链进行独立选择，在工作量证明机制下选择累计工作量最大的区块链\\n\\n交易的独立校验\\n每一个节点在校验每一笔交易时，都需要对照一个长长的标准列表\\n在收到交易后，，每一个节点都会在全网广播前对这些交易进行校验，并以接收时的相应顺序，为有效的新交易建立一个池（交易池）。\\n\\n挖矿节点\\n矿工间的竞争以新区块的传播而结束，如同宣布谁是最后的赢家。也是下一个区块竞赛的发令枪。\\n整合交易至区块\\n交易块龄，矿工费和优先级\\n交易的优先级是通过输入值和输入的“块龄”乘积之和除以交易的总长度得到的： Priority = Sum (Value of input * Input Age) / Transaction Size\\nUTXO的“块龄”是自该UTXO被记录到区块链为止所经历过的区块数，即这个UTXO在区块链中的深度。交易记录的大小由字节来表示。\\n区块中用来存储交易的前50K字节是保留给较高优先级交易的。\\n\\n创币交易\\nCoinbase奖励与矿工费\\n\\n创币交易的结构\\n表8-1 “普通“交易输入的结构\\n长度 字段 描述\\n32 字节 交易哈希 指向包含有将要被花费UTXO的交易\\n4 字节 交易输出索引 UTXO在交易中的索引，0 从0开始计数\\n1-9 字节 解锁脚本长度 解锁脚本的长度\\n(VarInt) 可变长度 Unlocking-Script 一段脚本，用来解锁UTXO锁定脚本中的条件\\n4 bytes 顺序号 当前未启用的TX替换功能，设置为0xFFFFFFFF\\n\\n表8-2 生成交易输入的结构\\n长度 字段 描述\\n32 字节 交易哈希 不引用任何一个交易，值全部为0\\n4 字节 交易输出索引 值全部为1\\n1-9 字节 Coinbase数据长度 coinbase数据长度\\n(VarInt) 可变长度 Coinbase数据 在v2版本的区块中，除了需要以区块高度开始外，其他数据可以任意填写，用于extra nonce和挖矿标签\\n4 bytes 顺序号 值全部为1，0xFFFFFFFF\\n\\n构造区块头\\n表8-3 区块头的结构\\n长度 字段 描述\\n4 字节 版本 版本号，用来跟踪软件或协议的升级\\n32 字节 前区块哈希 链中前一个区块（父区块）的哈希值\\n32 字节 Merkle根 一个哈希值，表示这个区块中全部交易构成的merkle树的根\\n4 字节 时间戳 以Unix纪元开始到当下秒数记录的区块生成的时刻\\n4 bytes 难度目标 该区块的工作量证明算法难度目标\\n4 bytes Nonce 一个用于工作量证明算法的计数器\\n\\nProof Of Work\\n通过迭代 nonce 来生成不同哈希值的输出\\n目标阀值\\n难度表示\\n表示：系数/指数格式，前两位十六进制数字为幂，接下来得六位为系数。（如0x1903a30c，0x19为幂，而0x03a30c为系数）\\n计算难度目标的公式为： target = coefficient * 28 * (exponent – 3)\\n难度目标与难度调整\\n比特币的区块平均每10分钟生成一个。这就是比特币的心跳，是货币发行速率和交易达成速度的基础。难度被动态设定在，无论挖矿总算力如何变化，新区块产生速率都保持在10分钟一个。\\n难度的调整是在每个完整节点中独立自动发生的。每2,016个区块中的所有节点都会调整难度。难度的调整公式是由最新2,016个区块的花费时长与20,160分钟（两周，即这些区块以10分钟一个速率所期望花费的时长）比较得出的。难度是根据实际时长与期望时长的比值进行相应调整的（或变难或变易）。简单来说，如果网络发现区块产生速率比10分钟要快时会增加难度。如果发现比10分钟慢时则降低难度。\\nNew Difficulty = Old Difficulty * (Actual Time of Last 2016 Blocks / 20160 minutes)\\n工作量证明的难度调整 源文件 pow.cpp 第43行函数 GetNextWorkRequired()\\n为了防止难度的变化过快，每个周期的调整幅度必须小于一个因子（值为4）。如果要调整的幅度大于4倍，则按4倍调整。\\n挖矿成功后立即进行扩散传播\\n校验新区块\\n行为不诚实的矿工所产生的区块将被拒绝\\n* 区块的数据结构语法上有效\\n* 区块头的哈希值小于目标难度（确认包含足够的工作量证明）\\n* 区块时间戳早于验证时刻未来两个小时（允许时间错误）\\n* 区块大小在长度限制之内\\n* 第一个交易（且只有第一个）是coinbase交易\\n* 使用检查清单验证区块内的交易并确保它们的有效性\\n* “交易的独立校验”一节已经讨论过这个清单。\\n\\n区块链的组装与选择\\n比特币去中心化的共识机制的最后一步是将区块集合至有最大工作量证明的链中。一旦一个节点验证了一个新的区块，它将尝试将新的区块连接到到现存的区块链，将它们组装起来。\\n任何时候，主链都是累计了最多难度的区块链。在一般情况下，主链也是包含最多区块的那个链，除非有两个等长的链并且其中一个有更多的工作量证明。\\n节点维护三种区块：第一种是连接到主链上的，第二种是从主链上产生分支的（备用链），最后一种是在已知链中没有找到已知父区块的。在验证过程中，一旦发现有不符合标准的地方，验证就会失败，这样区块会被节点拒绝，所以也不会加入到任何一条链中。\\n选择了最大难度的区块链后，所有的节点最终在全网范围内达成共识。随着更多的工作量证明被添加到链中，链的暂时性差异最终会得到解决。挖矿节点通过“投票”来选择它们想要延长的区块链，当它们挖出一个新块并且延长了一个链，新块本身就代表它们的投票。\\n区块链分叉\\n链的重新共识\\n单区块分叉每周都会发生，而双块分叉则非常罕见。\\n挖矿和算力竞赛\\n下表表示了比特币网络开始运行后最初五年的总算力：\\n2009\\n0.5 MH/秒–8 MH/秒 (16倍增长)\\n2010\\n8 MH/秒–116 GH/秒 (14,500倍增长)\\n2011\\n16 GH/秒–9 TH/秒 (562倍增长)\\n2012\\n9 TH/秒–23 TH/秒 (2.5倍增长)\\n2013\\n23 TH/秒–10 PH/秒 (450倍增长)\\n2014\\n10 PH/秒–150 PH/秒 到8月为止 (15倍增长)\\n\\n随机值升位方案\\n算力增加，难度增加，会导致随机数不够用（全部随机数尝试过还是不能获得满足难度的hash）\\n随机数升位扩展方案衍化：\\n- Nonce随机数\\n- Nonce + 时间戳延后（空间有限，如果把它移动得太远，会导致区块变为无效）\\n- Nonce + coinbase脚本变化（coinbase脚本可以储存2-100字节的数据，其变化导致merkle树根值变化，导致区块头变化，进行扩展随机区域）\\n如果未来矿工希望可以尝试更多的可能性，他们还可以通过修改时间戳来解决。同样，coinbase脚本中也有更多额外的空间可以为将来随机数的扩展做准备。\\n\\n矿池：有趣，份额统计，工作量证明设计\\n让我们回到骰子游戏的比喻。如果骰子玩家的目标是扔骰子结果都小于4（整体网络难度），一个矿池可以设置一个更容易的目标，统计有多少次池中的玩家扔出的结果小于8。当池中的玩家扔出的结果小于8（矿池份额目标），他们得到份额，但他们没有赢得游戏，因为没有完成游戏目标（小于4）。但池中的玩家会更经常的达到较容易的矿池份额目标，规律地赚取他们的份额，尽管他们没有完成更难的赢得比赛的目标。\\n时不时地，池中的一个成员有可能会扔出一个小于4的结果，矿池获胜。然后，收益可以在池中玩家获得的份额基础上分配。尽管目标设置为8或更少并没有赢得游戏，但是这是一个衡量玩家们扔出的点数的公平方法，同时它偶尔会产生一个小于4的结果。\\n同样的，一个矿池会将矿池难度设置在保证一个单独的矿工能够频繁地找到一个符合矿池难度的区块头hash来赢取份额。时不时的，某次尝试会产生一个符合比特币网络目标的区块头hash，产生一个有效块，然后整个矿池获胜。\\n\\n托管矿池\\n矿工连接到矿池服务器使用一个采矿协议比如Stratum (STM)或者 GetBlockTemplate (GBT)\\nSTM和GBT协议都创建包含候选区块头模板的区块模板。矿池服务器通过聚集交易，添加coinbase交易（和额外的随机值空间），计算MERKLE根，并连接到上一个块hash来建立一个候选区块。这个候选区块的头部作为模板分发给每个矿工。矿工用这个区块模板在低于比特币网络的难度下采矿，并发送成功的结果返回矿池服务器赚取份额。\\n\\nP2P矿池\\nP2Pool是一个点对点的矿池，没有中心管理人。\\nP2Pool通过将矿池服务器的功能去中心化，实现一个并行的类似区块链的系统，名叫份额链。\\n本质上说，比起用一个矿池服务器记录矿工的份额和奖励，份额链允许所有矿工通过类似比特币区块链系统的去中心化的共识机制跟踪所有份额。\\n\\n共识攻击\\n比特币的共识机制依赖于这样一个前提，那就是绝大多数的矿工，出于自己利益最大化的考虑，都会通过诚实地挖矿来维持整个比特币系统。\\n共识攻击只能影响整个区块链未来的共识，或者说，最多能影响不久的过去几个区块的共识（最多影响过去10个块）。而且随着时间的推移，整个比特币块链被篡改的可能性越来越低。\\n区块链分叉/双重支付攻击指的是攻击者通过不承认最近的某个交易，并在这个交易之前重构新的块，从而生成新的分叉，继而实现双重支付。有了充足算力的保证，一个攻击者可以一次性篡改最近的6个或者更多的区块，从而使得这些区块包含的本应无法篡改的交易消失。值得注意的是，双重支付只能在攻击者拥有的钱包所发生的交易上进行，因为只有钱包的拥有者才能生成一个合法的签名用于双重支付交易。攻击者只能在自己的交易上进行双重支付攻击，但当这笔交易对应的是不可逆转的购买行为的时候，这种攻击就是有利可图的。\\n双重支付可以有两种方式：要么是在交易被确认之前，要么攻击者通过块链分叉来完成。进行51%攻击的人，可以取消在旧分叉上的交易记录，然后在新分叉上重新生成一个同样金额的交易，从而实现双重支付。\\n共识攻击中除了“双重支付”攻击，还有一种攻击场景就是拒绝对某个特定的比特币地址提供服务。 本质上来看，共识攻击，就像是系统中所有矿工的算力被分成了两组，一组为诚实算力，一组为攻击者算力，两组人都在争先恐后地计算块链上的新块，只是攻击者算力算出来的是精心构造的、包含或者剔除了某些交易的块。因此，攻击者拥有的算力越少，在这场决逐中获胜的可能性就越小。从另一个角度讲，一个攻击者拥有的算力越多，其故意创造的分叉块链就可能越长，可能被篡改的最近的块或者或者受其控制的未来的块就会越多。一些安全研究组织利用统计模型得出的结论是，算力达到全网的30%就足以发动51%攻击了。\\n竞争币和竞争块链的分类\\n元币平台\\n染色币:添加附加信息的币中币\\n万事达币\\n合约币\\n竞争币/山寨币\\n下面所列出的就是这些竞争币区别于比特币的三点主要不同：\\n* 货币策略不同\\n* 基于工作量证明的一致性机制不同\\n* 一些特殊的功能，比如更强的匿名性等等\\n\\n多目的挖矿创新：Primecoin, Curecoin, Gridcoin\\n致力于匿名性的竞争币：CryptoNote, Bytecoin, Monero, Zerocash/Zerocoin, Darkcoin\\n非货币型竞争区块链\\n域名币\\n"}'));jctx.push(JSON.parse('{"id": "190401", "tag": "book", "text": "# 山寨舆论背后的政治意图\\n\\n    今天我们继续聊《水浒》。\\n\\n    大家都知道《水浒》是一本讲反抗的书，里面兄弟情义讲得多，计谋韬略讲的少；多叙兄弟之间的出生入死，鲜及政治层面的钢铁无情。但是讲的少，并不是没有讲。上篇文章提到的招安一事宋江就颇费心机，其间很多政治操作。\\n\\n    今天我们就接着这个话头讲一讲这山寨舆论背后的政治意图。\\n\\n1\\n\\n    折腾死人，是我们这个民族的传统。\\n\\n    事业越宏伟，生前闹腾的越大的人，死后越容易被折腾。这种事情千百年来屡屡上演，一代代的政治家，社会活动家，宣传家们前赴后继，乐此不疲。这种折腾有的是以抬举、戴高帽子的办法，有的是以抨击、树靶子的办法；手法不一，效果不同。\\n\\n    我是个读闲书的，不知有汉，无论魏晋。咱们言归正传，聊聊《水浒》。\\n\\n    《水浒》在关键的第七十一回“忠义堂石碣受天文，梁山泊英雄排座次”一节中有这样一段描述：忠义堂后建筑雁台一座，顶上正面大厅一所，东西各设两房。正厅供养晁天王灵位，等于给晁天王弄了一座纪念堂。造反的强梁，也逃不脱死后被折腾的命运。\\n\\n    这是晁天王曾头市中箭以后在书中不多的几次出现之一。\\n\\n    这次的出现有个背景：在这之前经历了东平、东昌之战，收服了体制内部分力量，梁山进入全盛期。晁天王没有看到这样的全盛；他在曾头市中箭临终之际交代谁能活捉史文恭谁就接替他做梁山之主。\\n\\n    带领弟兄们创建了梁山盛世的宋江没有听他的话，他不但没让活捉史文恭的玉麒麟卢俊义做山寨之主；而且为大家指了一条投降的出路。但是宋江同志毕竟还是很讲政治的，虽然他违背了晁天王的遗言，但是面子上的功夫还是做足了。\\n\\n2\\n\\n    面子上的功夫主要有这样几个。\\n\\n    一是，打完曾头市，活捉史文恭以后，作势要遵从天王遗愿，把头把交椅让与卢俊义。后来在李逵，吴用等人的运作之下，以另一种方式解决了遵从天王遗愿和宋江做山寨之主之间的矛盾，维护了梁山的稳定。这中间也有许多关节，我们日后再聊；总的来说，虽然没有遵从天王遗愿，但还是在表面上维护了天王的权威，哪怕这个权威和事实上的晁盖已经无关了。\\n\\n    二是，在梁山英雄排座次的建醮大会上有一句这样关于晁天王的话。原话是这么说的：“三则上荐晁天王，早升仙界，世世生生，再得相见。”跟宋江前面提起晁盖来时的恭敬相比，这句话虽说得客气，背后的意思却不怎么客气。首先，上荐仙界的意思，肯定不是已经在天界了，而是需要上荐才能早升仙界；其次，我们看看需要用罗天大醮来上荐仙界的人都是什么人？书中说的明白：“横亡恶死，火烧水溺，不得善果之人”。晁天王是领兵打仗的，死于战争，按理说并不在此列。宋江这么说，是想告诉大家什么？是不是有点一面大搞揭秘史学，一面高喊维护领袖威望那种高级黑的感觉。\\n\\n    第三，就是前面提到的在这次建醮之后给晁天王修了一座纪念堂。修纪念堂这种事情比较复杂，有的是继承人想强调自己的的合法性，有的是想借着死人替自己说话。但一般都不是单纯的为了纪念逝者。就拿晁盖这座纪念堂来说吧，纪念晁盖的成分就很小。不信你看书中写宋江围攻大名府遇阻，心生忧闷，梦中见晁天王显圣；见晁盖显灵后宋江的表现书中原文是这样写的：先是“宋江吃了一惊”，接着是“急起身问道：‘前者一向不曾致祭，以此显灵，必有见责’。”若是时常挂念怎会吃了一惊？又怎会说出后面“一向不曾致祭，必有见责”这番话来？时时思虑，纪念又何必纪念堂？纪念堂之非为纪念，于此中可见一二。\\n\\n3\\n\\n    晁天王这个人从本质上来说是个粗人，他的愿望和感情都比较朴素。这从中箭弥留之际所留的遗言就能看出来，他说谁捉住了射他的史文恭谁就做山寨之主；将山寨视为私囊，谁能与他雪恨，就馈赠与谁。再反观他当初做出智取生辰纲的决定时，理由也是生辰纲“一套不义之财，取之何碍？”，朴素且简单。\\n\\n    跟作为庄园主的晁盖相比，宋江就显得复杂多了。宋江在公门之中有些身份，押司在皇权不下县的年月虽是小吏，搁现在至少也是个县委办主任，从书中两个主管公安的都头都受他节制的情况看他这个押司的职务弄不好还是个主管公安的县委常委的身份呢。\\n\\n    宋江人在公门，政治敏感性自然比晁盖强。他瞒着朝廷私通晁盖，但是他的意识形态里对于上梁山还是排斥的。秦腔里面有一出戏叫《宋江投朋》，其中有一句唱词：“手指梁山怒晁盖，你不该差人下书来。”这出戏在西宁快板中叫《沧州投朋》；它对宋江的心理描摹应该说是比较准确的。\\n\\n    书中交代他私放晁盖后再次见到刘唐时，先是：\\n\\n听了大惊，说道：“贤弟，你好大胆！早是没做公的看见！险些儿惹出事来！”\\n\\n《水浒传·郓城县月夜走刘唐》\\n    然后拒收金条，并“我不敢留你去家中住”；后面更有分付“贤弟保重，再不可来。此间做公的多，不是耍处。我更不远送，至此相别。”\\n\\n    跟刘唐相别后，更是：\\n\\n一头走，一面肚里寻思道：“早是没做公的看见，险些惹出一场大事来！”一头想：“那晁盖倒去落了草！直如此大弄！”\\n\\n《水浒传·郓城县月夜走刘唐》\\n    这前前后后的表现和心理活动倒是跟戏文呼应，妥妥的一种保护伞想和黑社会切割关系的既视感。\\n\\n4\\n\\n    宋江是有组织的人，是县委的领导；晁盖是草莽财主，是涉黑企业家。没事的时候，晁盖发晁盖的财，宋江干宋江的事；晁盖给宋江供奉，宋江给晁盖摆平诸如夺了西溪村的宝塔之类的事情。政商关系不说清清爽爽吧；也是正正常常。\\n\\n    可是如今晁盖劫了生辰纲，夺的那是当朝太师的富贵。担下这等干系，宋江即使有心也没胆跟他来往了。二人日后的路线差别其实在这里已经埋下了。遇到刘唐这等人时，晁盖是领着干，想的是取了这套富贵；宋江是礼送出境，想的是险些惹出大事来。\\n\\n    晁盖认为宋江担着这天大的干系，提前给他通风报信，将他从官军的虎口中救出，是在江湖义气和皇权体制之间选择了江湖义气；因此他一到梁山落草就冒着被抓的风险打发刘唐拿着书信，黄金来酬谢救命之恩；但是宋江多半不这么看。“老子冒着风险，担着干系让你走人，你却打发人跑来又是书信又是黄金的，这不是给老子惹事么。”这多半是宋江的心里话。\\n\\n    晁盖本以为宋公明也是个革命者；结果搞了半天，人家只是同情革命的同路人。\\n\\n    宋江的这种思想一直延续到做了山寨之主以后，“权居水泊，专等招安”不仅仅是他挂在口上的说辞，也是他积极践行的政治实践。在他的意识中这种“权居水泊”的“犯上作乱”其实是“替天行道”的“忠君之行”，他要做的只是将江湖的力量纳入皇权的轨道，替腐朽的皇权补罅葺漏。\\n\\n    鲁迅说《水浒传》是“国政废弛，转思草泽”。鲁迅确实扭住了根本；以草泽的力量倒逼国家机器的革故鼎新这是宋江式的忠君。在官员/皇权的二元结构中，他并不想抛弃对作为权利意志象征的皇帝的忠诚，但是又不满作为国家机器的一系列官员的作为；只能转思草泽，替天行道去了。\\n\\n5\\n\\n    教员说《水浒》这本书好就好在投降，老人家几次三番说宋江搞修正主义，是投降派。教员是修辞学的大师，熟读《水浒》的他，对于书中种种关节洞若观火。宋江这种将聚义变为忠义的政治正确，将造反纳入皇权格局的大方向，将重建国家政治伦理秩序的政治诉求引入草泽社会的努力，在作为革命者的教员看来确实和投降庶几等之。\\n\\n    宋江说自己“自幼熟读经史，长成亦有权谋”，他上梁山以后通过大量吸纳官军降将来改造原本以蒙冤者和不法者为主的队伍，通过设置纪念堂将自己的政治目标和作为一个晁天王的遗志继承者二者之间的矛盾调和了，引导、教育、督促众家兄弟在忠君的道路上越走越远。\\n\\n    教员是靠边站过的人，也是对教育群众充满责任感和迫切感的人。终其一生，都对各种隐藏起来的政治意图充满警惕。他自己选出来的接班人跟群众说听教员的话不是虚无的，而是落实在行动中的，这个行动就是听各级党委领导的话；各级党委又听接班人的；最后他的讲话被印发的多多的，他的思想被总结的全全的；但是他的话没人听，他的事没人办。\\n\\n    随着他经历的党内斗争越多，越对宋江这种将晁盖高高的贡在纪念堂，动不动就说自己梦见晁天王，但是对晁盖生前那些愿望则一概摒弃的行为警惕。接班人，副统帅一个个都没逃过法眼。然而，即使警惕也改变不了他身后被人更多的请进课本，请进纪念堂，请进各种场合，而实践却更多远离他的情况。\\n\\n    当然，要受这种宋江/晁盖式摆布的不止教员一个人。摆布过他的人，也免不了被人摆布的结局；甚至于一个企业家去世了，也免不了被有的人捧成盖世英雄，被有的人基为犯罪分子；唯一不同的是有的人像教员一样激烈的反抗过这些摆布，有的人却对这摆布甘之如饴。\\n\\n    人民的思想总是从一个极端走向另一个极端；历史长河中，政治家如宋江一般“熟读经史，长通权谋”的是多数，如教员一般“百家注我，恣肆汪洋”的是极少数；如果看不透隐藏在一座座纪念堂，一篇篇颂扬文字后面的政治意图，那“反抗—绝望”的《水浒》模式，将在现实中不断上演；国人也就只能在一轮轮的聚散交替中上演轮回。\\n"}'));jctx.push(JSON.parse('{"id": "190410", "tag": "design", "text": "# 微服务的理解和实践\\n\\n大型系统由于业务复杂，理论上通过合理的约定，一个服务没问题，就像linux至今仍是宏内核。但大部分的团队没有自制力，只好强制拆分，使每个功能变小，互相之间通过消息传递，不再也无法知道其它服务的细节。\\n\\n在做两个网站项目，虽然规模不大，还是借公司项目尝试拆分，想以下原则\\n\\n1. 变动和不变分离，比如第三方依赖库和包装类单独建一个工程，部署后要能做到lib/不改动。更新只替换jar\\n2. 同类型业务不拆分，打包进一个jar。如果要读写分离应该是一个服务内两个数据库连接来分离。具体一个jar放多少个业务，视情况而定\\n3. 服务间通过网络交互，不要共享数据库。原因依赖接口而不是依赖实现。服务间的地址通过独立服务共享，现阶段可以用nginx实现"}'));jctx.push(JSON.parse('{"id": "190421", "tag": "design", "text": "# 负载均衡介绍\\n\\n在架构系统的时候，通常会涉及到分布式，而处分布式里面最前端的是负载均衡器(当然还有cdn)。在网上搜寻一份，对目前常见的负载均衡器做一些介绍和常见组合，不涉及具体配置。\\n\\n第一种是常见的硬件有比较昂贵的NetScaler、F5、Radware和Array等商用的负载均衡器，它的优点就是有专业的维护团队来对这些服务进行维护、缺点就是花销太大，所以对于规模较小的网络服务来说暂时还没有需要使用；\\n\\n第二种是类似于LVS/HAProxy、Nginx的基于Linux的开源免费的负载均衡软件策略,这些都是通过软件级别来实现，所以费用非常低廉，所以我个也比较推荐大家采用第二种方案来实施自己网站的负载均衡需求。除了这些还有：Lighttpd、Apache-mod_proxy、Squid、Socks、TIS FWTK、Delegate。\\n\\nLVS的特点是：\\n\\n1. 抗负载能力强、是工作在网络4层之上仅作分发之用，没有流量的产生，这个特点也决定了它在负载均衡软件里的性能最强的； \\n2. 配置性比较低，这是一个缺点也是一个优点，因为没有可太多配置的东西，所以并不需要太多接触，大大减少了人为出错的几率； \\n3. 工作稳定，自身有完整的双机热备方案，如LVS+Keepalived和LVS+Heartbeat，不过我们在项目实施中用得最多的还是LVS/DR+Keepalived； \\n4. 无流量，保证了均衡器IO的性能不会收到大流量的影响； \\n5. 应用范围比较广，可以对所有应用做负载均衡； \\n6. 软件本身不支持正则处理，不能做动静分离，这个就比较遗憾了；其实现在许多网站在这方面都有较强的需求，这个是Nginx/HAProxy+Keepalived的优势所在。如果是网站应用比较庞大的话，实施LVS/DR+Keepalived起来就比较复杂了，特别后面有Windows Server应用的机器的话，如果实施及配置还有维护过程就比较复杂了，相对而言，Nginx/HAProxy+Keepalived就简单多了。\\n\\nNginx的特点是：\\n\\n1. 工作在网络的7层之上，可以针对http应用做一些分流的策略，比如针对域名、目录结构，它的正则规则比HAProxy更为强大和灵活，这也是许多朋友喜欢它的原因之一； \\n2. Nginx对网络的依赖非常小，理论上能ping通就就能进行负载功能，这个也是它的优势所在； \\n3. Nginx安装和配置比较简单，测试起来比较方便； \\n4. 可以承担高的负载压力且稳定，一般能支撑超过几万次的并发量； \\n5. Nginx可以通过端口检测到服务器内部的故障，比如根据服务器处理网页返回的状态码、超时等等，并且会把返回错误的请求重新提交到另一个节点，不过其中缺点就是不支持url来检测； \\n6. Nginx仅能支持http和Email，这样就在适用范围上面小很多，这个它的弱势； \\n7. Nginx不仅仅是一款优秀的负载均衡器/反向代理软件，它同时也是功能强大的Web应用服务器。LNMP现在也是非常流行的web架构，大有和以前最流行的LAMP架构分庭抗争之势，在高流量的环境中也有很好的效果。 \\n8. Nginx现在作为Web反向加速缓存越来越成熟了，很多朋友都已在生产环境下投入生产了，而且反映效果不错，速度比传统的Squid服务器更快，有兴趣的朋友可以考虑用其作为反向代理加速器。\\n\\nHAProxy的特点是：\\n\\n1. HAProxy是支持虚拟主机的。 \\n2. 能够补充Nginx的一些缺点比如Session的保持，Cookie的引导等工作。 \\n3. 支持url检测后端的服务器出问题的检测会有很好的帮助。 \\n4. 它跟LVS一样，本身仅仅就只是一款负载均衡软件；单纯从效率上来讲HAProxy更会比Nginx有更出色的负载均衡速度，在并发处理上也是优于Nginx的。 \\n5. HAProxy可以对Mysql读进行负载均衡，对后端的MySQL节点进行检测和负载均衡，不过在后端的MySQL slaves数量超过10台时性能不如LVS，所以我向大家推荐LVS+Keepalived。\\n6. HAProxy的算法现在也越来越多了，具体有如下8种： \\n① roundrobin，表示简单的轮询，这个不多说，这个是负载均衡基本都具备的； \\n② static-rr，表示根据权重，建议关注； \\n③ leastconn，表示最少连接者先处理，建议关注； \\n④ source，表示根据请求源IP，这个跟Nginx的IP_hash机制类似，我们用其作为解决session问题的一种方法，建议关注； \\n⑤ ri，表示根据请求的URI； \\n⑥ rl_param，表示根据请求的URl参数\'balance url_param\' requires an URL parameter name； \\n⑦ hdr(name)，表示根据HTTP请求头来锁定每一次HTTP请求； \\n⑧ rdp-cookie(name)，表示根据据cookie(name)来锁定并哈希每一次TCP请求。 \\n\\nNginx和LVS作对比的结果\\n\\n1. Nginx工作在网络的7层，所以它可以针对http应用本身来做分流策略，比如针对域名、目录结构等，相比之下LVS并不具备这样的功能，所 以 Nginx单凭这点可利用的场合就远多于LVS了；但Nginx有用的这些功能使其可调整度要高于LVS，所以经常要去触碰触碰，由LVS的第2条优点 看，触碰多了，人为出问题的几率也就会大。 \\n2. Nginx对网络的依赖较小，理论上只要ping得通，网页访问正常，Nginx就能连得通，Nginx同时还能区分内外网，如果是同时拥有内外网的 节点，就相当于单机拥有了备份线路；LVS就比较依赖于网络环境，目前来看服务器在同一网段内并且LVS使用direct方式分流，效果较能得到保证。另 外注意，LVS需要向托管商至少申请多一个ip来做Visual IP，貌似是不能用本身的IP来做VIP的。要做好LVS管理员，确实得跟进学习很多有关网络通信方面的知识，就不再是一个HTTP那么简单了。站长教学网 eduyo.com \\n3. Nginx安装和配置比较简单，测试起来也很方便，因为它基本能把错误用日志打印出来。LVS的安装和配置、测试就要花比较长的时间了，因为同上所述，LVS对网络依赖比较大，很多时候不能配置成功都是因为网络问题而不是配置问题，出了问题要解决也相应的会麻烦得多。 \\n4. Nginx也同样能承受很高负载且稳定，但负载度和稳定度差LVS还有几个等级：Nginx处理所有流量所以受限于机器IO和配置；本身的bug也还是难以避免的；Nginx没有现成的双机热备方案，所以跑在单机上还是风险较大，单机上的事情全都很难说。 \\n5. Nginx可以检测到服务器内部的故障，比如根据服务器处理网页返回的状态码、超时等等，并且会把返回错误的请求重新提交到另一个节点。目前LVS中 ldirectd也能支持针对服务器内部的情况来监控，但LVS的原理使其不能重发请求。重发请求这点，譬如用户正在上传一个文件，而处理该上传的节点刚 好在上传过程中出现故障，Nginx会把上传切到另一台服务器重新处理，而LVS就直接断掉了，如果是上传一个很大的文件或者很重要的文件的话，用户可能 会因此而恼火。 \\n6. Nginx对请求的异步处理可以帮助节点服务器减轻负载，假如使用apache直接对外服务，那么出现很多的窄带链接时apache服务器将会占用大 量内存而不能释放，使用多一个Nginx做apache代理的话，这些窄带链接会被Nginx挡住，apache上就不会堆积过多的请求，这样就减少了相 当多的内存占用。这点使用squid也有相同的作用，即使squid本身配置为不缓存，对apache还是有很大帮助的。LVS没有这些功能，也就无法能 比较。 \\n7. Nginx能支持http和email（email的功能估计比较少人用），LVS所支持的应用在这点上会比Nginx更多。在使用上，一般最前端所 采取的策略应是LVS，也就是DNS的指向应为LVS均衡器，LVS的优点令它非常适合做这个任务。重要的ip地址，最好交由LVS托管，比如数据库的 ip、webservice服务器的ip等等，这些ip地址随着时间推移，使用面会越来越大，如果更换ip则故障会接踵而至。所以将这些重要ip交给 LVS托管是最为稳妥的，这样做的唯一缺点是需要的VIP数量会比较多。Nginx可作为LVS节点机器使用，一是可以利用Nginx的功能，二是可以利 用Nginx的性能。当然这一层面也可以直接使用squid，squid的功能方面就比Nginx弱不少了，性能上也有所逊色于Nginx。Nginx也 可作为中层代理使用，这一层面Nginx基本上无对手，唯一可以撼动Nginx的就只有lighttpd了，不过lighttpd目前还没有能做到 Nginx完全的功能，配置也不那么清晰易读。另外，中层代理的IP也是重要的，所以中层代理也拥有一个VIP和LVS是最完美的方案了。具体的应用还得 具体分析，如果是比较小的网站（日PV<1000万），用Nginx就完全可以了，如果机器也不少，可以用DNS轮询，LVS所耗费的机器还是比较 多的；大型网站或者重要的服务，机器不发愁的时候，要多多考虑利用LVS \\n\\n反向代理从传输上分可以分为2种：\\n\\n1. 同步模式(apache-mod_proxy和squid)\\n2. 异步模式(lighttpd 和 nginx)\\n\\n在nginx的文档说明中，提到了异步传输模式并提到它可以减少后端连接数和压力，这是为何？\\n\\n下面就来讲解下传统的代理（apache/squid）的同步传输和lighttpd,nginx的异步传输的差异。\\n\\n同步传输：浏览器发起请求，而后请求会立刻被转到后台，于是在浏览器和后台之间就建立了一个通道。在请求发起直到请求完成，这条通道都是一直存在的。\\n\\n异步传输：浏览器发起请求，请求不会立刻转到后台，而是将请求数据（header）先收到nginx上，然后nginx再把这个请求发到后端，后端处理完之后把数据返回到nginx上，nginx将数据流发到浏览器，这点和lighttpd有点不同，lighttpd是将后端数据完全接收后才发送到浏览器。\\n\\nSquid作为网页服务器的前置cache服务器，可以代理用户向web服务器请求数据并进行缓存，也可以用在局域网中，使局域网用户通过代理上网。Squid与Linux下其它的代理软件如Apache、Socks、TIS FWTK和delegate相比，下载安装简单，配置简单灵活，支持缓存和多种协议。用ipchains+Squid的解决方案，就可以获得通过缓存高性能的同时能够无缝的访问Internet。\\n\\n小结：apache和squid的反向会增加后端web的负担，因为每个用户请求都会在proxy上与后端server建立的长久链接，知道数据取完前，连接都不会消失。因为wan速度与lan速度的不同，虽然lan之间的速度是极度快的，但是用户的wan连接决定了这个时间长。而lighttpd和nginx的异步模式，是不管你用户要求的数据有多大，都是先收下来，再与后端联系，这是非常迅速的速度，所以proxy与后端连接时间也会很短，几十M的东西也是几秒内。后端不需要维护这么多连接。而lighttpd也和nginx不同的异步，lighttpd是先收完再转向客户浏览器，而nginx是边收数据边转向用户浏览器。\\n\\n那么这到底有什么好处呢？\\n\\n1. 假设用户执行一个上传文件操作，因为用户网速又比较慢，因此需要花半个小时才能把文件传到服务器。squid的同步代理在用户开始上传后就和后台建立了连接，半小时后文件上传结束，由此可见，后台服务器连接保持了半个小时；而nginx异步代理就是先将此文件收到nginx上，因此仅仅是nginx和用户保持了半小时连接，后台服务器在这半小时内没有为这个请求开启连接，半小时后用户上传结束，nginx才将上传内容发到后台，nginx和后台之间的带宽是很充裕的，所以只花了一秒钟就将请求发送到了后台，由此可见，后台服务器连接保持了一秒。同步传输花了后台服务器半个小时，异步传输只花一秒，可见优化程度很大。\\n2. 在上面这个例子中，假如后台服务器因为种种原因重启了，上传文件就自然中断了，这对用户来说是非常恼火的一件事情，想必各位也有上传文件传到一半被中断的经历。用nginx代理之后，后台服务器的重启对用户上传的影响减少到了极点，而nginx是非常稳定的并不需要常去重启它，即使需要重启，利用kill -HUP就可以做到不间断重启nginx。\\n3. 异步传输可以令负载均衡器更有保障，为什么这么说呢？在其它的均衡器（lvs/haproxy/apache等）里，每个请求都是只有一次机会的，假如用户发起一个请求，结果该请求分到的后台服务器刚好挂掉了，那么这个请求就失败了；而nginx因为是异步的，所以这个请求可以重新发往下一个后台，下一个后台返回了正常的数据，于是这个请求就能成功了。还是用用户上传文件这个例子，假如不但用了nginx代理，而且用了负载均衡，nginx把上传文件发往其中一台后台，但这台服务器突然重启了，nginx收到错误后，会将这个上传文件发到另一台后台，于是用户就不用再花半小时上传一遍。\\n4. 假如用户上传一个10GB大小的文件，而后台服务器没有考虑到这个情况，那么后台服务器岂不要崩溃了。用nginx就可以把这些东西都拦在nginx上，通过nginx的上传文件大小限制功能来限制，另外nginx性能非常有保障，就放心的让互联网上那些另类的用户和nginx对抗去吧。\\n\\n用异步传输会造成问题：\\n\\n后台服务器有提供上传进度的功能的话，用了nginx代理就无法取得进度，这个需要使用nginx的一个第三方模块来实现。\\n\\n针对高可用（HA）通常做是主备或者集群，也是分布式集群的中的很重要一环，直接避免单点故障。目前使用较多的HA软件有：Keepalived、Heartbeat、 Piranha、Pacemaker；\\n\\nKeepalived和Heartbeat对比：\\n\\nKeepalived使用的vrrp协议方式，虚拟路由冗余协议 (Virtual Router Redundancy Protocol，简称VRRP)。Heartbeat是基于主机或网络的服务的高可用方式； \\nkeepalived的目的是模拟路由器的双机。heartbeat的目的是用户service的双机； \\nlvs的高可用建议用keepavlived。业务的高可用用heartbeat\\n\\nPiranha 提供了一套解决方案，包括对服务状态的监控、业务服务器的监控和负载服务器本身热备。\\n\\nPacemaker 是一个集群资源管理器。它利用你喜欢的集群基础构件（OpenAIS 或heartbeat）提供的消息和成员管理能力来探测并从节点或资源级别的故障中恢复，以实现群集服务（亦称资源）的最大可用性。 \\n它可以做几乎任何规模的集群，并带有一个强大的依赖模式，让管理员能够准确地表达的群集资源之间的关系（包括顺序和位置）。几乎任何可以编写的脚本，都可以作为管理起搏器集群的一部分。尤为重要的是Pacemaker不是一个heartbeat的工具，可能有人存在这样的误解。Pacemaker是一个延续CRM（亦称V2资源管理器）的项目。最初开发的项目是heartbeat，已经成为该项目的子项目。\\n"}'));jctx.push(JSON.parse('{"id": "190422", "tag": "book", "text": "# 西门庆的情\\n\\n李瓶儿死后，西门庆在她灵前收用了奶妈如意儿。许多人大叫这一段辣眼，我看了却心里难受。\\n\\n面对着你的灵位，把别人当成你，哪怕是这样，都感到欣慰。\\n\\n这不是乖张荒淫，这是深切的哀寂。一个人思念另一个人，到达了这样的程度。\\n\\n李瓶儿死后大半本书，我只读一遍，就不太再读得下去。满纸荒唐言，都是辛酸泪。\\n\\n西门庆对王六儿潘金莲，只是用钱梳拢，每日想尽办法，寻欢作乐。\\n\\n那不是正常的情感。正常的情感，一定会有沟通的愿望，和对未来的期待。想要从对方那里，得到对自我的终极认同。\\n\\n他只是在麻醉自己，也许不敢独处一夜，怕瓶儿夜半入梦来。\\n\\n他再没有人可以爱，没有人可以托付。\\n\\n没有人可以诉说衷肠，没有人能令他再对未来生出美好期待。\\n\\n也许他心里早就暗暗盼望着，死亡带来的终极解脱。为了那阵鬼风，他已经等了太久。\\n\\n西门庆，其实是很怕寂寞的人。他绕树三匝，无枝可依。\\n\\n这个人的情感依赖，到了这样的程度，明知是潘金莲害死官哥儿，他都离不开她。\\n"}'));jctx.push(JSON.parse('{"id": "190430", "tag": "design", "text": "# 依赖注入和控制反转\\n\\n各个components自己的逻辑\\n怎么把多个小components组合起来形成高一层组件的组合逻辑(也就是控制组合流，你可以手动DI，或者用任何类型的controller，或者用DI Framework，或者你使用的语言直接支持，或者利用隐式环境，关键是单独来完成这件事，别把怎么组合自己和自己的dependency这件事情，让自己来决定；也就是别把components的逻辑和components怎么和别人的实例组合的逻辑放在一起)\\n做到这点需要component不能把自己的依赖写死(不能自己去创建自己需要的dependency的实例)，而是只是声明自己需要的spec(一般是interface；如果只存这个spec/interface的一种实例，那么懒得定义interface用实例的类型做依赖声明也可以，需要存在不同实例的时候再重构抽出interface就行了，但是别自己create自己的依赖。比如sort的实现把要sort的compareTo的实例固定，那么sort就只能sort一种T）这就是广义的DI。 无法把广义DI和DI framework分开思考的人就别评论了。\\n\\n只有很少几种情况components可以直接决定自己的依赖，比如这个依赖绝对不会更改(这意味着你想连UT都把这个components和依赖必须一起测，因为写死了)，或者这个实例在世界上只存在一种(比如你依赖于一些数学函数，Math.abs) 这些东西只存在一种实现，绝对不会变，即使放在UT里。\\n\\n注意：如果需要component控制dependency生成的时机timing，可以inject进来dependency的factory。那么component虽然控制dependency instance生成的时机，但是不知道生成的具体实例类型，同样松耦合了各个Components\\n\\n再次注意：我个人不喜欢DI Framework，是手动DI，或者用Reader Monad一派的，友军请别乱开枪。\\n\\n看了很多答案，感觉都没提到依赖注入对系统设计的重要性，所以其实我更想说一下依赖倒置原则和系统设计\\n\\n因为依赖注入也可以手动完成，而根本不需要DI framework。所以任何支持subtyping或者first class function的语言都完全可以做dependency injection；甚至在C里也可以用函数指针做DI。\\n\\n问：这世上有一离开“依赖注入”就玩不转的项目吗？\\n我想就这个问题讲一下依赖注入，依赖倒置，和系统设计。\\n\\n依赖注入的一般应用\\n\\n依赖注入可以让让“提供功能类A”和“使用功能类B”解耦合；A注入在B里，那么如果A有subtyping的变换A_x，A_y...时，而整体系统调整(比如新feature，测试环境和prod环境)需要B在不同的场景/时间注入其他具体功能实现类A_x...时； B都不需要改，且系统可以通过不同的配置轻松实现在不同场景的多版本系统。最常见的就是业务类使用Dao类，不要在业务类里new具体Dao类，这样就绑死了关系，而注入Dao类，这样则任何Dao的subtyping，业务类都可以接受。\\n\\n## 依赖注入与依赖倒置DI\\n\\n其实依赖注入最重要的作用之一是实现依赖倒置；（控制反转和依赖倒置不同，最后说）\\n\\n让任何B调A的关系，不都产生B必须绑死依赖于A的效果。\\n\\n当B必须用到A的功能的时候，控制流是从B到A，A不需要知道B(最直观的proof A不需要import B)，而B必须知道A，或者说B直接依赖于A(直观proof就是B需要import A才能用A)，依赖关系箭头从B到A；这样会导致类依赖图甚至包依赖图(如果A和B在不同包)是从B指向(依赖)A。\\n\\n但是如果有一个interface类C在B的包里(甚至自已的一个interface包里)，让A实现C(注意这样A import C依赖于C)，让B使用C的interface(B也依赖C)来间接使用C的implementation A，A的实例通过依赖注入到B里供B使用；这样依赖关系就变成了A依赖C，而如果C在B的包里(为什么C放在B的包里合理请往下看)，依赖关系就变成了A所在的包依赖于B所在的包(注意本来是B包依赖A包)。从而实现了依赖的倒置。\\n\\n\\n依赖倒置原则与系统设计\\n\\n为什么要这么麻烦做依赖倒置？如果你看过我写的这篇关于系统分层的文章：用谁都能看懂的方式来解释系统设计中的分层，那么应该明白一个稳定易拓展的系统应该让底层依赖高层，而不是相反(高层依赖底层)，一个合理的系统，应该由高层按照自己的需求，指定底层应该满足的specification(比如B包是一个高层业务包，那么B里的interface C就是B对于底层的命令式的Specification，然后B里的所有逻辑都应该基于这个specification来写，因为B和B的Specification, 也就是interface C都是在高层抽象讨论问题，所以B和Interface C放在一个高层包里是一种合理设计)，底层应该想方设法来满足这个specification(也就是底层类A需要实现interface C)；而不应该让业务类扭曲自己来迎合底层类的需要(非依赖倒置的情况)；最终实现整个系统的高层底层配合；\\n\\n用DDD的话来说就是，业务决定技术实现， 而不是相反。\\n\\n不使用依赖反转的系统构架，控制流和依赖关系流的依赖箭头是一个方向的，由高层指向底层，也就是高层依赖底层，最明显的特点就是高层包需要import很多底层包里的类，这样的话任何的底层小改动，都可能产生影响高层业务逻辑类的改动的蝴蝶效应；这样的系统耦合严重，维护，模拟，测试，实验和拓展都很困难(想想你一个业务类绑死了数据库类，你怎么做UT？怎么在Continuous Delivery的pipeline里模拟数据库做integration test？怎么能简单的把业务数据写替换成写到SQS里，换成写到S3里，写到Kinesis里？ 或者能同时都写)，可能动不动就要重构和re-architecture；让程序员苦不堪言。而使用依赖倒置，使得底层包服从高层包规定的spec。高层包里不会import任何一个底层类。只要interface设计的好，底层的任何变动，都不会影响高层一行code。**即控制流向和依赖方向是反的**。\\n\\n严重注意：一个系统绝不仅仅只有高层和底层2层，而是可以有很多层，业务类也可以并需要分为多层，同时保证依赖倒置！\\n\\n## 关于控制反转IoC\\n\\n顺便提一下控制反转，比较容易和依赖倒置原则弄混(太早学的这些，我在开始写这个答案的时候也弄混了这些名词。。。)，控制反转是EJB，Spring这种框架平台兴起的时候提起的一个概念。相对于Lib来说，我们总是自己application的逻辑调用Lib的逻辑，控制流由我们的application规定，EJB，Spring是让Framework调用我们的逻辑。在这个控制流的方向上，体现了控制反转。这个原则也称为Hollywood Principle - \\"Don\'t call us, we\'ll call you\\"。\\n\\n其实Template Method这个设计模式也体现了控制反转，父类实现一些框架方法并定义控制流如何走，控制流会按照定义好的顺序调用一些abstract方法，然后留给子类去实现这些abstract方法。JUnit框架就是一个好例子。\\n\\n控制反转是当系统的很多东西都能够模版化的时候，而业务逻辑只是其中的某一步或者几步，那么framework一般需要DI的方式来管理你的领域(业务)类，来inject到自己的控制流里，成为framework规定的控制流的一部分，而你的业务类则不需要关心控制流。可以看出，当控制流可以framework化和模版化的时候，控制反转相当重要（EJB，Spring，JUnit都是例子）。\\n\\nDI Framework\\n\\nDependency Framework, 就是Spring，GoogleGuice，MacWire(一个scala DI framework), 这种通过config file或者annotation等标记来帮助你自动DI的框架，那么到底是手动wire手动DI好，还是用DI framework好呢？\\n\\n要评价这个就不免带个人意见色彩了。。。 我个人不是很喜欢DI framework，因为我喜欢函数风格的程序，**DI对于函数式来说不过是high order function罢了**。我个人更倾向于MacWire的作者的意见, In today’s post-OO world, is dependency injection still relevant? 就是DI以后可能会设计为语言自己的功能，由语言来提供一个隐式“environmental” parameter。\\n\\nJava，Scala里的DI framework有两个好处：\\n\\n可以把wiring各个组件，类的code变成config，这样严格区分了“组件功能逻辑”和“控制组合逻辑”，降低了功能逻辑 泄漏到“控制组合逻辑”的类里的风险(其实这很经常发生，我review code就经常看到新手SDE在组合逻辑里放业务逻辑...) 而使用DI framework，比如Spring配置文件，根本就没办法写逻辑，只能老老实实指定谁怎么实例化和谁跟谁组合，所以避开了这些风险。\\n可以用反射等实例化非public可见，而是包可见，甚至private的类，而手动wire则需要所有需要实例化的类是public可见的。比如我们的例子里底层的功能类A必须是public可见，我们的手动wire所有高层底层组件的逻辑才能够实例化A。使用DI framework使得我们可以把A设为包可见甚至private，这样除了DI的wire logic，没有任何类能够实例化A，保证了A不被滥用。当然，如果你上了java9，你就可以用modular功能指定A只能被wire logic所在的包看到，所以上了java9的项目，在这点上DI framework就毫无优势了。\\n\\n依赖注入，可说是任何程序员必掌握的技巧之一，系统设计入门基础技能之一。而依赖倒置原则作为一条原则，自从被人发现以来，从来都没被颠覆过，可以算得上软件设计艺术的真理之一。\\n\\n最后推荐Clean Architecture这本书。\\n"}'));jctx.push(JSON.parse('{"id": "190431", "tag": "design", "text": "# DI续\\n\\n为什么 AngularJS 抛弃了 DI 而换回 import 了呢? 因为这些用着用着发现 JS 中 require \\"com/bar/foo\\" 和 Java 的 import .Foo 有两个本质的不同: 第一在 JS 里, 你可以在打包工具中把 \\"com/bar/foo\\" resolve 成不同的目标, 第二是 JS 没有 Java 类这种非对象的语法上碰不着的东西, require/import 进来就是实例, 那直接用 require/import 就好了, 本来通过大量代码实现的复杂的依赖注入框架瞬间就变得一无是处了... 等到 Angular 2 抛弃这些糟粕简化回 require/import, 市场早就被后来的框架占领了. 当初使用 DI 的错误决策是因为思维没转变过来: require/import 表达依赖更简单容易理解, 没有了限制的简洁表达, 才更接近本质.\\n\\n\\n为什么 Ruby 实现依赖注入不需要 1 行代码? Martin Fowler 也说过, 依赖注入和所谓的 Service Locator 模式是等价的. 而啥是 \\"Service Locator\\" 模式? 无非就是动态语言的运行时等价于一堆 service instance 的数据库, 然后你取哪个对象不用做编译期类型检查, 你运行时想往里边放什么对象也没有任何障碍, 其实这根本就没有依赖啊摔... 还搞依赖注入就是程序员灭火法: 先把火点着, 再打水灭火...\\n\\n\\n然后既然你用过 Haskell/Scala, 那你该知道, 它们支持 Structural Typing. Structural Typing 也不是什么很新鲜的东西, C 有 Go 也有. 只要两个东西的成员声明都一样, 那就可以搭配上. 这样模块间就解依赖了. \\n\\n解依赖的错误方法是: 先作死搞这么多依赖, 然后再用复杂的依赖注入解决\\n\\n正确方法是: 别作死, 用动态语言的思维去架构, 约定的界面尽量用 Structural Typing 搭配上就好了http://com.bar\\n\\n要倒置并不是依赖被程序员搞反了，而是当系统分为不同层级的时候；必然是控制流是从高层call向低层（比如业务逻辑调用数据库，而不是数据库逻辑调用业务逻辑），这个和使用什么语言无关。如果依赖箭头和控制流方向相同，那么必然造成高层业务紧紧依赖底层实现。 所以必须在构架上达到“依赖倒置”，做到依赖箭头与控制流的反转。\\n"}'));jctx.push(JSON.parse('{"id": "190502", "tag": "think", "text": "# 蒙古帝国\\n\\n成吉思汗传位给窝阔台再传给贵由后，却不能守，被拖雷之子蒙哥抢了帝位，最终传于忽必烈改为元朝。\\n\\n蒙哥、忽必烈、旭烈兀、阿里不哥是拖雷的4个儿子，蒙哥升为汗后，忽必烈为建立军功，38岁始终大理并最终攻克，得以对南宋形成犄角的攻势。由于一路过于险峻，记过一处险径时，46名随从最后只有2名平安，其余都坠落悬崖。而旭烈兀向西进发，打下了巴格达并终结了阿拔斯王朝、顺道进攻阿勒坡、大马士革。就在此是传来了蒙哥的列讯，不得不返程，留下1万名士兵守卫，但这些士兵不久就全军覆没，蒙古的控制终究没能在中东根植。\\n\\n旭烈兀建立伊尔汗国、另有金帐汗国(钦察汗)、察合台汗。忽必烈号称天下共主，但其实不过是名义上的。也有说法把窝阔台汗国也算作其中之一，其规模较小也灭亡最早。"}'));jctx.push(JSON.parse('{"id": "190510", "tag": "book", "text": "# 黎塞留的反面\\n\\n黎塞留这个人今天有点被神化了，神化他的原因我就不说了。我想谈谈黎塞留这个人。\\n\\n黎塞留这个人能够成功一大半功劳应该归路易十三。他和他的国王之间其实是一种非常独特的“君臣相得”的关系。说它特殊就在于黎塞留干的所有的事，都是符合国王利益的。他参加三十年战争也好，对贵族大开杀戒也好，其实都是国王乐见其成的。但是贵族跟国王的关系盘根错节，波旁王朝已经两代了，贵族造反国王镇压，但是除了少数，比如挡了国王道的孔契尼一家，没有谁是国王真的杀掉的。不但不杀国王还会派人跟你谈谈心，你没事造什么反呢？是不是生活上有困难啊？我给你点钱或者给你个官吧！都是自己人下次别闹了啊。这是好不容易爬上王位，而且还有新教徒的黑历史的波旁王朝的一种特殊的“待人以宽”和“收买人心”。\\n\\n所以杀贵族这种事国王想不想干，肯定想！舍不舍得杀么？多半也真舍得杀。但国王不想背锅，那谁合适呢？黎塞留咯！路易十三一看到他杀人就痛心疾首，就说“你怎么这么残忍？”“你还是不是人？”说完国王该吃吃该喝喝。旁观的人恨透了黎塞留，去找国王说我们想干死黎塞留，国王就表示好啊！去吧朕支持你们！然后黎塞留把这些人的头送给国王，国王依然该吃吃该喝喝。\\n\\n比如浪漫派的作家维尼写过一本小说叫《桑马尔斯》，讲的就是这个离开宠臣就活不下去的国王，鼓励他的宠臣桑马尔斯去反对黎塞留，结果黎塞留派人用银盘子把桑马尔斯的头送给路易十三。路易十三看完之后说了一句话“我们的朋友今天看起来是多么苍白啊！”如果你联系到国王和他的红衣主教之间亦敌亦友的关系，这句话就更操蛋了。\\n\\n路易十三很希望有黎塞留这样的人替他干脏活，但黎塞留干的脏活有时候也确实让路易十三接受不了，所以路易十三很愿意看到另一个更有能耐的黎塞留替他把红公爵给干死。可假如大家都玩不过红公爵，那红公爵也不错，脏活终究得有人干。\\n\\n法国近代政治的真正游戏规则，不是政治学，不是料事如神，而是君主的喜怒。路易十三看你胡闹哈哈大笑，你就十足的道德。国王把你一脚踢出去，或者坐在宝座上喊“卫兵”，不管你干了什么你都十足的罪该万死。这是黎塞留和塔列朗这一系列人和他们的欧洲同行尤其是俾斯麦之间的本质区别。俾斯麦面对的是一个已经老了的威廉一世，他背后还有一个议会和一个内阁，普鲁士是一个多少讲点法的地方。所以俾斯麦不用担心推开国王的门就被人十几个国王的小哥们乱刀捅死。\\n\\n但黎塞留每次独身一人去见国王的时候恐怕都会默默的想想吉斯公爵。因为吉斯公爵就是在自己又有钱又有枪还有人民的支持的时候被国王的哥们们捅死的。而且捅吉斯公爵这事跟黎塞留他爸爸就有关系。他爸爸就是亨利三世的宠臣，肯定对这事完全知情。伴君如伴虎这话在法国真不是闹着玩的。\\n\\n所以法国旧制度时期的政治家往往都有近代政治下身上所没有的一种亡命徒的特质。或者说是一种发自内心的男子气概。黎塞留穿着小丑衣服去跳萨拉班德舞这种事，俾斯麦是干不出来的。原因在于俾斯麦不需要这么干。而黎塞留和瘸子塔列朗就需要这么干。\\n\\n国王的宫廷是一个舞台，国王是政治的核心，政治利益的算计和取舍人人都会。换句话说如果俾斯麦这样的政治家出现在路易十三的宫廷里他活不过第一季就得完蛋。因为他会的东西人人都会。但是黎塞留会的俾斯麦不会。黎塞留自己就是亡命徒的儿子，他杀人如麻树敌无数，但为什么他不怕？因为他是替国王办事？错了因为国王明白他在干什么，但是除了国王人人都觉得是他在杀人，而不是他替国王在杀人。\\n\\n所以黎塞留知道自己是不可替代的，但这还不够。黎塞留要在宫廷这个舞台上保持曝光率，必须始终让国王对自己有新鲜感。这是他成功的真正秘诀。他是一个真正的演员，能够让国王时刻得到新鲜感。在黎塞留这个人身上体现的就是16世纪、17世纪宫廷的游戏规则。\\n\\n一个人会办事懂政治是必要的，但光会这些还不够，他还要学会怎么让国王一方面把权力交到自己手里一方面又不用害怕自己会威胁到他。同时还不能让国王对自己感到厌烦，否则总有一天国王会把他一脚踢进巴士底狱，然后给他杀生下的贵族一个大团圆结局。\\n\\n跟这个复杂的工作相比，三十年战争、围攻拉罗歇尔这些都是小儿科。黎塞留其实并不是什么能掐会算的半仙。相反黎塞留这个人身上最突出的就是法国西部地区穷贵族身上的那种亡命徒气息。“不服就干！”有点像今天的“大金链子哥”。从这个意义上说其实亨利四世、黎塞留、瘸子塔列朗都是这样的人，他们都有崇高的出身，有机会有门路，但没什么钱。所以必须干一票，成就成了，不成就算。\\n\\n这是每一个试图坐在办公桌后边去理解黎塞留的人都理解不了的一面。因为黎塞留就不是带套袖的那种人。黎塞留是拿生命玩宫廷的那种人。这也是为什么黎塞留其实已经对我们没有什么借鉴意义了的原因。因为黎塞留的行为的基础是法国和欧洲的绝对君主制。梅特涅那个时代还可以把外交概括为“你们的皇帝，我们的皇帝和咱俩！”四个人就把事给定了，但是今天已经没有任何一个外交大臣敢这么干了，其实连外交大臣也没有几个了。\\n"}'));jctx.push(JSON.parse('{"id": "190708", "tag": "design", "text": "# 感悟项目开发和问题分解\\n\\n最近做完两个网站类项目，流程还是很有必要的。一个功能从产品经理构思，到UE/UI设计交互，到程序员编码，到最后测试反馈是一个完整的闭环，谁先谁后，哪个时间点做什么都有讲究。\\n\\n立项初期，往往是产品经理和系分先讨论大致思路和技术可行性和选型，等思路确定后，就将交互告知UE，UE/UI具象化后提供给开发，开发听完后再给项目经理/系分做反串讲，同时测试要在场，确保实现和测试验收依据不会偏离，整个开发过程由项目经理跟踪进度。\\n\\n一个需求从诞生到验收，大约经历以下步骤\\n\\n1. 产品经理构思，并在纸上给出交互，系分确保技术可行性（所以产品经理通常要会Axure）\\n2. 产品经理把想法告知UE，UE给出更完整的交互作品，并知会UI，确保风格一致\\n3. UE评审交互流程，开发介入并理解需求。后端构思接口，前端确保交互可行性，UI出素材\\n4. 开发反串讲，和测试确保理解一致，技术问题找系分确认\\n5. 开发编码实现自测\\n6. 转测试验证、提单修改或裁决\\n\\n## 问题决策经过\\n\\n讨论两个平台功能，不仅给答案，还给出整个解决思路的做法，看起来简单，但并不是人人都会的，尽管看来很平凡，却需要多年反复实践。比如一个变量名优先级取舍，看起来是策略问题，其后确是程序设计领域有指导性的理论在指引，甚至最后结束，突然想到输出变量的命名空间归属，并不容易想到这件事"}'));jctx.push(JSON.parse('{"id": "190710", "tag": "book", "text": "# 后汉的恒灵少献四帝\\n\\n出师表中恒灵之后，千载之下仍是昏君的代名词。恒帝时的党锢之祸，致士人不得重用而任宦官。恒帝无子，灵帝是外藩入继大统，初继位无权，朝政由扶立之功的窦武把持，加之陈藩，二人欲清除宦官却做事不细致，被宦官所杀，于是灵帝仍重用宦官，甚至呼为父母。灵帝朝更开卖官之先河，吏治败坏。\\n\\n灵帝成年，立何妃为皇后，何进因而掌握朝政。灵帝为分权设立西园八尉节制何进，其中就有袁绍和曹操。灵帝184年黄巾起义，但数月即平定，因此改元中平。黄巾之事为防止党人被拉拢，灵帝重新启用党人，又为提高行政执行速度，在中平5年接受刘焉的建议重置州牧，史称\\"废史立牧\\"。刘焉也因此出任益州牧，随后地方割据就越发不受控制。\\n\\n何皇后之子刘辩即为汉少帝。但灵帝素来不喜刘辩，想立王美人子刘协为帝（此处奇怪在于既然立何氏为后，为何又不喜刘辩？）。汉灵帝驾崩，蹇硕计划在何进入宫时杀之，但在蹇硕司马潘隐的暗示下，何进称病不入。由于没有除掉何进，刘辩被立为少帝，何进辅政。何进欲杀宦官，但何皇后要借助宦官之力，加之何苗不同意，何进犹豫最后反被宦官杀。\\n\\n刘辩在位仅4月余，因宫内争斗被宦官挟持出逃，被董卓迎回，其应对不及刘协，被废。一年后被李儒以毒酒死。\\n"}'));jctx.push(JSON.parse('{"id": "191110", "tag": "book", "text": "# 生命的河流\\n\\n原创： 布尔费墨\\n\\n1、要学会和害怕的感觉共处。因为它是你拒绝，躲避，不肯承认的部分。\\n\\n2、父母并没有死，他们还活在我们的身体里。我们也不会死，孩子们活着，就是我们活着。\\n\\n3、只有把生命活出超越肉身和个体的意义，一个人才能不会恐惧肉身的消亡，个体的消失。\\n\\n提问：布老师，我最近被一件事情深深地困扰。事情是这样的：我的父亲前一阵刚刚去世。从他发病到去世的将近一年中间，我一直照顾他，陪他去大城市求医治病。但是因为这个病比较严重，所以最好的医生也是无力回天。他去世之前非常的痛苦。我也特别的难受，因为我不能为他做什么。他去世以后，我经常做梦，梦见父亲临终前的样子，那一幕一直出现在我的梦里面，让我感觉到恐惧。我害怕自己的生命也会像父亲的一样痛苦地结束。因此最近我的精神一直处于很糟糕的状态。我想请问布老师，我应该如何走出来？\\n\\n回答：\\n\\n恐惧之所以会成为恐惧，是因为你不敢面对。正因为你不敢于面对生命的无常，死亡的苦痛，所以它们才会像魔鬼一样骚扰你，恐吓你。所以你要做的是理解它，面对它，与它共处，观察它，抚摸它，与它交流，对话。只有这样，你才能从恐惧和痛苦中解脱出来。\\n\\n如果你的痛苦来自于脑海中的一个声音，那么你就要用喉咙发出声音，和它对话，也可以和它争吵，大声喊出你的想法。如果是来自脑海中挥之不去的一行字，一个概念，你就要用笔把它写下来。如果来自于一个场景，一个样子，你就要把它画下来。你这样做了，慢慢的，你就会好很多。\\n\\n为什么要这样做呢？因为在对话、叫喊、书写和绘画的过程中，你会与你的感觉长时间的共处。在共处中，你将逐渐学会不去恐惧它，而是习惯它，接受它成为你的一部分。你接受了它，就不再会感觉到恐惧了。\\n\\n要学会和你害怕的感觉共处。因为它是你的一部分，是你一直拒绝，躲避，不肯承认的部分。我经常把一个人的心灵比喻成一个房子。给你恐惧的感觉，就是躲在你房子角落中的一个受伤的小动物。如果你无视它，躲避它，它就会骚扰你，攻击你，以求得你的关注。如果你肯花时间，不怕被它抓，被它咬，坐下来抚摸它，安慰它的情绪，它就会慢慢地不再对你抱有敌意。\\n\\n每一个人都会迟早面对死亡的恐惧。我见到过的，在这一方面做得最从容的人，是我的姥姥。她在生命的最后几年经常说：我的生命没有什么遗憾了，就是结束了也没什么问题。在临终前很久，在健康的时候，她就开始做自己的寿衣。我猜测，通过一针一线地缝制自己的寿衣，与自己对死亡的恐惧长时间的共处，她才会变得如此从容。\\n\\n每一次我在面对世间的险恶，人生的无常的时候，姥姥的这一份从容都在给我力量。有时候我觉得姥姥并没有死，因为她的血还流在我的身上，我活着就是她在活着。我们每一个人的生命都是我们父母，我们祖先生命的延伸。我们的孩子也是我们生命的一部分。我们会死亡，但是我们也不会死亡。我们的生命会通过繁衍的方式一直延续下去。\\n\\n伟大的诗人纪伯伦在他的诗中这样说：Your children are not your children. They are the sons and daughters of Life’s longing for itself.  They come through you but not from you, And though they are with you yet they belong not to you. （你的孩子并不是你的孩子。他们是生命对于自身的追求的产物。他们因你而来，但不是为你而来。他们与你在一起，但并不从属于你。）\\n\\n正如毛毛虫是蝴蝶生命的第一阶段，结茧是蝴蝶生命的第二阶段，羽化成蝶，展翅飞翔是蝴蝶生命的第三阶段。我们的父母，我们和我们的孩子，都是生命在不同的阶段中的不同的表现。生命就像一条河流，父母的生命交融在一起，成为了我们，我们和配偶的生命交融，成为了我们的孩子。我们的生命看上去是独立的个体，但实际上是同一条河流在不同河段的不同样子而已。\\n\\n所以从这种意义上来说，我们的父母逝去了，但他们没有消失，因为我们就是我们的父母，我们替他们生活在世界上。我们有一天也会离开这个世界，我们的孩子们也会替我们生活在世界上。\\n\\n在汉语中，“生”有两个意思，一个是“生存”的生，另一个是“生殖”的生。这样明显不同的两个重要的概念，居然用同一个字代表。可见我们的祖先认为，“生存“和“生殖”实际上是一回事。我们会死亡，但我们也不会死亡。因为我们会用繁衍来打败死亡。\\n\\n每次我看到人对转世再生表示惊奇，我就觉得可笑。我们每个人都是我们所有祖先的转世，我们每个人也都是亿万年古老生命的再生。我们就是父母生命的延伸。所以与其感伤父母的逝去，不如认为父母并没有死，他们还活在我们的身体里。我们活着就是父母活着，我们活得好，就是父母活好了。与其恐惧自己生命的逝去，不如认为我们也不会死，孩子们活着，就是我们活着。\\n\\n不知道你有没有看过Pixar的《寻梦环游记》。那是一个非常感人的电影。这部电影说，其实一个人要死亡两次。第一次死了之后，如果世界上还有人在纪念你，你在第二个世界里就没有死。这个世界上所有的人都遗忘你的时候，你才是真的永远消失了。那么这个世界上有谁会纪念你呢？如果你是个普通人，那么你的孩子将会纪念你。如果你是个改变世界的人，那么所有的人都会纪念你。\\n\\n所以生命其实是可以超越肉身，超越个体的。生命的意义并不是你享受了什么，而是你给别人带来了什么。从这个意义上讲，很多人都是长生不老的，很多人的生命都是永恒的。也只有把生命活出超越肉身，超越个体的意义，一个人才能不会恐惧肉身的消亡，个体的消失。\\n\\n死亡给了一些人恐惧，却给了另一些人有所作为的勇气。多想想生命，多想想死亡，你就不会再恐惧死亡，你也就会更加懂得珍惜生命。正因为我们都会死亡，所以我们要尊重和善待自己的孩子，正如我们尊重和善待自己和父母一样。正因为我们都会死亡，所以我们要做一些事情，让人们在我们永别之后，还在想念我们。正因为我们都会死亡，所以我们的生命要活出超越死亡的意义。这也许就是死亡给我们的价值吧。\\n"}'));jctx.push(JSON.parse('{"id": "191115", "tag": "book", "text": "# 美国农场的破败\\n\\n守夜人总司令\\n\\n结构学：生命体在其生存结构中的求存之道！\\n\\n导读：《关于美国的三篇！》通过结构学的基本原理结合现实去理解一个社会的基础结构和变化趋势。看过大片《中途岛》的人都非常清楚，任何重大的决策都依赖靠谱的情报分析。从蛛丝马迹中看出端倪，从纷繁变化的表现中看清脉络。所有的从容都源于确定性，所有的进退失据都源于不确定的无力感！\\n\\n匮乏和过剩\\n\\n如果从结构学的视角来重新审视交易和生产，会发现单纯的数理模型存在一种粗暴的简化，并不能反应真实的市场状况。市场的核心是人，而人的行为是在自己的生存结构中求得存续！\\n\\n一直以来我们坚信是真实的需求在拉动生产，其实准确的说，应该是交易在拉动生产。有需求和能达成交易是完全两回事：生命体在受到强力约束之前，对资源的需求是无限的——这种资源会以各种各样的形式体现出来，即便只是抽象和未来的资源，生命体也拥有占据的需要！\\n\\n因此，搞清楚是哪些约束造成交易无法达成才是关键所在。如果处于同一是非判断和价值取舍的体系之下，这种共识就能轻易的对资源的分配达成一致。然而，个体之间对自我与外部资源都可能存在截然不同的判断，基于这种判断形成的生存策略会驱使自己采取\\"有利于“自身存续的求存行为。群体之间也会把这种差异性在更大的范围内呈现出来。其实，这种所谓的\\"有利于“的判断依据源于个体的感知或者某个群体形成的共识。关于这种共识的形成及如何产生作用，在《结构学》的《C3：共识的形成》中会详细论述。\\n\\n我记得《共产党宣言》中用充满激情的语调阐述了在大工业时代，传统的手工作坊，行业组织，以及经济上的独立个体必将逐渐消亡。大工业体系拥有的不仅仅是规模优势，而是一个自我强化的循环体系。伴随的规模不断扩展的还有更高的效率和密度更高的组织形式。\\n\\n开过工厂的人都能够理解，有时候你不得不放下良心去追求效率和更低的成本，因为在大工业化生产的市场竞争中，生产成本的持续走低是不可逆转的。市场并非空洞的概念，它是由实实在在的个体组成，人对资源的需求是无限的：最好是无成本获得，退而求其次，也必须要物美价廉！\\n\\n什么样子的需求导向决定了什么样的生产模式。在工业化水平稳定的状况下，开放的市场竞争中，任何低成本、高效率的生产模式必然走向高度集约化。这种集约化和对效率与成本的执着追求，会像漩涡一样把个体都卷入零件化的深渊之中！所谓人性，就是强调尊重自主权和差异性，而理性则要最大限度的消除任何不确定性。在工业化大生产中，保质保量的关键就是标准化，所谓标准化，就是流程中的每一步都是确定的！我们平时说尊重人，潜台词就是尊重差异性，容忍掉链子和犯错，接纳各种不确定。这些东西能够成立其实都依赖高成本，成本不会消失，只会转移。如果无法转移，这些需求自然就无法满足。正常情况下，一日三餐都没有着落的人是不会在乎品位的！\\n\\n一种社会资源的利用方式决定了利用这些资源的个体之间的组织形式，继而决定了这样组织起来的共同体的价值取舍的标准。他们所恐惧和捍卫的东西肯定都是有利于现有的资源利用方式的。因为在这样的资源利用方式和基于其上形成的组织形式中，他们占据着有利的位置。所有的路线之争都是权力之争，所有的权力之争都是利益之争，所以的利益之争都是为了占据更多有利于自身存续所需资源的求存行为！这种资源的争夺不仅仅包括具像的资源，也包括抽象的资源，既包括眼前的资源，也包括未来的资源，甚至包括对资源的定义权！\\n\\n不同的周期\\n\\n古典时代的东方和西方本质上是一样的：都是生命体在那个社会资源的利用能力和社会组织度下的一种求存行为所引发的各种联动状况。爱琴海沿岸破碎的地理环境只能形成山谷中村镇级别的城邦，即便偶尔出现阿依门侬这样的征服者，也无法长期的维系住。因为他们呈现出破碎的状态是由底层逻辑决定的。这个逻辑就是农业文明状态下对资源攫取能力和维系秩序所需要消耗的成本之间的天然矛盾。这种维系成本长期高于攫取成本，即便采取最残酷的压榨也无法长久。西方的文化中总是强调反抗暴政——规模太小，在当时的资源攫取和利用水平下，必须以极度的压榨才能维系。另一方面，统治力量也太小，稍微用力就可以推翻。当某种组织形式能够形成强大的统治力量的时候，突破的难度就会变得非常巨大，求存的策略会引导个体依附其上并攫取更有利于自身存续的资源。权力的核心是组织，组织能形成的层级越多，控制力越强，反之，组织的约束力就无法持续。对于个体而言，保持自己的独立状况的成本很低，而建立并维系住共同体的成本太高，整体比如会长期处于破碎状态，继而进化出一种维持自身的独立性才是神圣和正确的观念！如果中世纪的欧洲的君主知道中国的状况，他们必然无比虔诚的膜拜秦始皇。他们也无比推崇罗马治下的和平。昔日启蒙思想家伏尔泰就用夸张的语调讴歌过幅员辽阔物产丰饶的国土上秩序井然的中国人温馨的生活场景。当然，他更多的是基于遥远的想像。\\n\\n曾经在《结构学》中阐述过：所谓文明就是一个群体在共同的生存结构中的生存策略。无论是心态和思维，还是价值取舍和是非判断，都是这种生存策略的具体表现形式。个体的精神结构及其产生的生存策略如果滞后于社会现实必然造成各种冲突，不仅仅让自己感到无力而且会影响自己的命运。当千万个体都如此的时候，整个社会就会呈现周期性的衰落，甚至敌对、撕裂和暴力纷争。\\n\\n城市是文明出现的代表。工业化的城市中分工协作密度更高，聚集的人群和资源的规模远超农业文明下的社会。因此，做事必须有计划，个体也更需要守规则。今天西方社会所呈现出来的一切更多的源于工业革命之后的雕塑，而并非深植于西方文明的内核之中。\\n\\n工业文明下的时间刻度是精确的，而农业文明下的一切都大而化之。精耕细作的背后恰恰是资源的供应无法满足需求，所以才需要提高资源利用的效率。非洲大陆为什么从来没有进化出任何复杂的社会组织方式？因为他们赖以生存的食物过于丰富，在殖民者到达之前，当地人几乎不需要任何复杂的活动就能随时随地的获取他们生存所需的东西，也就没有改进的动力，一直停留在低层次的粗放式的静态平衡之中。\\n\\n东方和西方处于不同的周期之中，非洲和中东也与我们处于不同的周期之中。许多社会由于自己文化和结构特征的缘故，让自己的社会长期处于某种静态平衡的状况之中。我认为那是休眠的火山，它的力量不取决于它的现状，而取决于能够形成结构力量的因素是否准备妥当。（关于结构力量会在《结构学》的第三部分阐述）美国社会的衰落是顺着下个周期滑落，中国社会的崛起是在爬上个周期的坡。我们没有资格去嘲笑别人，我们研究别人是为了以兹借鉴！\\n\\n农场的衰落\\n\\n我们在《C33：信仰的坍塌！》中东拉西扯的讲述了，美国社会的核心共识正在被稀释，它作为是非判断和价值取舍的最高准则越来越难以渗透到还未被原有的文化体系吸纳和消化的族群的日常生活之中。这样的局面必然造成维持社会秩序的成本持续增高，而且相互对立的价值体系在原点判断上就不兼容，完全缺乏相互理解的可能——这不是从不同的教义中找几句差不多意思的经文就能掩盖过去的。\\n\\n美国社会最开始就是由两拨不同的人群构建而成的：北方的核心主导群体是安格鲁撒克逊白人新教徒。他们追求古罗马共和时代的理念和方式，在原有的社会体系中属于缺乏根基的异端。他们主动迁徙到北美大陆，是北方群体中的精英分子，北方另外一些远渡重洋的人则是旧世界的边缘人群。这样的群体结构形成了两个特征：1. 他们的祖国建立在信仰之上，并不限于某个地方或某个群体，落到现实中，则由教堂、法庭和银行组成——在美国北部的城镇建设过程中最早到达的是传教士和银行家，继而建立起来的是集市。2. 他们带有天然的扩张性，这种扩张性如同传教士和银行家的使命一样，不仅有利而且有理，在其价值体系中是一种天命昭昭的正义和荣耀之举！\\n\\n美国南方的主要群体则源于旧世界国王的封赏。农场和庄园不过是土地贵族对旧世界原有秩序的复制和模仿。从建筑风格、生活习俗和经济结构上，南方都更接近当时的欧洲。对于这个群体言而，秩序是社会生活的核心，土地或者产业是自己的根本。英国的贵族群体来自于征服者威廉的出发基地——法兰西的奥尔良地区。他们的文化基因与被征服的英伦三岛上的群体不同，在很长一段时间内，英国的官方语言是法语，民间语言才是英语。美国南部的农场主群体与中国的士大夫群体虽然形式上不同但本质上更为接近。\\n\\n南北战争的时候，北方的工业体系刚刚起步，需要采取贸易保护政策扶持自己的产业，而南方的棉花和烟草等农产品在国际市场上非常有竞争力，大力推崇没有关税门槛的自由贸易政策。北方的工业化急需大量廉价的劳动力从事车间中简单的重复工作，而南方的种植园经济把大量优质的免费劳动力禁锢在土地上。任何口号都只是鼓动人心和凝聚共识的符号，这种符号能够以极度低廉的成本组织起更大的共同体，以便在生存竞争中获得优势并突破原生存结构中的边界约束。所以，任何社会运动都起源于一场思想营销，兴旺于一个庞氏骗局，结束于秩序重建。\\n\\n在美国的南北战争中华尔街摸索出了一套向个人兜售战争债券的金融体系，它是北方取得胜利的根本。当南方的经济在战争中通货膨胀900%的时候，北方的金融体系每天募集资金已经远远超出了北方在战争的消耗。在那一刻不仅仅决定了战争的胜负，也决定了接下来社会结构的走向！南北战争结束之后，北方胜利者做的第一件事就是重建中央银行性质的机构，为这个趋势推波助澜。\\n\\n第二次工业革命以跨海电报系统和横跨两大洋的铁路网被代表，当时社会的这种高新科技高风险产业就像黑洞一样吞噬着海量的资金。传统的农场积累完全不足以筹集这样的资金量。只有华尔街能够把旧世界在第一次工业革命和殖民扩张中积累的财富吸纳过来为这样的产业进行投资。\\n\\n社会资源的组织方式一旦能够创造大量增量，由此形成的结构力量会加速这个过程——资源的配置和人群的组织，以及覆盖其上的共识都必然发生改变，以便与之契合。我们曾经在《依依东望，望的是时间！》中阐述过统治机器的组成成员必然与社会真正的统治群体相契合的问题。由此类推，可以深度理解上述的表达。\\n\\n美国发生第一次金融危机的时候，只有2%的人口受到影响。那时候的美国农场主（不一定经营农场，也包括经营独立企业）在社会经济结构中处于关键节点的位置。当1929年经济危机爆发之时，美国社会之所以遭受如此深重的波及，是因为其90%的人口已经纳入城市化和工业化的体系并由金融体系连接在一起——再也没有有组织的群体能够阻止它的渗透和影响力。二战让这套体系得到了更加蓬勃的发展，所以战后美元金融体系在全球的确立就变得顺理成章。与之相适应的是它的主流价值观在全世界被顶礼膜拜。美国社会从内而外，像章鱼一样向任何角落渗透，在这个过程中，它不仅仅有利而且有理！美国社会存在相互制衡的两个价值体系和两个群体开始呈现一边倒的趋势，1929年美国社会的经济结构开始在全世界范围内被复制。从此之后，它的任何内部危机都将深度的波及全球！\\n\\n必然的结果\\n\\n生命体的求存行为会将个体联合成更大的共同体。不管这种联合是通过建造的方式搭建起静态稳定结构，还是通过交易构建成动态稳定的结构。总的来说都是为了占据更多的资源提高能量的转化能力，从而缓解终极悖论及其衍生出来的各种影响存续的问题。\\n\\n我们在《结构学》中揭示的这个底层特征决定了事物的发展趋势——我并没有说存在某种线性的唯一发展路径。不管是线性还是螺旋，或者其它什么形式的发展轨迹，总的来说，个体联合成更大的整体是一种趋势——虽然存在瓦解和破碎，但时机成熟的时候又会走向联合成共同体——这是由生命体底层的特征和终极悖论决定的。\\n\\n然而，在这个过程之中，建造和连接是相互交织的。此消彼长，物极必返。从农业时代开始，东西方社会的组织方式最大的差异在于其结构特征：前者自上而下，后者自下而上。大一统如同宗教，将抽象的理念层层深入到现实，所以教义不能被质疑！后者则如同社群，层层向上垒积出更大的共同体，因此分裂会永不停息…\\n\\n任何共识一旦缺乏渗透到底的传导体系，就会像纸糊的窗户一样缺乏约束力。产业的萎靡和转移会让维系秩序的力量缺乏支点，虽然占据的资源总量不变但结构失衡——当延伸到全世界的连接和扩展不足以继续创造增量的时候，这个周期的结网者就会如同上个周期的农场主一样悄无声息的谢幕。如果一定要找一个类比的例子，平台型创业项目上这一点表现的非常直观：如果三公里之内不盈利，规模扩大百倍依然不会盈利，而且会亏损的更多，整体坍塌的更快！\\n\\n川普绝对不是一个人，他的所作所为是为了捍卫一个久远的立国传统。他的行为正在凝聚一个社会共识并挑战南北战争以来，数十年编织而成的社会权力结构和经济结构的密集网络——或许他只是无意识的本能反应，但他和他所代表的群体正在觉醒，他们预感到历史的车轮再一次转向，于是冲上去《向正在坍塌的地方踹上一脚！》。站在对立面的群体不管怎么恐慌的挣扎最终都阻止不了这种周期的切换。这一点不会因为这一次或下一次的选举结果而改变！\\n"}'));jctx.push(JSON.parse('{"id": "191120", "tag": "book", "text": "# 中东乱局中的攻防之策\\n\\n我们经常互相打趣的说：难道你家里有矿呀！如果你家里真的有矿而又没有能力保护好自己的矿，那么，这些矿不仅仅无法成为炫耀的资本，反而会成为危害全家生命的祸根。只有自己能够守得住的东西才是真正属于你的，否则，都只会是过眼云烟！所以，真正的拥有，依赖两种能力：一是获取，二是占据！所以我们在《结构学》的《C1》和《C4》中反复强调：那些能够穿透生命周期的传承才是力量真正的源泉，才是力量循环叠加形成磅礴之势的动力。真正的富有不是红木家具，不是钻石戒指，不是账户上的数字，而是家族庭院里盘根错节又遮天蔽日的古树，是能够传承的家教和荣誉，是多少代人编织而成的社会安全网——那是一种久远的存在和持续的繁荣！\\n\\n内外交困\\n\\n阿萨德的烂摊子\\n\\n老阿萨德出身于一个阿拉维派农民家庭。因为穷上不起学，只能去从军，以求得出路。阿拉维派人数很少，他们的教义和主流的什叶派及逊尼派都不同，属于穆斯林世界中少数中的少数。正因为如此，他们的生存环境很恶劣。这种迫在眉睫的恶劣生存环境，反而让他们拥有更高的组织度和更强的抗争意志。即便是最普通的生活状况也处于一种高度组织并高度隐蔽的状态之中。在早几天发了三次都被删除的文章中摘录过《结构学》中的一段描述：军队作为有组织的力量，首先是组织密度，其次才是暴力。所以，零时拼凑的群体，即便来势汹汹也不足为虑，真正有战斗力的是有着明确的纲领，内部纪律森严，对成员具有强约束力的组织。\\n\\n老阿萨德1970年是武装力量的负责人，利用叙利亚在1967年中东战争的败北丢失了戈兰高地引发的不满政变上位。并有针对性的建立军政学校培训阿拉维派的子弟，并将他们作为统治机器的节点布局到叙利亚社会权力体系之中。阿萨德这个姓氏的意思是狮子，老阿萨德的所作所为确实像狮子一样。铁腕手段，阿拉维派的高密度组织和对社会资源及统治机器的严密控制，再加上70年代的经济发展和石油红利。阿萨德家族在错综复杂的局面中始终掌控大局。\\n\\n任何社会在现代化过程中都矛盾丛生，特别是由传统的农业部落社会转向现代工业社会的时候。不仅仅是经济发展的不平衡，还有群体认知差异所形成的生存策略之间的冲突。如果存在差异的群体之间又缺乏产生新的共同连接或创造增量的可能。那么，这种冲突只会越演越烈，甚至不得不以暴力来裁决。只有死亡才能让这样的冲突消停。任何结构力量都是双刃剑，当年为老阿萨德建立统治的传导体系的群体开始蜕变为腐败的利益集团。经济发展的红利开始消退但人口暴涨，基本需求得不到满足的群体开始在新的求存诉求的驱动之下，重新聚集在新的旗帜下。老阿萨德去世的时候，整个叙利亚社会已经如同一个堵住散气阀的高压锅。\\n\\n乌合之众总是短视和愚昧的，端起碗吃肉咧嘴笑，放下筷子就叉着腰骂娘。他们一旦在现实中遇到困境，就会要求退回到过去，或者怀念根本不存在的抽象美好。如果现在很多人过的不如意就无比的怀念民国时期，经历过的老人从不怀念。因为他们知道你的美好想像都是假的，他的痛苦记忆知道分崩离析流离失所下真实的人生百态。\\n\\n内部失败的改革\\n\\n巴萨尔从来就不曾想过自己要治理一个国家。他追寻自己的志向去英国伦敦做了一名牙医，过自己的小日子。他也从来不曾被当作接班人训练。因为他的哥哥从小就他父亲当作接班人培养。然而，事情就是这么凑巧。在他34岁的时候哥哥车祸身亡。他的生活从此改变了航线，被送入阿拉维派的军校速成学习。叙利亚紧急修改了40岁以下不得参选总统的宪法条例，降低到34岁，为其量身打造接班之路。\\n\\n当一个专业的牙科医生放下手术刀，拿起指挥三军的权杖之时。他阴郁的脸上并没有轻松的表情。因为他父亲留给他的是一个堵住了出气孔的高压锅，随时有砸裂的可能！巴萨尔毕竟一直在英国留学生活，所谓近朱者赤，近墨者黑，他刚上台的做派很西化。将他父亲收紧的东西通通放松，在社会增加没有增加的时候，社会控制力却急剧弱化了！官僚集团作为权力传导体系不仅仅失控而且变本加厉的压榨和搜刮，下放的权力和放松的控制让其无能为力。为什么越是在经济下滑的时候要打击有组织犯罪并严抓组织建设？年轻的巴萨尔被西方的教科书了洗脑，看不清自己和所处社会的生存结构的现实，一厢情愿的依葫芦画瓢，结果事与愿违，社会矛盾不但没有缓解，而且一触即发！\\n\\n风云骤起的中东\\n\\n曾经在一年多之前为一个基金经理的朋友做投资策略分析，写了那篇预测性的文章《向正在坍塌的地方踹上一脚！》这是依据《结构学》基本原理做出的趋势性预测——后面的态势一直在向这个方向走，而且永远回不去了。当官方开始在本土建立互联网根节点的时候，这一趋势更加不可逆转。\\n\\n当山姆大叔开始从全世界收缩的时候，必然要把任何具有潜在力量的地区搞乱，必须要把核心通道截断——不管是海上的通道还是陆上的商贸和能源通道。我们在《结构学》的早期案例中阐述过：社会升级依赖的核心资源包括粮食和能源。一个社会规模越大，能够整合的深度越广，后发性越强，它对这二者的需求量就会越高。这就好比一栋房子，不管你搞多么花哨的设计和装修，地基不稳随时会造成一剑封喉的威胁——这对任何潜在敌人而言都是天大的博弈筹码。\\n\\n在印度、东非、中东、东南亚和东欧平原之几个潜在力量的区域内。山姆大叔都不遗余力的搞事情。这无所谓对错，是一种战略需要。打过战略游戏的人都清楚，在自己家基地升级的时候，必须利用不对称的方式骚扰潜在的竞争对手让其发展不起来。\\n\\n阿拉伯之春和乌克兰的动乱首先是其社会结构自身挤压的问题找不到出口。这就让内部人群发生了分化。人群一旦分化就很容易被认知的差异所形成的立场制造出对立。对立的群体会强化自己的共识并形成自我遮蔽性。这种彼此相互刺激不断自我强化和循环叠加的敌对情绪，会撕裂共同体内部的完整性，摧毁其社会的组织密度。在纷争中落下风的群体会短视的借用外部的势力，从而为外部干预提供了抓手。\\n\\n美国人就是基于对其社会结构进行深入研究之后，以四两拨千斤的方式点燃了中东的燎原之火。瞬间将这些社会的强人基于理性人为建立的现代社会的组织结构烧的片瓦不存，让松散和脆弱的经济和组织基础裸露在外，任其厮杀。\\n\\n不管怎么样，中东都不能被整合起来。这个区域在同一信仰下拥有10亿人口，而且占据工业化所需要的资源和粮食，并占据三大洲的要冲之地。一千多年前在那样低水平的社会经济基础和组织能力之下，它所爆发出来的能量让整个西方都记忆犹新，恐惧不已！现在已经腐朽者，将来可能重放异彩；现在备受青睐者，将来却可能日渐衰朽。\\n\\n多事之秋\\n\\n当大国战略都汇聚于此的时候，不管当事人怎么想，都已经由不得你了——树欲静而风不止。被裹挟着坠落深渊，时刻感到无能为力的不仅仅有生活中的个体，也包括一个社会和它的处境。\\n\\n家里有矿但自己无力守护，这些矿反而会带来杀生之祸。这种事情在殖民时代的非洲经常发生。如果某个村落的地下被西方旅行者发现了某种当地更不利用不了的矿石，那个村落往往会被驱逐或屠杀。他们并没有做错什么，甚至在浑然不觉中厄运就已经悄然降临。\\n\\n口号与目标\\n\\n人类的虚伪之处在于总是以动人的口号掩饰那些求存的基本需求。我们在《觉悟社》的《C3：共识的形成》中详细的论证这一点的形成机制和运作方式。真实的世界是复杂的，但乌合之众无法理解复杂的事物，也无法在面对复杂事物的时候抓住重点。所以渴望简化的世界，遵循简单的规则，喜欢静态的世界。互联网企业这样一句俗语：当你把品位降低一个层级，用户就会增加10倍。因此，一个社会在某个阶段的人群底色决定了什么会大行其道！\\n\\n日不落帝国从来都是战略高手。美国表弟只是继承了大表哥的技巧而已。当年第一次世界大战的时候，英国的情报机构利用两个执着、热情又深入现场的考古学家对当地社会结构准确又细致的洞察，制定了四两拨千斤肢解奥斯曼帝国的绝妙计划。他们不断鼓动阿拉伯部落觉醒追求自由并建立自己的国家，横在亚欧大陆十字路口上的庞然大物奥斯曼帝国从内部土崩瓦解了。经典电影《风中的女王》和《阿拉伯的劳伦斯》以艺术的手法演绎了这个过程。\\n\\n英国大表哥所处的时代以宗教和民族独立为口号，美国小表弟以个人自由为口号，其目标都是一样的：《结构学》中阐述的终极悖论不会消失，生命体的求存行为也不会随时间而变迁，千百年来变化的只是覆盖其上的伪装和旗帜。无论是社会还是个体，必须创造增量才会获得更多的自由。否则，则不得不为了自身的存续在存量中厮杀——无论用暴力还是诡计。\\n\\n战略性掩护\\n\\n一个人如果曾经登上过巅峰，即便遭受再强烈的打击和挫败，无论是自己还是外人都会心存王者归来的信心。如果一个人从未赢过，即便临时获得无论是自己还是别人都会心存疑虑。\\n\\n虽然俄罗斯的经济总量不及广东省，但它依然是昔日红色帝国的主体。红色帝国展示出来的力量留在记忆深处的痕迹在人心中树立了一杆大旗，一旦时机成熟，往往具有不可估量的感召力。昔日元朝灭亡之后，只要黄金家族存在一个男丁就具有聚拢草原上的所有部众去恢复祖先荣光的号召力。昔日的哈里发曾经统治过广袤的国土，所以，当ISIS起来的时候，一时风头无量，在许多穆斯林的心中激荡起恢复昔日荣光的憧憬，正是这种曾经赢过的想像，在全世界的发范围内吸引着穆斯林群体为其提供兵源和财力。\\n\\n普罗大众的视野和关注的东西与决策者的视野不在同一个维度。关注的重点自然也不一样。中国在东亚具有号召力，但它从未作为一个世界性的帝国展示过力量。这是我们的文化和生活方式决定的，农耕文明下的帝国重在建立秩序，追求长治久安和文明教化，对不能农耕的荒蛮之地缺乏征服和治理的兴趣。因为在古典的农耕时代，土地是最重要的资源。土地改造的成本决定了它的价值和对那个区域及其上人群的态度。总而言之，在西方的战略思维中，俄罗斯和中东的潜在威胁性和创造这种威胁的号召力是远大于人畜无害的东亚文明的。\\n\\n无论是中东被整合还是前苏联区域被重新激活，在这个区域的人群既拥有展示过世界性力量的集体记忆，地下也拥有丰富的资源，其文化中推崇强者和扩张的基因，也极容易鼓励他们采取对外威胁的行为。从易北河以东直到达达尼亚海峡，在到乌拉尔山以西的广袤平原区域，无论在哪方面都缺乏制约以斯拉夫文明和东正教为载体的俄罗斯的势力渗透。不管今天的状况如何，这种结构性的威胁性一直存在。所以西方需要土耳其，土耳其是其唯一能够抗衡的力量——这种力量不是因为土耳其会听话，而是因为土耳其代表了另外一个同样具有威胁的潜在力量。生活中你如何四两拨千斤的鼓舞一个人？让你想要他做的成为他自己就想做的！\\n\\n中东地区存在沙特、伊拉克、伊朗、土耳其、埃及、叙利亚具有整合十亿穆斯林的潜在力量。不管是谁来整合，只要能在工业时代整合这个地区及生活其上的十亿穆斯林，就会恢复人心之中昔日阿拉伯帝国席卷四方的记忆。因此，这几个国家任何一个冒尖都必须搞乱和敲碎，特别是在美国战略收缩的时候。\\n\\n你来我往\\n\\n人的求存行为会造成人群的分化，人群的分化必然形成冲突，在冲突中为了胜出，个体基于共同的处境和立场形成某种共识——以群体的意识替代个体的意识，相互支撑又相互制约，凝聚成共同体。共同体的形成会强化内部的约束力并加剧对外的冲突。\\n\\n这种生存竞争的博弈需要不断的创造筹码。经过普京的一系列内部操作，俄罗斯政府重新掌握了对国家经济命脉的关键资源的控制。详情见《你误解了普京！》。俄罗斯的影响力开始逐步向昔日的独联体渗透。这个两件事情先后发生：美国联合沙特打压国际石油价格，同时，乌克兰街头发生暴乱。乌克兰四两拨千斤的混乱为阻止因油价上涨回血的俄罗斯势力的渗透提供了抓手。俄罗斯被踢出G8并遭受整个西方的制裁。明面上冠冕堂皇的制裁和暗地里打压油价让俄罗斯陷入财政危机，继而引发其社会动乱是相互交织的绞杀链条。在这个回合中某个神秘力量突然为毛熊输血，不仅仅故意高价购买毛熊的石油，还乘机修建了东北放向的油气大动脉，乘机建立自己的战备石油储备系统。另外，国际油价的暴跌让某个对石油需求日益巨大的神秘力量获得了大量低价从沙特进口石油的机会，那些来不及运回来的石油设置以油轮的方式储存在海上。由此让那位中东事务的边缘人开始也有了指手划脚的资格——毕竟那条路要经过中东地区。\\n\\n俄罗斯在乌克兰的变局中变被动为主动，不仅强力收回克里米亚，而且肢解了东乌克兰的俄语地区。虽然遭受制裁，但也获得某位暖心人的鼎力输血。这一局并没有输。紧接着一股神秘的恐怖分子突然冒出来，瞬间席卷了破碎的伊拉克和俄罗斯在中东的支点同样陷入内乱的叙利亚。更巧的是，ISIS崛起的地方正是幼发拉底河谷的石油和粮食产区，而且是库尔德人聚集区！\\n\\n俄罗斯不能失去叙利亚，否则它不仅仅对土耳其缺乏制衡的支点，而且它的海空势力必然全部退出东地中海沿岸的中东腹地。它的战略空间不得不压缩到乌克兰边境。如此一来，伊朗会直接面对已经面对西面的渗透。因此，俄罗斯和伊朗不约而同的去保护叙利亚。在这样的乱局之下，叙利亚不得不将自己唯一的大港口塔尔图斯港50年的管理权限抵押给俄罗斯。俄罗斯和伊朗的前进策略恰恰是为了创造博弈的筹码。战是为了和，但你没有筹码就和不了！\\n\\n美国人理性评估了俄罗斯的艰难处境，因此，低估了俄罗斯强力干预的决心，更没有意料到伊朗会如此积极，更要命的是他们还形成铁三角了！俄罗斯非常清楚如果没有沙特的配合，单凭借美国的石油储备是无法直接把国际油价一直压低到50美元的低价。压低到这种价格的目的非常明显，那就是让俄罗斯的财政破产！这一招比战场上的刀枪更狠毒，大炮一响，黄金万两。打战打的是钱粮！所以，俄罗斯扶持了胡塞武装从背后袭击沙特。这一招很有用，逼迫沙特国王访问俄罗斯，让国际油价逐渐回升。\\n\\n攻防之道你来我往，这才是棋局的精妙之处。如果说ISIS只不过是前菜，那么鼓动库尔德人建国则是主菜上场。库尔德人有4800万，是中东第二大民族，占据两河流域的粮食和石油产区。横跨周边四个国家：叙利亚，伊拉克，伊朗和土耳其。其中土耳其境内人口最多，占据总人口20%！只要在叙利亚点燃这把火，土耳其就不得不介入，因为这个后遗症是它承受不起的。沿着扎格罗斯山脉，被武装的库尔德人可以在周边几个国家任何穿梭、藏匿和渗透。所以，土耳其才需要沿着叙利亚的边境向内推进30公里，搞出一个自己控制下的隔离地带。美国人只需要以少量的兵力占据粮食产区和油田，继而以四两拨千斤的方式鼓动，这种点燃库尔德见国之火的威胁就一直存在。原子弹的真正威胁是在发射架上，而不是投出去之后。由此创造出新的博弈筹码！\\n\\n在封锁和代理人战争的双层绞杀下，无论是俄罗斯还是伊朗国内的经济形势已经岌岌可危。俄罗斯这两年的经济增长是负数。伊朗的经济问题必然被民众所感知，而民众为了自己的存续必然采取短视的行为。这正是遍地的干材，如果再投入一些引火之人，往往能达到四两拨千斤的效果，继而让那个社会陷入恶性循环。伊朗和俄罗斯内部都能够很好的控制和恢复秩序，但是，叙利亚将后继乏力，俄伊都不得不逐渐减少投入。就在这个时候以色列进来搅局。在上一轮博弈中，美国人看似毫无作为，现在却在好发无伤的情况下，王者归来，重新占据主导。某位大善人也在关键时刻在为俄罗斯搞大型基建项目拉台经济，同时也提供投资和其它输血服务。下一局会在哪个地方出拳呢？！\\n\\n美国人不会冒然引爆库尔德人建国这颗核弹。它会坚持的是四两拨千斤的骚扰，利用地区和其社会的结构性失衡持续制造混乱。只有俄土保持战略冲突才符合其战略诉求。引爆库尔德人建国这颗核弹会把土耳其逼的跟俄罗斯一起。诚如《A97：埃尔多安错了吗？！》中阐述的一样，土耳其别无选择，他也必然会得到俄罗斯默许自己在叙利亚开拓的安全区。\\n\\n当年平定西北叛乱的时候，最重要的职位不是征西大将军，而是陕甘总督。因为他负责供应征西大军的兵马钱粮。没有了粮草，不管怎么打最后都会兵败。所以，无论是东方还是中东都会快速恢复内部秩序。并接到某位大善人的大额订单和各种合作项目，大善人也会增加能源的进口和储备并顺势推进人民币结算体系。除此之外，胡塞武装可能恰好袭击沙特的油田，或者国际主要航道上发生些什么意外冲突，造成供应紧张，人为去制造行情。我们可以拭目以待！\\n"}'));jctx.push(JSON.parse('{"id": "191205", "tag": "book", "text": "# 孙中山的秘辛\\n\\n越了解孙中山越发觉得他的可怕之处。\\n\\n1.孙中山出身很差，他父亲是村里的佃户长工，黄兴宋教仁都是中小地主出身，毛是富农，而孙中山说八辈贫农都不为过，但是呢，他有个好哥哥孙眉，孙眉很早就出国打工，其实就是做“猪仔”，先做码头工人，后来攒点积蓄开小杂货铺，再开连锁，最后经营农场，十年奋斗成为檀香山数一数二的富商，简直励志楷模，而后把孙中山接到外国读书——也就是说，孙中山童年在困苦中度过，少年后陡然而富，所以说什么武昌起义时孙中山正在美国饭店刷盘子啥的和扯淡一样。\\n\\n2.青年孙中山曾上书李鸿章，这个大家都知道，问题是，不是哪个阿猫阿狗就能把信递到权势显赫的北洋大臣手上！孙中山走的是郑观应的通道，没错，就是那位“早期维新派”“改良主义先驱”，而郑观应是轮船招商局帮办，当时“国企”前五，李鸿章的亲信——孙中山路子太野了。\\n\\n3.辛亥革命时，清朝海军一支去武昌平叛，结果被革命军策反，而另一支舰队则在程璧光率领下正在巡洋访问，而这个程璧光曾被孙中山拉拢加入了兴中会。——你们清廷用人不政审么！！更可怕的是孙中山怎么就搭上了程璧光。\\n\\n4.世传孙中山是洪门（三合会）红棍，这太低估孙中山了，三合会、洪门仅局限于广东与广东人密集的海外华侨界，而孙中山在1899年被推举为兴汉会会长，而这个兴汉会是兴中会、广东三合会、两湖哥老会的联合，这时孙中山的地位已经凌驾洪门三合会之上了，啥？司徒美堂？三合会？洪门？龙头大哥？人家两湖哥老会认么？！\\n\\n5.由4我们可以发现另一个大问题，就是此时的兴中会会长是杨衢云，并不是孙中山，而孙中山却成了兴汉会（兴中会、三合会、哥老会）的会长！权力倒挂了，果然，不到一年，杨衢云被迫卸任，孙中山当上兴中会会长。\\n\\n6.1905年7月在宫崎滔天的引荐下，华兴会会长黄兴与孙中山见面，8月华兴会就和兴中会合并组建同盟会了，并推举孙中山为领袖——是不是太草率了？\\n\\n由4、5、6三点共同引发了一个疑问，孙中山是如何成为革命党的核心的？\\n\\n孙中山早年与朋友在檀香山成立兴中会，后来到了香港，与当地革命早期组织辅仁文社接触，合并成为兴中会，辅仁文社的社长杨衢云由于资历高于孙中山，被推举为社长，孙中山为其秘书。\\n\\n1898年戊戌政变，两湖领袖谭嗣同死难，其手下唐才常、毕永年等人流亡海外，激愤于谭嗣同之死，欲采取暴力手段推翻清廷，而一直与他们接洽的便是孙中山，不久在哥老会头领毕永年的带领下，两湖流亡人士大批加入兴中会，冲击了兴中会原有的人员组成比例，而他们更倾向于拥立孙中山，毕竟关系熟。——这就像梁山上原来晁盖是老大，七个头领是他铁杆，位子坐的很稳，一天宋江上山，带着20个头领，大堂上一排座次，晁盖反而成了少数派。——于是孙中山在毕永年两湖派的支持下开始了夺权，毕永年策动哥老会，郑士良策动三合会，公推孙中山为兴汉会会长，以此逼杨衢云下台。\\n\\n这也是黄兴华兴会在短暂接触孙中山后就与其合并、推其领袖的原因，因为华兴会与两湖哥老会渊源很深，早期起义主要依靠的便是哥老会马福益，且黄兴、周震麟等人早年就是谭嗣同、唐才常、毕永年的跟班。黄兴与孙中山见面谈了一晚，估计发现两人认识的是一拨人……\\n\\n这也解释了为何日后两湖系革命党在孙中山生前的同盟会、国民党、中国国民党之中地位崇高、与广东系革命党极为密切。而这段历史在老蒋当政后被极力抹杀，杨衢云、毕永年等关键人物在蒋记国民党的党史叙事中遭到掩埋，并非在意孙中山的独尊地位哪来的，而是顾忌曾经在国民党内占据核心位置的广东系、两湖系后来怎么就没了！取代他们的竟然是被老蒋鼓吹的所谓“国民党四大元老”的江浙系。\\n\\n7.袁世凯成就了孙中山，宋教仁遇刺后，孙中山力主立即起义，黄兴主张暂缓起义，先通过法律渠道解决，结果这期间林述庆又遇害，袁世凯也取得《善后大借款》，大肆扩军，并主动攻击，于是乎二次革命惨败；一战期间，只有孙中山中华革命党还在积极反袁，章士钊程潜等人组织欧事研究会，认为中国应暂时团结于袁世凯手里、共对列强，理想很好，结果袁世凯称帝了、遭到群嘲了、土崩瓦解了，这时欧事研究会才姗姗来迟、开始反袁——这两件事使得孙中山名望空前提高，占尽先机，站队是杂技，预判才是门艺术。\\n\\n8.记得上文那个程璧光么？护法战争时，他率领民国海军随孙中山南下，反对段祺瑞政府，组建护法军政府，孙中山得以带兵入股于陆荣廷军政府，并从陆荣廷手里骗来了20营军队，组建了粤军，不久以这支军队占领闽南，两年后又用这支军队反手灭了陆荣廷，鸠占鹊巢。——不要给孙中山一丝机会，这人抓住一丁点机会都会大肆扩张。\\n\\n9.陈炯明叛变后，孙中山开始与苏俄正式合作，苏俄最初的设想是撮合吴佩孚与孙中山，但是遭到孙中山严词拒绝，本着“远交近攻”“离强合弱”的原则，孙中山组建粤奉皖反直同盟，和张作霖南北夹击直系，第二次直奉战争，吴佩孚败逃，北京政府出现权力真空，孙中山北上进京，可惜天不遂人，病逝北京，段祺瑞走了狗屎运，又一次上台。如果孙中山不死，段祺瑞已然明日黄花，张作霖威信不足，冯玉祥资历太小，那么孙中山极有可能成为民国总统，就差一步，哎。\\n\\n孙中山本着百折不挠的决心屡败屡战，一败乙未二败惠州三败黄冈四败七女湖五败防城六败镇南关七败钦廉八败河口九败广州十败黄花岗，其领导的资产阶级革命党越来越走向成熟，最后终于完成推翻清朝的伟大任务，说他是XXX以前中国最伟大的革命领袖并不为过。\\n\\n伦敦蒙难只是成名，但是没有组织基础也是没用，比如苏报案，对中国影响比伦敦蒙难要大得多，但是也没使章炳麟取代孙中山（比较有意思的是，事后章炳麟大谈苏报案的苦难，邹容死的惨烈，而后宋教仁去调查，回来说邹容是病死的，不是拷打而死的，怼得章炳麟说不出话来）\\n\\n两湖系被老蒋排挤没了，遭到边缘化。所以解放军打到湖南湖北，直接就起义了，张难先程潜章士钊唐生智周震麟等等。\\n\\n我想补充一下：\\n1、孙眉是个经商人才“茂宜王”，夸张地说就是短短几年从奴隶到土豪，后为弟弟革命倾尽家财。\\n2、孙文经杨衢云启迪之前仍秉承封建皇汉心态。\\n3、孙文在北美踌躇徘徊亦曾多次气馁，北美洪门致公堂主黄三德（洪门大佬）以及华侨们多次资助和激励孙文。\\n4、当然不要把全部华侨和孙文都想得大义凛然，孙文为了筹资曾向广大华侨发行巨额的“革命债券”，许诺革命成功后偿还。\\n但革命成功后，孙文若无其事，黄三德等人多次找孙文、上京讨债失败，此事严重激怒洪门及华侨群体。\\n5、孙文成立独尊党魁的中华革命党，曾想吞并洪门，不允许洪门立党的提议，致使洪门（致公堂）后期倒向其他政治人物。\\n6、洪门也曾被保皇派蒙蔽，后因黄三德等人赞赏孙文而改为全力支持革命党，革命党在海外筹资、演讲时，帮派人士提前清场（带棍殴驱保皇派）。\\n7、程璧光后被孙文谋害。\\n\\n1孙眉谈不上倾尽财力，帮助是有，但是毁家纾难还是太夸张。\\n\\n2孙文暗杀程璧光挺扯的，主要是唐德刚找的“证据”，在唐德刚塑造下，孙中山暗杀了宋教仁、程璧光、邓仲元，就差是孙中山用枕头闷死了黄兴了，在当时政局下，程璧光是唯一能稳住海军的人，也是孙中山较为靠谱的盟友，虽然互相言语激烈，但还没到刀兵相见的程度，另外，如果孙中山真有这么吊的暗杀队，那么在陈炯明反对自己北伐时怎么不做掉陈？还等他发动政变？怎么不做掉叶举，还等他兵变？\\n\\n是中国第一个正二八经的“工业党”，他那“知名”的实业计划是中国第一个全面的工业化蓝图，当然，在我们今天看来，这部蓝图充满了不切实际的文人空想（先总理自己也说二十万英里铁路计划不过是“图上作业”而已），但在那个时代，其实谁也不知道那些是空想，那些是可行的，那怕是詹天佑这样政治观点对立的工程师都对该次非常推崇。\\n\\n而且先总理也是中国比较早提出用工农业剪刀差解决土地问题的人，可见他对资本主义工业的系统性理解还是比较充分的\\n"}'));jctx.push(JSON.parse('{"id": "191210", "tag": "book", "text": "# 三国故事\\n\\n## 前三国\\n\\n18路诸侯讨董卓，很多已经位高权重所以不愿出力，但是孙坚的官阶较低，所以他必须要勇猛。当孙坚获得一定成就，袁术表其为牧，如果是由汉帝直接授予，应该是封其为牧。所以表和封在官阶的来源上有很大的差异\\n\\n西园八校尉,上军校尉(以下省去校尉)蹇硕,中军袁绍,下军鲍鸿(绍部将),典军曹操.另有助军右(冯芳),左(赵融),佐军右(淳于琼),左(夏牟)4 人.\\n袁绍官渡失败的原因也许不是他的好谋无断.有很多解释,比如河北冀州势力内部纷争不平,因为袁绍是河南人,他在反董之后,所有的亲族都被清洗,所以他虽然继承了袁家的威望,但是也只有少数的河南派部曲被他带到了冀州(郭图审配),但河北势力(田丰沮授)跟着袁绍10年并没有获得很大的利益,所以在官渡之战时双方呈现出了非常强烈的拉锯,上下无法拧成一股绳.相反,曹操几乎都是他自己的亲族,所以上下一心虽然他也收编了百万的青州军,但是曹操在山东为官时曾造福过百姓,所以青州军在情感上会亲近曹操一些.\\n\\n于禁和典韦属于早期投曹操,典韦武力出众受重用,于禁战力不高,没有冒头,但于禁治军甚严,在青州军造反时铁腕治军,青州军是嫡系,于禁此举是风险与收益并存,出于千金买骨的意图,于禁封侯并擢升进入高层\\n\\n孙策被刺客暗杀以后正在静养,这个时候他又遇到了于吉在游街,孙策就把于吉抓了起来,当着众人的面要杀于吉,于吉害怕地下跪了,孙策说了一句,你们看,你们的神仙也会下跪,然后孙策就把于吉杀死了.小的时候看这段话只觉得孙策好杀.最近看了解读才理解,孙策想要告诉大家的是,江东的发展是他打下来的,不是于吉这种靠妖言惑众.当然于吉背后可能有当地士旅支持,借以占据舆论高地.孙策杀于吉,给孙家后面的发展扫清了障碍,他只是输了,不是错了\\n\\n## 后三国\\n\\n曹真本姓秦，被曹操收养后改名。曹丕任其为镇西将军，重新打通丝绸之路恢复贸易。与诸葛亮前三次北伐对磊，后病故。司马懿才得以登上台\\n\\n姜维作为魏国的叛将，能够在举国不支持的情况下九犯中原，背后很有可能是刘禅的支持。甚至费袆的死，可能都有刘禅在背后授意。扶持壮大姜维的北伐派，证明自己的合法性，从这个角度讲，刘禅即便算不上贤，但是或许可以称得上明\\n\\n## 昭烈帝\\n\\n刘备24岁平定黄巾之乱，任安喜县尉，鞭打督邮后在高唐县为县令5年，开启了他人生中第一段青徐之旅。\\n\\n刘备开始驻新野为刘表北拒曹操，后可能因孙权斩黄祖并夺得江夏，南下屯樊城，由此关羽训练出水军并在日后发挥重大作用。刘备借荆州，借的是江陵。襄阳一直在曹操掌控，有了江陵，南四郡以及往西到夷陵的路才通。而关羽绝北道，绝的正是襄阳到江陵的路，否则以江陵城坚，不可能一年就打得曹仁退军。\\n\\n## 吕思勉的《三国历史》\\n\\n春秋时期，只有国的概念。兼并发展到战国，小国被吞后以县名之，而边防处为屯重兵防备，升格为郡但非常例。秦统一后防止旧国起义，布重兵在全国，郡县才成为制度。所以郡的来源实是为镇压而不是治理。\\n\\n汉承袭郡县淡化了郡镇压的作用，为防止郡的最高长官太守权力不受制约，每郡派一御史行监察之职。到汉朝改由丞相分派，御史变为刺史。一个刺史监督若干郡，起初只是职责上的划分，不是行政地域，所以并不带州名而称之为部。到灵帝时，因刘焉的提议，置若干重要州的最高长官为州牧，实际刺史做几年往往升为州牧，成为最高行政长官(西汉曾短暂实行，旋又废弃)。\\n\\n诸葛亮死后季汉的29年，蒋琬12年费袆7年姜维10年。屯田沓中在甘肃临潭县，甚至在阴平道(甘肃文县)以西。钟会进兵汉中，先破阳安关(现陕西勉县和宁强县交界，吕书中用旧名沔县宁羌县，推测成于1940年)。姜维退兵到剑阁昭化一带，而邓艾追到阴平道，下平武县经江油绵阳偷袭成都。\\n"}'));jctx.push(JSON.parse('{"id": "200210", "tag": "book", "text": "# 罢湖广总督为天子立威！\\n\\n已经在《C1：他们到底怕什么》和《梳理流程也没用》这两篇《结构学》的应用文章中阐述过统治结构的特征及其天然缺陷。这些特征决定了置身其中的人求存时的策略和行为，也是很多行事方式的底层逻辑。既然是结构特征和底层逻辑，无论组织的规模大小都能适应，甚至能从你自己的处境中看到那条起决定作用的隐蔽轨迹…\\n\\n如果缺乏强力执行机构，任何法院的裁决都是一纸空文，法律的尊严也就淡然无存。法律的尊严是依靠教育在公民脑中所确立的自我约束观念和能够给违规者带来死亡的公共暴力来支撑的。无论是前者的内在约束还是后者的外力制约都依赖成本的维系。为什么要收税？因为维系秩序需要成本！\\n\\n管理的核心是确立规则和维护规则。适当的时候需要提前洞察需求，主动改变规则。总而言之，管理是围绕规则展开的。没有规则不成方圆，有章可循才能井然有序。《C1：他们到底怕什么》中呈现了另外一幅画卷：置身其中的人无法信任明面上的规则，只能根据形势的发展做判断并采取行动，然而，人心的动向飘忽不定——时来上下皆同力，运去英雄不自由。因此，才需要与穷者言富，与富者言贵，与贵者言高，与高者言势——置身高位者往往是极度脆弱的，必须审时度势才能守住拥有的一切，因为大势一去，万事皆休！\\n\\n我在经营企业时有一次强行推行自己的主张，结果在会上遭到所有干部的反对。当时我一意孤行的对大家说：就算我现在说服不了你们，请问我有没有这个权力要求这么做？他们恨恨的咬着牙说，你有这个权力，但我们保留意见！只有专门为屌丝写的小说中才会渲染乾纲独断的霸气，在现实生活中，这是非常危险的行为，不到万不得已切不可用之。\\n\\n因为，不管是决策正确，还是结果不如预期，都已经把其它所有人推到了自己的对立面，并给了他们一个共识，让他们凝聚成了一个整体。崇祯皇帝与整个文官集团直接对抗所造成的结果是有目共睹的。正是他们组成了决策能够落地的传导体系。你虽然可以通过置换传导体系中的节点来达到控制组织的目的。然而，忠诚和效率不可兼得！在现实中，你既需要忠诚也需要效率，何况二者本来就相辅相成。如果自己与之对立起来，不但二者不可兼得，而且会二者皆不可得！\\n\\n置换一个底层螺丝钉只需要一道命令，因为底层螺丝耦合太浅，无足轻重。然而，裁撤一个高层节点就必须小心谨慎。能够走到高位者，是业已赢得信任之人，我们在《A128：匹配和信任！》中阐述过：信任的本质是一种能够互相伤害的暴力平衡。一旦处理不好，不但会引发反噬，而且可能引起兔死狐悲的连锁反应。它所造成的结果既动摇其它节点的忠诚，也降低整个传导体系的效率。所以，任何高级节点的置换都必须先造足舆论，凝聚共识，树立一种大众公敌的形象，继而做足铺垫，与其它关键节点协同好立场，最后水到渠成之时才顺势拿下，以抚慰众人之心并凸显仲裁者的圣明和果决。\\n\\n财权、人事权、否决权 \\n\\n任何组织的总部和分部之间都存在一种控制和反控制的天然矛盾：即便是一个高端文明向一个地区派出殖民者，一旦他们站稳了脚跟并以母体为模板完成自我复制之后。它就会呈现出同样的生命体特征，并开始作为独立的生命体与母体争夺生存资源，甚至爆发敌对和冲突。美国的建国史就是这样一种生命体觉醒的过程。任何公司的分部一旦能够自我存活，就会试图快速扩展，其离心力也必然越来越强！\\n\\n因此，不管东方还是西方，无论过去还是现在。组织既通过自我复制实现扩展又通过内部控制来维系秩序。不管制度如何变革，都是在二者之中寻求一个动态的平衡。曾在《B9：总部如何管控分支》中阐述过：总而言之，总部必须控制三个关键要素：财权、人事权和否决权！\\n\\n生命体的存续依赖资源，资源的形式多种多样，却能够以统一的抽象符号来标记，这个符号就是钱。没有钱自然也做不了事，所以，首先需要控制的就是财权——财权同时包括攫取和分配。\\n\\n即便有了钱，要做事必须建立一个组织，一个能如臂指使的组织不是把人放在一起就能发挥作用，而是要建立一套有序的分工协作体系。其决定作用的是组成骨架的核心节点。千军易得，一将难求。这里的“将”就是能起到节点作用的人。正是这些人构建起一套能将决策作用于现实同时从现实中获取反馈的传导体系。组织中的资源都是围绕这些核心节点运行起来。因此，掌握对这些节点的选拔、考核、任命和否决之权，就能牢牢控制这些节点，兼顾效率与忠诚。\\n\\n虽然有了钱，也有了人，还建立起了组织，但是，做事的关键，首先是决定做什么，然后才是怎么做。资金和组织都是为怎么做好一件事而准备的，但确立正确的目标，决定做什么，不做什么，并不取决于此。皇帝不必明白做事的细节，但是他拥有决定做什么和不做什么的最终决定权。于是，他就扮演了大脑的角色，而百官组成的官僚体系扮演的是躯干和四肢的角色。\\n\\n地方自治\\n\\n一直以来人们总是会误解一些基本概念。比如，中央集权跟独裁毫无关系，它其实阐述的是总部与分部的权力分配关系。中央集权对应的是地方自治。独裁对应的是民主，它所强调的是决策的形成机制：最后的仲裁是一个人说了算，还是一群人举手表决。不管怎么样都要有个结果，任何问题有了最终的结果才能到此为止。所以，不管以哪种形式组织起来的社会，都必须面对这些核心问题：一，总部与分部的权力怎么分？二，最终的决策以什么方式产生？\\n\\n西方社会的权力组织方式，总体来说是自下而上：每一个行政区域都自己管理辖区内的事务，无需对辖区外的任何机构负责，只对自己辖区内的民众负责，同时，也只能利用辖区内的资源来解决自己的问题。从某种意义上来说，今天美国各级行政区域的权力组织方式与昔日中世纪遍布欧洲的大大小小的独立领地有着异曲同工之妙。存在差异的是形成最终决策的方式——昔日欧洲各领地由唯一的领主做出决策，今天由议会的代表举手表决。这样的一种社会组织方式，依托的理论基础存在一个天然的缺陷——它会将内部的利益冲突转化为不断分裂出更小的自治单位，从而导致不断的走向碎裂。既然英国因为自己的利益就可以脱离欧盟，那么苏格兰也同样可以为了守护自己的利益而脱离英国。为了堵住这个先天性的漏洞，美国的建国之父们做了一些修补性的尝试。\\n\\n其中最具代表性的就是汉密尔顿和杰弗逊之争。汉密尔顿主张建立全国性的中央银行体系，发展工商业，建立全国性质的公共基础设施。主张大政府，扩大联邦政府的权力，压缩各州的自治权。他远在美国的建国之初就预见美国社会的未来是以工商业为核心。与之针锋相对的是农场主出身的杰弗逊。他认为美国将长期处于农业社会，农业和庄园才是社会的基石，农场主的自主和教养是这个社会的公共品德的代表。因此，他主张鼓励欧洲移民开垦更多土地，建立更多庄园，建立悠闲又富足的乡绅社会的模型。主张小政府和地方自治。这二者争执的出发点是关于美国社会未来的产业基础和社会结构，并由此引申出社会的权力分配方式，以及这种模型下的核心群体的品格特征。\\n\\n缺乏顶层调度的自治状态在承平之时尚且能够勉力维持。一旦事有缓急，维系秩序的成本超过本区域所能承受的范围之外的时候，各自为政的状况就会变得效率低下而且无能为力。事实证明，汉密尔顿是富有远见的。美国人越来越强化联邦的权力，建立中央银行性质的金融机构，从而能让联邦政府拥有了在全国范围内调动资金的工具。发展工商业依赖更高密度的社会协作，依赖于渗透全国的公共设施，比如横跨两大洋的铁路和公路系统，邮电系统，以及后面的信息高速公路网。即便在今天的美国，国家公路也是直接由联邦政府管辖的。两百多年来，美国人在变着花样的从不同维度强化联邦政府的影响力和控制力。南北战争之后，通过宪法修正案大幅增加脱离联邦的门槛。从某种意义上来说，美国民众所接受的价值观训练与真实社会的运作方式背道而驰。相信欧洲经此一劫之后，也会幡然醒悟，开始修正其社会组织模型的天然漏洞。虽然碍于思维观念和民意裹挟的惯性，嘴上不能明说，但身体会越来越诚实。\\n\\n中央集权\\n\\n\\n真正要做到总部集权需依赖一定的基础：财权不仅关乎分配资源，攫取财富的能力一定要远高于建立直通底层的体系所消耗的成本。同样的道理，高效的供应链不仅依赖强大的控制力，更需要具备低成本的特征。否则，一竿子插到底的体系就无法维系。一旦用代理的方式来建立传导体系，每一层作为主体进行相互博弈就不可避免，整体控制力和效率也必然大打折扣。然而，即便能够做到以更低的成本建立自上而下的绝对控制，它就会逐渐进化出一种静态的封闭状态——不仅低效而且维系成本越来越高。随着规模的日益扩大和分工协作的密度增加，需要面对的问题在复杂度和响应及时性的要求上会越来越高，过于呆板和迟钝的控制体系无法满足这样的需求。一旦事有缓急，虽然可以调集所有的资源去善后，但无法讲问题遏制于萌芽状态，应对之时必然漏洞百出，事后又极力掩盖，相互推诿。\\n\\n在中国社会，财权主要体现在税收和国企系统。创造和攫取财富的工具是总部掌控财权的抓手。税收分为国税和地税，98年税改之前，中央的财政是讨饭财政。如同春秋时期周天子到各诸侯那里去化缘。98年之后，70%的优质税收划为国税，剩下的30%留作地方征收的税费。从此，中枢变得硬气，地方都争先恐后到北京设置办事处，乞求财政拨款。为了弥补地方财政的不足，就赋予了地方出让土地的特权。由此拉开了一个序幕：在中国城市化进程狂飙突进的过程中，地方政府通过这一特权让房地产行业的发展在金融的助力下如烈火烹油越烧越旺。它不仅仅让地方政府摆脱了财政困难的窘迫，也维系了原有税收制度对中枢的偏向性。因此，在过去的这二十年，中枢的财政是充裕的，地方也过的不错。彼此相安无事，避免了98年前后不是中枢跪着讨饭就是地方死给你看的那种不可调和的冲突。当然，美好的日子总是短暂的，房地产行业蓬勃发展的后遗症开始倒逼财税分配的重新博弈。又到了另一个十字路口！\\n\\n地方花钱需要通过立项来调拨资金，而立项的审批权在发改委。发改委拥有否决权，组织部拥有人事权，税务系统和国企掌控攫取财富的权力，当然，还有独立的武装力量的权力，由此构成了权力从中央到地方层层深入的抓手：发改委、国税和央企都是直属中央的垂直系统。虽然在行政关系上归地方领导，在业务上归上级同类部门领导。除此之外，还包括公安、交通、经贸委，财政等职能部门。\\n\\n中国社会目前的权力组织方式是：职能部门受平级党委和直属上级双重领导。平级党委和上级部门的双重领导这一特殊设计，源于一个非常现实的问题。垂直领导才能让权力从中枢直通末端。但是，如果把行政归属也揽括进来的话，就需要为下级的一切成本支出兜底。双重领导的好处在于，一方面能够拥有业务和人事的控制权力，又不需要为下级部门的开支成本负责。另一方面，贯彻党领导一切的方针，让同级党委能够统揽全局——因为日常事务往往是细碎和繁杂的，而且响应速度必须及时。要频繁且到位的驱使之，就必须要能掐住其七寸。这个命脉就是能发工资。除了不给当地驻军发工资，其它部门的工资都由自己辖区来划拨。从某种意义上来说，一省的一把手就是一方诸侯掌控一切，几乎是无法监督的。\\n\\n央企和国税是唯一的例外，也是自上而下的权力体系打进各辖区的钉子。国有企业——特别是央企这套体系，有着超出经济收益之外的特殊价值。曾经成功的预测过供销社体系会被重新激活并成为金融和物质双向流通的管道。我给出预测的时候，因为违背普通人的思维惯性，招来一顿臭骂，后来被现实所证实。如果从结构学的角度来观察问题：它的价值，首先是深入末端的管道体系的价值，其次才是社会经济价值——管道价值就如同道路的价值，不管道路的归属和运营权归谁，它的流通价值都是一样的。附着其上的经济价值取决于运营者。\\n\\n前苏联喜欢自己建立通道来向特定群体发福利，而希特勒的第三帝国则喜欢通过私营单位来向特定群体发福利。他们都达到了目的，虽然管道不同，但原点和受众都是确定可控的，所以在管道的选择上，哪种高效和低成本就用哪种。美国的行政权正在逐步压缩其它两项权力，而联邦政府的权力也在逐渐增大。面对日益复杂的社会治理现实，不管是东方还是西方都在探索一种方式，试图在中央集权和地方自治之间寻找一种能够切合现实需要的动态平衡。\\n\\n总督的去职 \\n\\n一般能干到省一把手的人，如果不能更进一步，往往就会平稳退休，然后写写回忆录，受人尊敬的安度晚年。有一位亲戚退下来之后依然住在省委大院里。逢年过节，现任还要去家里慰问一下老同志。所以，总督巡抚被拿下，实属百年罕见。即便强主欲以此立威，按照组织结构的特征也是不敢造次的。即便是处于集权和专制顶峰的清王朝依然不敢轻易的罢免一位总督。载沣随便找了一个由头把袁世凯开缺回籍，结果天下有事之时，再也指挥不动任何督抚了！\\n\\n经此一劫，天子的权威只会更加强化。湖广总督真的是非常不走运的撞到了枪口上，不仅民怨沸腾，而且危机扩散对其它督抚的现实利益的影响也是怨声载道。这种不需要协调就能达到上下一致的立场，被天子顺势借来立威。危机肯定会过去，过去之后的新格局开始逐渐形成。总的来说，两个重点：法制和金融。新的班底都有政法背景，另外会补齐两个非常规公共安全的助手，一个是金融安全，一个是公共卫生安全。\\n\\n在完成3.5万亿地方债务的置换之后，密集的地方债务违约虽然得到缓解。但是新的动能不足和后房地产时代的地方财政不足的问题已经迫在眉睫。国企的改革开始由经营控制转向资本和股权控制。省级地方政府开始配制金融背景的副职。预计在未来的5年之内，跟金融相关的核心法律都会修改。总的来说，控制的重心要由直接经营转向控制核心通道和资本，依托全球贸易体系讲内外连接起来，建立一个类似于华尔街的资金配置体系。在贸易通道所能覆盖的范围内剔除美元的铸币权——中国、俄罗斯、印度、伊朗正在往这个方向进行尝试，日韩也正以积极的姿态参与其中。\\n\\n纵观人类社会的发展历程，每一次科技的突破和应用的产业普及，都依赖一种巨大的长周期投入，必然催生一种新的资金配置方式及其承载体。华尔街的兴盛历史也验证了这一点。从宏观数据来看，当一个国家的科技投入和产出占世界科技成果25%的时候，它就必然会成为一个超级科技中心。而且，科技树的生长必然引发社会分工协作的组织度跃升，从而由内而外打破原有国内外的社会经济结构和产业结构。世界科技中心发生过五次转移，目前是美国，下一个会在那个需求量最大，投入比最高的社会产生。然而，这种投入依赖的资金量是巨大的，而且产业化所依赖的科研、教育和应用开发的相关配套设施的建设所需要消耗的资金更是天文数字。因此，没有一个与之相适应的资金配置体系，无异于一厢情愿。没有什么是等来的，它必须依赖富有远见的布局。\\n\\n经济形式的困难是暂时的，突发的事件也会如同池塘里的涟漪，终究归于平静。真正面临的挑战一定是影响未来的结构性调整。无论一个民族还是个人，真正的贫穷是自己消灭掉自己的未来！比如说一个缺乏积累的人，却热衷于贷款消费，遇到千载难逢的机会却拿不出启动的本钱。在比如说缺乏远见和勇气的决策中，不能在拐点到来之前完成改弦更张的布局，一直被惯性所裹挟，直到山穷水尽，车毁人亡。\\n\\n科技产业兴盛的关键在金融，金融的核心在规则，规则的核心在法制！湖广总督的去职恰好为中枢立威，集势将有利于布局，新的布局已经开始，可以拭目以待，也可以待机而动。\\n"}'));jctx.push(JSON.parse('{"id": "200301", "tag": "design", "text": "# 布尔代数与三段论\\n\\n莱布尼茨发明微积分时已定义一套符号体系，更设想了一套通用的代数体系。到了乔治布尔时，提出了用符号代表类别的理念，比如\\n\\nx表示绵羊，y表示白色，则xy表示白色绵羊。显然xx仍然表示x，如果想把符号和数字打通，只有0和1能满足，所以看起来简陋的布尔代数实在有其不得已的限制。再往前推一步，0表示空集，1表全集。\\n\\n再说三段论的证明，如果x满足y，y满足z，则x一定满足z。其中x满足y意味着x是y的子集，同时意味着x和y的补集的交集是空，即x(1-y)=0，得到x=xy。整个连续的推导\\n\\nx=xy=xyz=xz 于是得到x满足z\\n"}'));jctx.push(JSON.parse('{"id": "200405", "tag": "book", "text": "# 转－数学体系导引\\n\\n## 一、为什么要深入数学的世界\\n\\n作为计算机的学生，我没有任何企图要成为一个数学家。我学习数学的目的，是要想爬上巨人的肩膀，希望站在更高的高度，能把我自己研究的东西看得更深广一些。说起来，我在刚来这个学校的时候，并没有预料到我将会有一个深入数学的旅程。我的导师最初希望我去做的题目，是对appearance和motion建立一个unified的model。这个题目在当今Computer Vision中百花齐放的世界中并没有任何特别的地方。事实上，使用各种Graphical Model把各种东西联合在一起framework，在近年的论文中并不少见。\\n\\n我不否认现在广泛流行的Graphical Model是对复杂现象建模的有力工具，但是，我认为它不是panacea，并不能取代对于所研究的问题的深入的钻研。如果统计学习包治百病，那么很多“下游”的学科也就没有存在的必要了。事实上，开始的时候，我也是和Vision中很多人一样，想着去做一个Graphical Model——我的导师指出，这样的做法只是重复一些标准的流程，并没有很大的价值。经过很长时间的反复，另外一个路径慢慢被确立下来——我们相信，一个图像是通过大量“原子”的某种空间分布构成的，原子群的运动形成了动态的可视过程。微观意义下的单个原子运动，和宏观意义下的整体分布的变换存在着深刻的联系——这需要我们去发掘。\\n\\n在深入探索这个题目的过程中，遇到了很多很多的问题，如何描述一个一般的运动过程，如何建立一个稳定并且广泛适用的原子表达，如何刻画微观运动和宏观分布变换的联系，还有很多。在这个过程中，我发现了两个事情：\\n\\n* 我原有的数学基础已经远远不能适应我对这些问题的深入研究。\\n* 在数学中，有很多思想和工具，是非常适合解决这些问题的，只是没有被很多的应用科学的研究者重视。\\n\\n于是，我决心开始深入数学这个浩瀚大海，希望在我再次走出来的时候，我已经有了更强大的武器去面对这些问题的挑战。\\n\\n我的游历并没有结束，我的视野相比于这个博大精深的世界的依旧显得非常狭窄。在这里，我只是说说，在我的眼中，数学如何一步步从初级向高级发展，更高级别的数学对于具体应用究竟有何好处。\\n\\n## 二、集合论：现代数学的共同基础\\n\\n现代数学有数不清的分支，但是，它们都有一个共同的基础——集合论——因为它，数学这个庞大的家族有个共同的语言。集合论中有一些最基本的概念：*集合(set)，关系(relation)，函数(function)，等价 (equivalence)*，是在其它数学分支的语言中几乎必然存在的。对于这些简单概念的理解，是进一步学些别的数学的基础。我相信，理工科大学生对于这些都不会陌生。\\n\\n![mathtree](./img/mathtree.png)\\n\\n不过，有一个很重要的东西就不见得那么家喻户晓了——那就是“选择公理” (Axiom of Choice)。这个公理的意思是“任意的一群非空集合，一定可以从每个集合中各拿出一个元素。”——似乎是显然得不能再显然的命题。不过，这个貌似平常的公理却能演绎出一些比较奇怪的结论，比如巴拿赫-塔斯基分球定理——“一个球，能分成五个部分，对它们进行一系列刚性变换（平移旋转）后，能组合成两个一样大小的球”。正因为这些完全有悖常识的结论，导致数学界曾经在相当长时间里对于是否接受它有着激烈争论。现在，主流数学家对于它应该是基本接受的，因为很多数学分支的重要定理都依赖于它。在我们后面要回说到的学科里面，下面的定理依赖于选择公理：\\n\\n1. 拓扑学：Baire Category Theorem\\n2. 实分析（测度理论）：Lebesgue 不可测集的存在性\\n3. 泛函分析四个主要定理：Hahn-Banach Extension Theorem, Banach-Steinhaus Theorem (Uniform boundedness principle), Open Mapping Theorem, Closed Graph Theorem\\n\\n在集合论的基础上，现代数学有两大家族：*分析(Analysis)和代数(Algebra)*。至于其它的，比如几何和概率论，在古典数学时代，它们是和代数并列的，但是它们的现代版本则基本是建立在分析或者代数的基础上，因此从现代意义说，它们和分析与代数并不是平行的关系。\\n\\n## 三、分析：在极限基础上建立的宏伟大厦\\n\\n### 微积分：分析的古典时代——从牛顿到柯西\\n先说说分析(Analysis)吧，它是从微积分(Caculus)发展起来的——这也是有些微积分教材名字叫“数学分析”的原因。不过，分析的范畴远不只是这些，我们在大学一年级学习的微积分只能算是对古典分析的入门。分析研究的对象很多，包括*导数(derivatives)，积分(integral)，微分方程(differential equation)，还有级数(infinite series)*—这些基本的概念，在初等的微积分里面都有介绍。如果说有一个思想贯穿其中，那就是极限—这是整个分析（不仅仅是微积分）的灵魂。\\n\\n一个很多人都听说过的故事，就是牛顿(Newton)和莱布尼茨 (Leibniz)关于微积分发明权的争论。事实上，在他们的时代，很多微积分的工具开始运用在科学和工程之中，但是，微积分的基础并没有真正建立。那个长时间一直解释不清楚的“无穷小量”的幽灵，困扰了数学界一百多年的时间——这就是“第二次数学危机”。*直到柯西用数列极限的观点重新建立了微积分的基本概念*，这门学科才开始有了一个比较坚实的基础。直到今天，整个分析的大厦还是建立在极限的基石之上。\\n\\n柯西(Cauchy)为分析的发展提供了一种严密的语言，但是他并没有解决微积分的全部问题。在19世纪的时候，分析的世界仍然有着一些挥之不去的乌云。而其中最重要的一个没有解决的是*“函数是否可积的问题”*。我们在现在的微积分课本中学到的那种通过“无限分割区间，取矩阵面积和的极限”的积分，是大约在1850年由黎曼(Riemann)提出的，叫做黎曼积分。但是，什么函数存在黎曼积分呢（黎曼可积）？数学家们很早就证明了，*定义在闭区间内的连续函数是黎曼可积的*。可是，这样的结果并不令人满意，工程师们需要对分段连续函数的函数积分。\\n\\n### 实分析：在实数理论和测度理论上建立起现代分析\\n在19世纪中后期，不连续函数的可积性问题一直是分析的重要课题。对于定义在闭区间上的黎曼积分的研究发现，可积性的关键在于“不连续的点足够少”。只有有限处不连续的函数是可积的，可是很多有数学家们构造出很多在无限处不连续的可积函数。显然，在衡量点集大小的时候，有限和无限并不是一种合适的标准。在探讨“点集大小”这个问题的过程中，数学家发现实数轴——这个他们曾经以为已经充分理解的东西——有着许多他们没有想到的特性。在极限思想的支持下，实数理论在这个时候被建立起来，它的标志是对实数完备性进行刻画的几条等价的定理 （确界定理，区间套定理，柯西收敛定理，Bolzano-Weierstrass Theorem和Heine-Borel Theorem等等）——这些定理明确表达出实数和有理数的根本区别：完备性（很不严格的说，就是对极限运算封闭）。随着对实数认识的深入，如何测量“点集大小”的问题也取得了突破，勒贝格创造性地把关于集合的代数，和Outer content（就是“外测度”的一个雏形）的概念结合起来，建立了测度理论(Measure Theory)，并且进一步建立了以测度为基础的积分——勒贝格(Lebesgue Integral)。在这个新的积分概念的支持下，可积性问题变得一目了然。\\n\\n上面说到的实数理论，测度理论和勒贝格积分，构成了我们现在称为实分析 (Real Analysis)的数学分支，有些书也叫实变函数论。对于应用科学来说，实分析似乎没有古典微积分那么“实用”——很难直接基于它得到什么算法。而且， 它要解决的某些“难题”——比如处处不连续的函数，或者处处连续而处处不可微的函数——在工程师的眼中，并不现实。但是，我认为，它并不是一种纯数学概念游戏，它的现实意义在于为许多现代的应用数学分支提供坚实的基础。下面，我仅仅列举几条它的用处：\\n\\n1. 黎曼可积的函数空间不是完备的，但是勒贝格可积的函数空间是完备的。简单的说，一个黎曼可积的函数列收敛到的那个函数不一定是黎曼可积的，但是勒贝格可积的函数列必定收敛到一个勒贝格可积的函数。在泛函分析，还有逼近理论中，经 常需要讨论“函数的极限”，或者“函数的级数”，如果用黎曼积分的概念，这种讨论几乎不可想像。我们有时看一些paper中提到Lp函数空间，就是基于勒 贝格积分。\\n2. 勒贝格积分是傅立叶变换（这东西在工程中到处都是）的基础。很多关于信号处理的初等教材，可能绕过了勒贝格积分，直接讲点面对实用的东西而不谈它的数学基础，但是，对于深层次的研究问题——特别是希望在理论中能做一些工作——这并不是总能绕过去。\\n3. 在下面，我们还会看到，测度理论是现代概率论的基础。\\n\\n### 现代概率论：在现代分析基础上再生\\n\\n(注：我将现代概率论小节移到这)\\n\\n最后，再简单说说很多Learning的研究者特别关心的数学分支：概率论。 自从Kolmogorov在上世纪30年代把测度引入概率论以来，测度理论就成为现代概率论的基础。在这里，概率定义为测度，随机变量定义为可测函数，条件随机变量定义为可测函数在某个函数空间的投影，均值则是可测函数对于概率测度的积分。值得注意的是，很多的现代观点，开始以泛函分析的思路看待概率论的基础概念，随机变量构成了一个向量空间，而带符号概率测度则构成了它的对偶空间，其中一方施加于对方就形成均值。角度虽然不一样，不过这两种方式殊途同 归，形成的基础是等价的。\\n\\n在现代概率论的基础上，许多传统的分支得到了极大丰富，最有代表性的包括鞅论 (Martingale)——由研究赌博引发的理论，现在主要用于金融（这里可以看出赌博和金融的理论联系，:-P），布朗运动(Brownian Motion)——连续随机过程的基础，以及在此基础上建立的随机分析(Stochastic Calculus)，包括随机积分（对随机过程的路径进行积分，其中比较有代表性的叫伊藤积分(Ito Integral)），和随机微分方程。对于连续几何运用建立概率模型以及对分布的变换的研究离不开这些方面的知识。\\n\\n### 拓扑学：分析从实数轴推广到一般空间——现代分析的抽象基础\\n\\n随着实数理论的建立，大家开始把极限和连续推广到更一般的地方的分析。事实上，很多基于实数的概念和定理并不是实数特有的。很多特性可以抽象出来，推广到更一般的空间里面。*对于实数轴的推广，促成了点集拓扑学(Point- set Topology)的建立*。很多原来只存在于实数中的概念，被提取出来，进行一般性的讨论。在拓扑学里面，有4个C构成了它的核心：\\n\\n(1)Closed set, 闭集合\\n\\n在现代的拓扑学的公理化体系中，开集和闭集是最基本的概念。一切从此引申。这两个概念是开区间和闭区间的推广，它们的根本地位，并不是一开始就被认识到的。经过相当长的时间，人们才认识到：开集的概念是连续性的基础，而闭集对极限运算封闭——而极限正是分析的根基。\\n\\n(2)Continuous function, 连续函数\\n\\n连续函数在微积分里面有个用epsilon-delta语言给出的定义，在拓扑学中它的定义是“开集的原像是开集的函数”。第二个定义和第一个是等价的，只是用更抽象的语言进行了改写。我个人认为，它的第三个（等价）定义才从根本上揭示连续函数的本质——“连续函数是保持极限运算的函数” ——比如y是数列x1, x2, x3, … 的极限， 那么如果 f 是连续函数，那么 f(y) 就是 f(x1), f(x2), f(x3), …的极限。连续函数的重要性，可以从别的分支学科中进行类比。比如群论中，基础的运算是“乘法”，对于群，最重要的映射叫“同态映射”——保持“乘法”的映射。在分析中，基础运算是“极限”，因此连续函数在分析中的地位，和同态映射在代数中的地位是相当的。\\n\\n(3)Connected set, 连通集合\\n\\n比它略为窄一点的概念叫(Path connected)，就是集合中任意两点都存在连续路径相连——可能是一般人理解的概念。一般意义下的连通概念稍微抽象一些。在我看来，连通性有两个重要的用场：一个是用于证明一般的中值定理(Intermediate Value Theorem)，还有就是代数拓扑，拓扑群论和李群论中讨论根本群(Fundamental Group)的阶。\\n\\n(4)Compact set, 紧集\\n\\nCompactness似乎在初等微积分里面没有专门出现，不过有几条实数上的定理和它其实是有关系的。比如，“有界数列必然存在收敛子列”——用compactness的语言来说就是——“实数空间中有界闭集是紧的”。它在拓扑学中的一般定义是一个听上去比较抽象的东西——“紧集的任意开覆盖存在有限子覆盖”。这个定义在讨论拓扑学的定理时很方便，它在很多时候能帮助实现从无限到有限的转换。对于分析来说，用得更多的是它的另一种形式 ——“紧集中的数列必存在收敛子列”——它体现了分析中最重要的“极限”。Compactness在现代分析中运用极广，无法尽述。微积分中的两个重要定 理：极值定理(Extreme Value Theory)，和一致收敛定理(Uniform Convergence Theorem)就可以借助它推广到一般的形式。\\n\\n从某种意义上说，*点集拓扑学可以看成是关于“极限”的一般理论*，它抽象于实数理论，它的概念成为几乎所有现代分析学科的通用语言，也是整个现代分析的根基所在。\\n\\n![mathstruct](./img/mathstruct.png)\\n\\n### 微分几何：流形上的分析——在拓扑空间上引入微分结构\\n\\n拓扑学把极限的概念推广到一般的拓扑空间，但这不是故事的结束，而仅仅是开始。在微积分里面，极限之后我们有微分，求导，积分。这些东西也可以推广到拓扑空间，在拓扑学的基础上建立起来——这就是微分几何。从教学上说，微分几何的教材，有两种不同的类型，一种是建立在古典微机分的基础上的“古典微分几何”，主要是关于二维和三维空间中的一些几何量的计算，比如曲率。还有一种是建立在现代拓扑学的基础上，这里姑且称为“现代微分几何”——它的核心概念就是“流形”(manifold)——就是在拓扑空间的基础上加了一套可以进行微分运算的结构。现代微分几何是一门非常丰富的学科。比如一般流形上的微分的定义就比传统的微分丰富，我自己就见过三种从不同角度给出的等价定义——这一方面让事情变得复杂一些，但是另外一个方面它给了同一个概念的不同理解，往往在解决问题时会引出不同的思路。除了推广微积分的概念以外，还引入了很多新概念：tangent space, cotangent space, push forward, pull back, fibre bundle, flow, immersion, submersion 等等。\\n\\n近些年，流形在machine learning似乎相当时髦。但是，坦率地说，要弄懂一些基本的流形算法， 甚至“创造”一些流形算法，并不需要多少微分几何的基础。对我的研究来说，微分几何最重要的应用就是建立在它之上的另外一个分支：李群和李代数——这是数学中两大家族分析和代数的一个漂亮的联姻。分析和代数的另外一处重要的结合则是泛函分析，以及在其基础上的调和分析。\\n\\n## 四、代数：一个抽象的世界\\n\\n回过头来，再说说另一个大家族——代数。\\n\\n如果说古典微积分是分析的入门，那么现代代数的入门点则是两个部分：线性代数(linear algebra)和基础的抽象代数(abstract algebra)——据说国内一些教材称之为近世代数。\\n\\n代数——名称上研究的似乎是数，在我看来，主要研究的是运算规则。一门代数， 其实都是从某种具体的运算体系中抽象出一些基本规则，建立一个公理体系，然后在这基础上进行研究。一个集合再加上一套运算规则，就构成一个代数结构。在主要的代数结构中，最简单的是群(Group)——它只有一种符合结合率的可逆运算，通常叫“乘法”。如果，这种运算也符合交换率，那么就叫阿贝尔群 (Abelian Group)。如果有两种运算，一种叫加法，满足交换率和结合率，一种叫乘法，满足结合率，它们之间满足分配率，这种丰富一点的结构叫做环(Ring)， 如果环上的乘法满足交换率，就叫可交换环(Commutative Ring)。如果，一个环的加法和乘法具有了所有的良好性质，那么就成为一个域(Field)。基于域，我们可以建立一种新的结构，能进行加法和数乘，就构成了线性代数(Linear algebra)。\\n\\n代数的好处在于，它只关心运算规则的演绎，而不管参与运算的对象。只要定义恰当，完全可以让一只猫乘一只狗得到一头猪:-)。基于抽象运算规则得到的所有定理完全可以运用于上面说的猫狗乘法。当然，在实际运用中，我们还是希望用它 干点有意义的事情。学过抽象代数的都知道，基于几条最简单的规则，比如结合律，就能导出非常多的重要结论——这些结论可以应用到一切满足这些简单规则的地 方——这是代数的威力所在，我们不再需要为每一个具体领域重新建立这么多的定理。\\n\\n### 关于抽象代数\\n\\n抽象代数有在一些基础定理的基础上，进一步的研究往往分为两个流派：研究有限的离散代数结构（比如有限群和有限域），这部分内容通常用于数论，编码，和整数方程这些地方；另外一个流派是研究连续的代数结构，通常和拓扑与分析联系在 一起（比如拓扑群，李群）。我在学习中的focus主要是后者。\\n\\n### 线性代数：“线性”的基础地位\\n\\n对于做Learning, vision, optimization或者statistics的人来说，接触最多的莫过于线性代数——这也是我们在大学低年级就开始学习的。线性代数，包括建立在它基础上的各种学科，最核心的两个概念是向量空间和线性变换。线性变换在线性代数中的地位，和连续函数在分析中的地位，或者同态映射在群论中的地位是一样的 ——它是保持基础运算（加法和数乘）的映射。\\n\\n在learning中有这样的一种倾向——鄙视线性算法，标榜非线性。也许在很多场合下面，我们需要非线性来描述复杂的现实世界，但是无论什么时候，线性都是具有根本地位的。没有线性的基础，就不可能存在所谓的非线性推广。我们常用的非线性化的方法包括流形和kernelization，这两者都需要在某个阶段回归线性。流形需要在每个局部建立和线性空间的映射，通过把许多局部线性空间连接起来形成非线性；而kernerlization则是通过置换内积结构把原线性空间“非线性”地映射到另外一个线性空间，再进行线性空间中所能 进行的操作。而在分析领域，线性的运算更是无处不在，微分，积分，傅立叶变换，拉普拉斯变换，还有统计中的均值，通通都是线性的。\\n\\n### 泛函分析：从有限维向无限维迈进\\n\\n在大学中学习的线性代数，它的简单主要因为它是在有限维空间进行的，因为有限，我们无须借助于太多的分析手段。但是，有限维空间并不能有效地表达我们的世界——最重要的，函数构成了线性空间，可是它是无限维的。对函数进行的最重要的运算都在无限维空间进行，比如傅立叶变换和小波分析。这表明了，为了研究函数（或者说连续信号），我们需要打破有限维空间的束缚，走入无限维的函数空间——这里面的第一步，就是泛函分析。\\n\\n泛函分析(Functional Analysis)是研究的是一般的线性空间，包括有限维和无限维，但是很多东西在有限维下显得很trivial，真正的困难往往在无限维的时候出现。在泛函分析中，空间中的元素还是叫向量，但是线性变换通常会叫作“算子”(operator)。除了加法和数乘，这里进一步加入了一些运算，比如加入范数去表达“向量的长度”或者“元素的距离”，这样的空间叫做“赋范线性空间”(normed space)，再进一步的，可以加入内积运算，这样的空间叫“内积空间”(Inner product space)。\\n\\n大家发现，当进入无限维的时间时，很多老的观念不再适用了，一切都需要重新审视。\\n\\n所有的有限维空间都是完备的（柯西序列收敛），很多无限维空间却是不完备的（比如闭区间上的连续函数）。在这里，完备的空间有特殊的名称：完备的赋范空间叫巴拿赫空间(Banach space)，完备的内积空间叫希尔伯特空间(Hilbert space)。\\n在有限维空间中空间和它的对偶空间的是完全同构的，而在无限维空间中，它们存在微妙的差别。\\n在有限维空间中，所有线性变换（矩阵）都是有界变换，而在无限维，很多算子是无界的(unbounded)，最重要的一个例子是给函数求导。\\n在有限维空间中，一切有界闭集都是紧的，比如单位球。而在所有的无限维空间中，单位球都不是紧的——也就是说，可以在单位球内撒入无限个点，而不出现一个极限点。\\n在有限维空间中，线性变换（矩阵）的谱相当于全部的特征值，在无限维空间 中，算子的谱的结构比这个复杂得多，除了特征值组成的点谱(point spectrum)，还有approximate point spectrum和residual spectrum。虽然复杂，但是，也更为有趣。由此形成了一个相当丰富的分支——算子谱论(Spectrum theory)。\\n在有限维空间中，任何一点对任何一个子空间总存在投影，而在无限维空间中， 这就不一定了，具有这种良好特性的子空间有个专门的名称切比雪夫空间(Chebyshev space)。这个概念是现代逼近理论的基础(approximation theory)。函数空间的逼近理论在Learning中应该有着非常重要的作用，但是现在看到的运用现代逼近理论的文章并不多。\\n\\n### 继续往前：巴拿赫代数，调和分析，和李代数\\n\\n基本的泛函分析继续往前走，有两个重要的方向。第一个是巴拿赫代数 (Banach Algebra)，它就是在巴拿赫空间（完备的内积空间）的基础上引入乘法（这不同于数乘）。比如矩阵——它除了加法和数乘，还能做乘法——这就构成了一 个巴拿赫代数。除此以外，值域完备的有界算子，平方可积函数，都能构成巴拿赫代数。巴拿赫代数是泛函分析的抽象，很多对于有界算子导出的结论，还有算子谱 论中的许多定理，它们不仅仅对算子适用，它们其实可以从一般的巴拿赫代数中得到，并且应用在算子以外的地方。巴拿赫代数让你站在更高的高度看待泛函分析中 的结论，但是，我对它在实际问题中能比泛函分析能多带来什么东西还有待思考。\\n\\n最能把泛函分析和实际问题在一起的另一个重要方向是调和分析 (Harmonic Analysis)。我在这里列举它的两个个子领域，傅立叶分析和小波分析，我想这已经能说明它的实际价值。它研究的最核心的问题就是怎么用基函数去逼近和构造一个函数。它研究的是函数空间的问题，不可避免的必须以泛函分析为基础。除了傅立叶和小波，调和分析还研究一些很有用的函数空间，比如Hardy space，Sobolev space，这些空间有很多很好的性质，在工程中和物理学中都有很重要的应用。对于vision来说，调和分析在信号的表达，图像的构造，都是非常有用的工具。\\n\\n## 五、分析与代数结合\\n\\n当分析和线性代数走在一起，产生了泛函分析和调和分析；当分析和群论走在一 起，我们就有了李群(Lie Group)和李代数(Lie Algebra)。它们给连续群上的元素赋予了代数结构。我一直认为这是一门非常漂亮的数学：在一个体系中，拓扑，微分和代数走到了一起。在一定条件下，通过李群和李代数的联系，它让几何变换的结合变成了线性运算，让子群化为线性子空间，这样就为Learning中许多重要的模型和算法的引入到对几何运动的建模创造了必要的条件。因此，我们相信李群和李代数对于vision有着重要意义，只不过学习它的道路可能会很艰辛，在它之前需要学习很多别的数学。\\n"}'));jctx.push(JSON.parse('{"id": "210323", "tag": "design", "text": "# 图灵机与lambda演算比较\\n\\n计算模型的一个重要用途是研究complexity和程序的效率。比如在图灵机模型上你可以简单地定义状态转移为时间意义上的“一步”，程序使用的纸带大小为空间上的消耗。 然而 λ-calculus 上没有特别简单的cost model让你可以直观地谈论时间和空间复杂度，这很大程度上限制了 λ-calculus 作为一种描述算法和复杂度类的元语言。\\n\\n图灵机也是做不出来的.. 因为长度是要无限的... 有限长度的图灵机和 DFA 是等价的，也就是其实和 λ 演算是不等价的。等价只是从可计算性和多项式时间内的可计算性来讲的。要论上具体数量级和系数，基本上没有哪两个计算模型是完全等价的。\\n\\n虽然现代程序语言是图灵完全的，但是和图灵机本来的操作方法是差了非常多的.. 如果要写得像一点的话估计就是 goto 指针满天飞舞的情况.. 和现代编程体验也是差了不知道多少的..\\n\\n甚至现代程序语言的“函数式”趋势我也都觉得本质不是往 λ 演算方向走，而是类型系统，还有就是尽量去写成状态机了。\\n\\n除了图灵机与λ演算外，其实还有许许多多的计算模型，它们都等价：\\n\\n* 图灵机\\n* λ演算\\n* 一阶逻辑\\n* 时序逻辑MPTL\\n* 动态逻辑\\n* petri网\\n* 进程代数\\n* 递归可枚举语言\\n\\n这些计算模型都是相互关联有所侧重的，比如说图灵机能接受的语言是递归可枚举语言，一阶逻辑的归约是λ演算，一阶逻辑的扩充是时序逻辑、动态逻辑，进程代数关心迁移而图灵机关心状态。\\n\\n这些计算模型能力都等价，它们从不同的视角去看待计算这件事情，面对着不同的问题，采用不同的计算模型效果是不一样的。在有些问题里面，用图灵机就表达不清楚，但是用递归可枚举语言就能很好地解释。图灵机需要知道系统内部状态，而进程代数只需要关心交互过程。动态逻辑和petri网能给出计算的全局状态，而时序逻辑、图灵机、进程代数则“只见树木不见森林”。\\n\\n最后，我只能说，针对合适的问题，有合适的模型。“普遍接受”是因为见过的问题少了。\\n\\n希尔伯特最初提出 23 个问题的时候，对计算问题只是大概说了一个「mechanical」，当时谁也说不定「machanical」的形式定义。图灵的模型无疑更接近「mechanical」的本意。而且后来图灵从哲学上把图灵机和人脑做了一些比较，也得到了业界的广泛认可。这些在图灵的传记《Enigma》里专门有描述。特别说了图灵发现 Church 的论文首先被 reivew，非常沮丧，但是最后评议还是认为图灵的模型更有创意。\\n\\n考虑到硬件结构、空间复杂度等问题，自然数不会用church encoding表示，递归也往往不会真编码成Y combinator 。虽然有个东西叫De Bruijin Notion，可以把lambda term编码到形似0101的二进制形式。。\\n\\nLisp Machine也是建立在Von-neumann体系结构上的，只不过用专用硬件、指令加速某些操作，比如用List处理器高速完成动态类型检查，专门的List存储器实现树状的表存储，把nil之类的常量存到专用寄存器，对某些结构并行求值。。\\n\\n各种Abstract Computing Machine（CESK、CLS、SECD 等）的提出、编译技术（譬如CPS、Defunctionlizing变换、LISP-2 GC）的进步、以及体系结构的发展（内存、微处理器等），使得普通PC上也能准确、高效地实现函数式语言。\\n\\n最后实际普遍使用的computation model是Von-neumann模型，都带着可随机访问的内存。很少有真拿一条纸带左右移动算东西的。Von-neumann能流行，主要是因为这个能用电子元件做出来，而且速度和其他能做出来的model比要快不少。\\n"}'));jctx.push(JSON.parse('{"id": "210901", "tag": "think", "text": "# 对昼伏夜出和朝九晚五两个技战法的分析\\n\\n单看这两个模型的名字，含义好像是非此即彼的，研究它的时间划分，以及计分细节，才体会到这两个模型想表达含义的差异。\\n\\n## 模型定义\\n\\n昼伏夜出定义了4个时间点，晚上11点到早上的5点，如果出现就加一分；从早上9点到下午1点出现就减一分，其他时间段不计分。而朝九晚五划分了6个时间点，早上7点到10点以及下午的4点到7点出现会加一分，晚上的10点到早上的4点，出现会减0.5分。累计10天，总分大于一定阈值就判定为对应人群。\\n\\n## 模型意图分析\\n\\n从时间划分来看，昼伏夜出的昼仅指上午，定位的是经常在夜间出没的人员，所以晚上出现加分，同时因为上午要休息，所以上午出现会减去同样的分数。该模型针对比如有盗窃嫌疑的人，这些人往往是习惯于晚上踩点，上午休息。而另一种三班倒的人群，是晚上出工，差不多早上8,9点会回家休息，通过对上午出现减分，就把踩点的小偷和三班倒的人员做了一个区分。因为这个模型关注是盗窃人员，所以对于下午的活动就不在意了。通过这样的时间划分方式，就比较准确的找出昼伏夜出人员。\\n\\n朝九晚五从时间段来看，想表达的是在早上和傍晚的通勤时间常出现，深夜到凌晨少出现，从单次的扣分和加分不相抵，能看出来该模型并不要求晚上不出现，这里也有个细节，并不关注中午这个时段是否出现。因为他想找出的就是在早晚通勤时段有活动的人，所以中午是否活动并不影响判断。\\n\\n相比于昼伏夜出模型，朝九晚五想做的是对白天活动的人群做细分，就是上班时间比较规律的这群人。典型的如公务员或一些窗口办公人员。如果我们把这个模型的时间段调整一下，比如把早上的时间不变，晚上的时间定义在8点到12点，能得到了一个早出晚归的人群，就是加班时间比较久。\\n\\n以上是一天的记分规则，像这种模型一般来说都会统计过去一周或者一个月的总分值。在这方面也有一个很有趣的点，就是它在算每天的总分时，会设定一个上下限阈值，最低不低于0分，最高不高于两分。如果直观地看规则，对朝九晚五规则来说，如果某个人白天不出现，晚上出现了是会变成负分的，但因为阈值的存在，并没有出现负分。我分析他的意图是考虑如果周末的晚上出没较多，这个负分就会对其他天的出行造成一个负面的影响，但是这个周末晚上的活动又是在允许范围内的。既然这个模型是要找出具备通勤规律的人，那么偶尔一两天晚上频繁出现，就不应该对评价造成一个很负面的影响。"}'));jctx.push(JSON.parse('{"id": "240109", "tag": "book", "text": "# 西游\\n\\n## 唐僧丧徒\\n\\n离开大唐时，唐僧带了两个自己信任的徒弟，但如来并不想看到唐僧有自己的私人班底，于是指挥手下变作妖精吃了这两个徒弟。太白金星觉得太过火，救了唐僧。随后唐僧独自一人见了一个猎户，还成功超度其亡父，大概从这里开始，唐僧也明白了所谓小乘经不能渡人其实是谎话\\n\\n## 观音禅院黑熊精\\n\\n悟空随唐僧后第一战，打得难解难分。观音见已有悟空，遂挪用了如来给的禁箍，将黑熊精收为手下\\n\\n## 镇元大仙人参果\\n\\n虽为地仙但奈何门派力微，借人参果攒局与悟空结拜，更借果树被推倒，得取经团队人情，得以提升门派地位\\n\\n## 三打白骨精\\n\\n此妖本名尸魔，但妖不算作难，而是悟空负气出走才是难。此时取经团队刚凑齐，内部并不稳定，没遇上厉害妖魔，唐僧也不觉得悟空本领，故借此机把他赶走，八戒沙僧也觉得还有进步空间，共同挤兑走悟空。\\n\\n## 奎木狼与宝象国\\n\\n经历白骨精后，悟空回到花果山，却见其手下被猎户屠戮，杀千余人。取经团队遇黄袍怪奎木狼，八戒沙僧完全不够看。唐僧在朝堂上被变成老虎，小白龙觉得自己可以立功，于是有了全书唯一的出手，可惜仍是不敌，只得托八戒找回悟空，白龙后面再没有主动出手。\\n\\n悟空回来了，令八戒沙僧摔死奎木狼两孩子。悟空和奎木狼打成平手，最终还是上天庭招回了奎木狼。被派去给老君烧火，而原来的两位童子即将在平顶山与悟空斗法。\\n\\n经此战，悟空初步确定地位，但最终还是要等六耳猕猴之后才最终成立\\n\\n## 平顶山被轻松团灭\\n\\n悟空被银角大王放山压住，取经团队全员被捉，最后谜底揭开竟是太上老君的童子，悟空开始明白取经之路不易\\n\\n## 乌鸡国佛道拉锯\\n\\n乌鸡国王起初借佛家立国，后因求雨无门又借道士之力，但为佛家所忌，文殊派青毛狮子杀道士，推国王入井，据国三年。国王被悟空借得金丹复活后，更是敬心礼佛，从此西行之路又多一个佛国\\n\\n## 黑水河与白龙马\\n\\n此难悟空开始明道，不再打打杀杀，只是几番言语便借西海龙马与龙太子降服小鼍龙。有趣的是，白龙马自称西海龙王之子，却全程未现身。有说白龙马是取经开始被斩的泾河龙王化身，权当一听\\n\\n## 车迟国的三难\\n\\n并不是一处一难，车迟国在盘点时就有，搬运，斗法，去道兴僧共三难\\n\\n## 中点通天河\\n\\n灵感大王是观音的金鱼，此妖有异能使河结冰，亦能控制天气，说明观音已有绕过天庭控制降雨的能力\\n\\n## 女儿国和蝎子精\\n\\n道教利用子母河将此变为造人机器，女儿国王才想借唐僧来摆脱被控制的命运\\n\\n## 真假美猴王\\n\\n女儿国王是第一个在通关文碟上给三徒弟留名的国家，以此为契机悟空正式提出要编制。六耳猕猴也许是猴子的救命毫毛变的，但终是借此让如来承认了猴子\\n\\n## 牛魔王的悲剧\\n\\n铁扇公主和玉面狐狸两段姻缘都属于入赘，加上其弟如意真仙把持女儿国，打造了牛魔王在西牛贺洲的生意。最终被佛道天庭三家联合绞杀\\n\\n## 祭赛国的九头虫\\n\\n63回目，碧波潭万圣公主偷了舍利，悟空与八戒合斗公主附马九头虫不敌，此虫乃羽虫，是九头鸟。遇上经过此处的二郎神（为何来此是谜），联手后才由哮天犬咬下一头后跳往北海。此时悟空力主放过九头虫，成了书中唯一没有背景还活着但没有被收编的妖怪（黑熊怪，蜈蚣精被收编了）。有几点值得说道\\n\\n猴哥与二郎神究竟关系如何？\\n\\n> 二郎神曾火烧花果山，4万7千小猴只留得不足千只，按说这是刻骨深仇，但换个想法，二郎神真的没有能力找到那躲藏的小猴吗？还是二郎神施得障眼法，倘换得其他人，是不是会斩草除根。猴哥自己西天取经一路对各种山头的小怪同样斩尽杀绝，想念及此许是回过味来，感激二郎神当年留了自己猴子猴孙的性命，喊声七圣兄弟恐怕也是真心\\n\\n二郎神的背景\\n\\n> 书中交待得清楚，二郎神是玉帝的外甥，玉帝妹妹思凡嫁给凡间杨姓男子，生下二郎神。玉帝将妹妹镇在山底，二郎神劈山救母（也许是玉帝授意），还得名师指点，习得一身好本领。\\n\\n为何放走九头虫\\n\\n> 可能确实打不过，再者九头虫是牛魔王的朋友，甚至可能是和猴哥当年的结拜兄弟。牛魔王一战做得太绝，猴哥内心也许有愧，此时如来只要取回宝物，没必要非杀死九头虫\\n\\n## 荆棘岭\\n\\n树精赛诗会，看着无惊无险莫名其妙，但因此一役绕过本钵国，最后还少了一难(虽然未必是这里)。但如果树精们就是本钵国派出的引路人，不失为一种解释\\n\\n## 朱紫国的反杀\\n\\n观音安排了部下带着专克悟空的法宝，不料却被悟空使计换掉并反杀。最后朱紫国没有成为佛教的附庸，而是依然在道家和悟空的掌中\\n\\n## 盘丝洞和蜈蚣精\\n\\n七只蜘蛛是纺织的打工人，蜈蚣精则是做药的打工人\\n\\n## 比丘国\\n\\n## 半截观音白鼠精\\n\\n遇到白鼠精后，唐僧便大病三日，算作一劫\\n\\n## 灭法国灭僧反成僧\\n\\n国王要杀1万名和尚，岂料最后自己和满朝文武都成了和尚\\n\\n## 隐雾山的豹子精\\n\\n似乎是取精路没有背景，但悟空却不敢下杀手，反而处处小心，虽然最后还是被杀，但也体现了悟空的成长\\n\\n## 凤仙郡求雨\\n\\n## 观音代佛祖攒局\\n\\n看起来观音没有得到明显的好处，但是收获做一个成功项目的经验，为他以后的铺路是很有帮助的。\\n悟空表面上的打打杀杀固然威风，但是观音怎么去调动平衡组织的能力，也是很有难度的。为将者让对方找不到你的套路，对下又要严明赏罚，规则明确，对上和对下是两套完全不同的法则\\n观音得如来三箍，只出了一个自己留两。悟空得犀牛角，因为能分水私留，到灵山被索贿不给，因功无妨。股肱之臣总是有些特权"}'));jctx.push(JSON.parse('{"id": "240205", "tag": "think", "text": "# 对于笔记的思考\\n\\n整个2023年做了很多笔记方面的学习和思考，包括anki和tiddlywiki，但实践下来反而把自己的老本行给丢了。\\n\\n我原来所有的数据都是基于sqlite的数据库，由于站点一度迁移到sdf，为了简化转变成用markdown加git管理。但是这个转变过程没有考虑一些私有文档，加上整个内容体系也梳理得不完整，所以一年多的工资都没有记录。最近几个月把pb完善的差不多，加上又学了全文检索，sdf的功能也支持数据库。所以还是想重新回归到数据库模式。回想半年前还做了很多从markdown写入数据库的工具，现在又要反过来写一遍，也是挺折腾的。\\n\\n## 标签编码\\n\\n因为学习了卢曼卡片笔记，为模仿还特意设想了一套数字编码的方式，但时间久了发现根本记不住，可能对我最自然的方式就是不刻意打标签，直接用关键词(拼音)检索。\\n\\n根据需求来设置目录，有名称需求，分类需求，主题需求。卢曼索引卡片是主题目录。双链方便形成主题目录，但最终还是要靠个人整理\\n\\n## 一些尝试\\n\\n写mytid时，投入了很大精力，但事后看来用的并不多。我觉得有两个原因，第1是编辑修改太不方便，第2个是外部的形态不是一个独立窗口，所以用起来不符合我的个人习惯，现在做一个本地GUI的，基于数据库的一个笔记。\\n\\n经过一周开发出的GUI工具，做到除了几个长篇的内容外，都归集到1个数据库文件。好处是清爽简洁，但太依赖编辑工具，加上缺少内容预览能力，导致记录了近200篇内容但整理的时候没有着力点。笔记不同于日记，必须有主题而且便于回看，否则就成了没有整合的散乱数据。\\n"}'));jctx.push(JSON.parse('{"id": "240614", "tag": "book", "text": "# 唐宋之间\\n\\n## 帝王与人物\\n\\n杨坚登基尉迟迥反，韦孝宽发现后将一路的驿站好马都带走，并交代驿站人员给尉迟迥的追兵好吃好喝，得以逃脱。隋炀帝三征高丽却被东突厥困于雁门,后滞于江都,史书都说荒淫,可真实的恐怕是中军衰败而天下共逐之。\\n\\n隋末天下分 190 郡,但是没有一个整体性的统管,出现了州与州边界地带的管理真空.所谓 64 路反王 72 路烟尘,便是在这种空间下产生的。\\n\\n李世民在武德4年便功高不赏，但为逼李渊主动让位等到武德9年仍不遂，终至玄武门之变\\n\\n唐在西域设都护府的目的，是为了保障丝绸之路的畅通，国际贸易不仅长安带来巨量的财富，文化的交流也使长安在话语权上占有更高的地位。所谓的盛唐气象不仅仅是疆域的辽阔，还是一种因开放性带来的文化影响力\\n\\n【安禄山使副将何千年入奏，请以蕃将三十二人代汉将，上命立进画，给告身】。也就是委任状，过去是由吏部和兵部先给到尚书仆射，然后递到门下省，给事中初判，黄门侍郎复核，侍中终审，不合格打去，合格才上奏皇帝，皇帝批完后再往下发，随后盖上一个个印形成正式有法律效力的文件。但玄宗宠信安禄山，命中书省立下敕书自己签署。高级权力的授予，必须要有充分的时间才显得庄重\\n\\n为张睢阳齿。城破前，张巡道臣智勇俱竭，无法再扼贼人之势，死为厉鬼再杀敌。尹子奇用刀撬开张巡嘴，发现只剩三颗牙齿\\n\\n王维在安禄山攻陷洛阳未能逃出,曾服泄药不合作,但最终还是任伪官.因痛惜乐官之死曾作一首诗,肃宗光复两京后未受罚,仍官复原职,后隐居辋川别墅并写下\\"行到水穷处,坐看云起时\\"\\n\\n黄巢随着王仙芝起兵,朝廷招安只授了王仙芝职,黄巢和王闹翻并分兵出走.二桃杀三士又一例子\\n\\n后周郭威的儿子全被后汉二世祖刘承祐所杀，所亲者只有养子柴荣和侄子李重进，由于郭威落魄之时柴氏带着一半资产嫁他（另一半留给柴氏父母），而柴荣又是柴氏哥哥之子，自幼在郭威身边长大，所以传位柴荣是很自然的，但后周其他大臣并不愿意柴荣接位，经过长期博弈，才慢慢确立柴荣的继位\\n\\n赵匡胤在唐末五代乱世(长达 70 年,对许多人来说就是一生)后能重新建立信仰,矫枉必须过正。杯酒释兵权能够产生的原因,一是因为赵匡胤强大的武力使这些武将感到震慑,另外赵匡胤终于恢复了从中央往县级派驻文官体系从而打破节度使的控制,使得中央的财政能力可以触及到州县之下\\n\\n宋朝从主政者身份的角度可划分为四个时代：皇帝时代(太祖太宗),皇太后时代(真宗刘娥始),太上皇时代(徽宗到宁宗),权臣时代(韩侂胄,史弥远,贾似道)。每个时代都具有连续性，似乎不能称之为巧合。\\n\\n宋明的内核有极大不同，宋对外议和，导致对内压迫极重，农民起义也最多，治理能力也不足。而明吸取宋的教训，到王朝末期对地方仍有极强的管理，也有能力对外强硬\\n\\n## 文化与经济\\n\\n秦唐之间每隔一段时间便有大的分裂，宋以后再没有此现象。有说法是唐黄巢之乱后再无门阀，皇权面对的不再是地主，而是更原子化的士权。而魏晋门阀正是观察地主与皇帝分权的最好样本\\n\\n唐代以前的科举考的五经，五经难度极高，一般人如果没有家学传承根本无法学习，加上录取人数一年也就30多人，所以这个时代的科举并没有向广大的庶民阶层打开。到了宋朝，门阀彻底败落，偶尔有一些年份会录取千人的规模。直到明清规定用朱熹编的四书，向上的通路才算打开\\n\\n北宋时期,中国人口首次突破 1亿.南宋时期,北方金国有大约 4000 万人口,南宋则为 6000 多万,总量基本没什么变化,但是蒙古人的征服使得金宋可查人口消失过半(只是可查人减半,很多是隐匿造成的,实际人口并没有损失那么多)\\n"}'));}var config_txt=`
{"edit":true,
 "tagtr":{
  "os":"操作系统","net":"网络原理","security":"加密与安全",
  "protocol":"通信协议","web":"Web开发","mine":"数据挖掘",
  "lang":"编程语言","tool":"软件工具使用","data":"数据库技术",
  "design":"软件设计","think":"所思所想","book":"读书笔记"
 }
}`;var config=JSON.parse(config_txt);
function _uniid(base){return `u${base}${Math.round(Math.random()*65536)}`}
function renderText(txt){
  if ("#"==txt[0]){return marked.parse(txt.replace(/\[\[([^\] ]+)\]\]/g, "*$1*"))}
  else {return `<p>${txt.replace(/\n/g, "<br/>")}</p>`}}
function dumpobj(e){var t= typeof e;for (let i in e){t=t+`\n${i} : ${e[i]}`};alert(t)}
function _ttl_of_text(txt){var sp= "#"==txt[0]?2:0;return txt.substring(sp, txt.indexOf("\n"))}
function _close_btn(uid){return `<input value="close" type=button onclick="$tm.ev_rmnode('${uid}')"/>`}
function saveFile(flname, txt){
  var a = document.createElement('a')
  a.download = flname
  a.href = URL.createObjectURL(new Blob([txt], {type: 'text/plain'}))
  a.click()
}
function createTitleLink(ttl, i){
  if (i!=undefined) {
	return `<p class="s_item" onclick="$tm.ev_shwCard(${i})">${ttl}</p>`
  }else {return `<p>ERR LINK: ${ttl}</p>`}
}
function createAllTopH(){
  var toph=""
  for (let t in tag2ttl){
	var showh = config.tagtr[t]?config.tagtr[t]:t
	toph+=`<h2 onclick="$tm.ev_shwHd('${t}')">${showh}</h2>`
  }
  return toph
}
function createCata(tag){
  var div = document.createElement('div')
  uniid=_uniid(tag)
  div.id=uniid
  div.className="card sec_pad"
  tag2ttl[tag].sort()
  var ttl_lnk=""
  for (let ttl of tag2ttl[tag]){
	ttl_lnk+=createTitleLink(ttl, ttl2idx[ttl])
  }
  ttl_lnk+=`<hr />${config.tagtr[tag]?config.tagtr[tag]:tag}${_close_btn(uniid)}`
  div.innerHTML=ttl_lnk
  return div
}
function createCard(art, idx){
  var div = document.createElement('div')
  var uniid = _uniid(art["id"])
  div.id=uniid
  div.className="card art_pad"
  var ttl=_ttl_of_text(art["text"])
  var lnkelem=""
  if (lnkmap[ttl]){
	let lst=lnkmap[ttl].split(",")
	for (let v of lst){
	  lnkelem+=createTitleLink(v, ttl2idx[v])
	}
  }
  var edtbtn = config.edit?`<input value="edit" type=button onclick="$tm.ev_shwEdt(${idx})"/>`:"";
  var tag= art["tag"]=="unknown"?"":`_${art["tag"]}`
  div.innerHTML=renderText(art["text"])+`<hr />${art["id"]}${tag}
	${lnkelem}
	${edtbtn}
	${_close_btn(uniid)}`
  return div
}
function insert_div(target, div){
  document.getElementById(target).before(div)
  window.scrollTo({"left": div.offsetLeft, "top": div.offsetTop, behavior: "smooth"})
}
function _find_bykwd(kwd) {
  var ret = []
  var kl = kwd.split(/\s+/)
  var klen = kl.length
  for (let i in jctx) {
    var mc=0, mp, mt=""
    for (let j=0;j<klen;j++){
	  if (0==kl[j].length){mc++;continue}
	  var txt = jctx[i]["text"]
	  if (128>kl[j].charCodeAt(0)) {/*ignoreCase english*/
	    mp = txt.search(RegExp(kl[j],"i"))
	  } else {
		mp = txt.indexOf(kl[j])
	  }
	  mc += mp>=0?1:0
	  mt += mp>=0?`${txt.slice(Math.max(mp-5, 0),mp)}<span class="kwd_em">${kl[j]}</span>${txt.slice(mp+kl[j].length, mp+kl[j].length+6)} `:""
	}
    if (mc==klen) {ret.push([i, mt])}
  }
  return ret
}
var tmout
var ttl2idx={}
var tag2ttl={}
var lnkmap={}
// event function definition
top.$tm.ev_findkwd=function(){
  function _search() {
    var kwd = document.getElementById("kwd").value
    if (kwd.length==0) {document.getElementById("kwd_show").innerHTML ="";return}
    var lst = _find_bykwd(kwd)
    var jmp_ttl = ""
    for (let pr of lst){
	  let i=pr[0], mt=pr[1]
      let ttl = _ttl_of_text(jctx[i]["text"])
      jmp_ttl += createTitleLink(ttl, i)+mt
    }
    document.getElementById("kwd_show").innerHTML = jmp_ttl
  }
  clearTimeout(tmout)
  tmout=setTimeout(_search, 250)
}
top.$tm.ev_rmnode=function(id){var n=document.getElementById(id);n.remove()}
top.$tm.ev_save=function(idx, taid){
  var art = jctx[idx]
  var ta = document.getElementById(taid)
  saveFile(`${art["id"]}_${art["tag"]}.md`, ta.value)
}
top.$tm.ev_chgVorE=function(mdid){
  var md = document.getElementById(mdid)
  if (md.style.display=="none"){
	md.style.display="block"
  } else {
	md.style.display="none"
  }
}
top.$tm.ev_shwCard=function(idx){
  var div = createCard(jctx[idx], idx)
  insert_div("kwd_show", div)
}
top.$tm.ev_shwHd=function(tag) {
  var div = createCata(tag)
  insert_div("eTopTag", div)
}
top.$tm.ev_shwEdt=function(idx){
  var div = document.createElement('div')
  var art = jctx[idx]
  var uniid = _uniid(art["id"])
  div.id=uniid
  div.className="card art_pad edit_zone"
  var spid = _uniid("sp"+art["id"])
  var taid = _uniid("ta"+art["id"])
  var mdid = _uniid("dv"+art["id"])
  div.innerHTML=`<span style="color: blue">Draft Zone</span>
	<div style="display: flex">
	<div class="auto_high sd_by_sd">
	  <span id="${spid}" class="auto_high"></span>
	  <textarea id="${taid}" class="auto_high"></textarea>
	</div>
	<div id="${mdid}" style="display: none" class="sd_by_sd prv_pad"></div>
	</div>
	<hr />
	<input value="preview" type=button onclick="$tm.ev_chgVorE('${mdid}')"/>
	<input value="save" type=button onclick="$tm.ev_save(${idx}, '${taid}')" />
	${_close_btn(uniid)}`
  insert_div("kwd_show", div)
  var ta = document.getElementById(taid)
  ta.value = art["text"]
  document.getElementById(mdid).innerHTML = renderText(ta.value)
  ta.addEventListener('input', function(ev){
	document.getElementById(mdid).innerHTML=renderText(ev.target.value)
  })
  // textarea height auto to rext
  var d_span = document.getElementById(spid)
  var d_area = document.getElementById(taid)
  d_span.innerHTML = d_area.value+' ';
  d_area.addEventListener('input', function(e) {
    d_span.innerHTML = d_area.value+' ';
  })
}
top.$tm.ev_boot=function(){
  load_jctx()
  for (let i in jctx) {
    let ttl = _ttl_of_text(jctx[i]["text"]); ttl2idx[ttl]=i
    let tag = jctx[i]["tag"]
	if (!tag2ttl[tag]) {tag2ttl[tag]=[]};tag2ttl[tag].push(ttl)
	let lnk=jctx[i]["text"].match(/\[\[[^\] ]+\]\]/g)
    if (lnk){
	  for (let v of lnk) {
		let to_lk=v.slice(2, -2)
		if (lnkmap[ttl]===undefined){lnkmap[ttl]=to_lk}
		else {if (-1==lnkmap[ttl].indexOf(to_lk)){lnkmap[ttl]+=`,${to_lk}`} }
		if (lnkmap[to_lk]===undefined){lnkmap[to_lk]=ttl}
		else {if (-1==lnkmap[to_lk].indexOf(ttl)){lnkmap[to_lk]+=`,${ttl}`}}
	  }
    }
  }
  document.getElementById("eTopTag").innerHTML=createAllTopH()
  var dt = new Date();
  document.getElementById("eFter").innerHTML=`Generated at 2024/06/18, 共${jctx.length}篇笔记<br />© 2014 - ${dt.getFullYear()} 由mytid强力驱动`
}
})(this);
//markdown
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).marked=t()}(this,function(){"use strict";function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(n=e[Symbol.iterator]()).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e){return c[e]}var e,t=(function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:e(),getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}(e={exports:{}}),e.exports),r=(t.defaults,t.getDefaults,t.changeDefaults,/[&<>"']/),l=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(u,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var h=/(^|[^\[])\^/g;var f=/[^\w:]/g,d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var k={},b=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,x=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(e,t){k[" "+e]||(b.test(e)?k[" "+e]=e+"/":k[" "+e]=w(e,"/",!0));var n=-1===(e=k[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(m,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(x,"$1")+t:e+t}function w(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var s=e.charAt(r-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.substr(0,r-i)}var _=function(e,t){if(t){if(r.test(e))return e.replace(l,n)}else if(a.test(e))return e.replace(o,n);return e},y=p,z=function(n,e){n=n.source||n,e=e||"";var r={replace:function(e,t){return t=(t=t.source||t).replace(h,"$1"),n=n.replace(e,t),r},getRegex:function(){return new RegExp(n,e)}};return r},S=function(e,t,n){if(e){var r;try{r=decodeURIComponent(p(n)).replace(f,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!d.test(n)&&(n=v(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},$={exec:function(){}},A=function(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},R=function(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;0<=--i&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},T=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1},I=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Z=t.defaults,q=w,O=R,C=_,U=T;function j(e,t,n){var r=t.href,i=t.title?C(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:s}:{type:"image",raw:n,href:r,title:i,text:C(s)}}var E=function(){function e(e){this.options=e||Z}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return 1<t[0].length?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var r=t[t.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:q(i,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map(function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=r.length?e.slice(r.length):e}).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:O(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){for(var r=n.align.length,i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=O(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){for(var n,r,i,s,l,a,o,c=t[0],u=t[2],p=1<u.length,h=")"===u[u.length-1],g={type:"list",raw:c,ordered:p,start:p?+u.slice(0,-1):"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),d=!1,k=f.length,b=0;b<k;b++)r=(c=n=f[b]).length,~(n=n.replace(/^ *([*+-]|\d+[.)]) */,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),b!==k-1&&(i=this.rules.block.bullet.exec(f[b+1])[0],(p?1===i.length||!h&&")"===i[i.length-1]:1<i.length||this.options.smartLists&&i!==u)&&(s=f.slice(b+1).join("\n"),g.raw=g.raw.substring(0,g.raw.length-s.length),b=k-1)),l=d||/\n\n(?!\s*$)/.test(n),b!==k-1&&(d="\n"===n.charAt(n.length-1),l=l||d),l&&(g.loose=!0),o=void 0,(a=/^\[[ xX]\] /.test(n))&&(o=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:c,task:a,checked:o,loose:l,text:n});return g}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):C(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:O(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];for(var r=n.align.length,i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=O(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var r=t[t.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:C(t[1])}},t.tag=function(e,t,n){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):C(r[0]):r[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n,r=U(t[2],"()");-1<r&&(n=(0===t[0].indexOf("!")?5:4)+t[1].length+r,t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,n).trim(),t[3]="");var i,s=t[2],l="";return l=this.options.pedantic?(i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s),i?(s=i[1],i[3]):""):t[3]?t[3].slice(1,-1):"",j(t,{href:(s=s.trim().replace(/^<([\s\S]*)>$/,"$1"))?s.replace(this.rules.inline._escapes,"$1"):s,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if((r=t[r.toLowerCase()])&&r.href)return j(n,r,n[0]);var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}},t.strong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,s="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(s.lastIndex=0;null!=(r=s.exec(t));)if(i=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)))return{type:"strong",raw:e.slice(0,i[0].length),text:e.slice(2,i[0].length-2)}}},t.em=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,s="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(s.lastIndex=0;null!=(r=s.exec(t));)if(i=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)))return{type:"em",raw:e.slice(0,i[0].length),text:e.slice(1,i[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=n.startsWith(" ")&&n.endsWith(" ");return r&&i&&(n=n.substring(1,n.length-1)),n=C(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},t.autolink=function(e,t){var n=this.rules.inline.autolink.exec(e);if(n){var r,i="@"===n[2]?"mailto:"+(r=C(this.options.mangle?t(n[1]):n[1])):r=C(n[1]);return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.url=function(e,t){var n,r,i,s;if(n=this.rules.inline.url.exec(e)){if("@"===n[2])i="mailto:"+(r=C(this.options.mangle?t(n[0]):n[0]));else{for(;s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],s!==n[0];);r=C(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){var r=this.rules.inline.text.exec(e);if(r){var i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):C(r[0]):r[0]:C(this.options.smartypants?n(r[0]):r[0]);return{type:"text",raw:r[0],text:i}}},e}(),D=$,L=z,P=A,B={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:D,table:D,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};B.def=L(B.def).replace("label",B._label).replace("title",B._title).getRegex(),B.bullet=/(?:[*+-]|\d{1,9}[.)])/,B.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,B.item=L(B.item,"gm").replace(/bull/g,B.bullet).getRegex(),B.list=L(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex(),B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B._comment=/<!--(?!-?>)[\s\S]*?-->/,B.html=L(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B.paragraph=L(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",B._tag).getRegex(),B.blockquote=L(B.blockquote).replace("paragraph",B.paragraph).getRegex(),B.normal=P({},B),B.gfm=P({},B.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),B.gfm.nptable=L(B.gfm.nptable).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",B._tag).getRegex(),B.gfm.table=L(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",B._tag).getRegex(),B.pedantic=P({},B.normal,{html:L("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:D,paragraph:L(B.normal._paragraph).replace("hr",B.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var F={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:D,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:D,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};F.punctuation=L(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex(),F._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",F._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",F.em.start=L(F.em.start).replace(/punctuation/g,F._punctuation).getRegex(),F.em.middle=L(F.em.middle).replace(/punctuation/g,F._punctuation).replace(/overlapSkip/g,F._overlapSkip).getRegex(),F.em.endAst=L(F.em.endAst,"g").replace(/punctuation/g,F._punctuation).getRegex(),F.em.endUnd=L(F.em.endUnd,"g").replace(/punctuation/g,F._punctuation).getRegex(),F.strong.start=L(F.strong.start).replace(/punctuation/g,F._punctuation).getRegex(),F.strong.middle=L(F.strong.middle).replace(/punctuation/g,F._punctuation).replace(/blockSkip/g,F._blockSkip).getRegex(),F.strong.endAst=L(F.strong.endAst,"g").replace(/punctuation/g,F._punctuation).getRegex(),F.strong.endUnd=L(F.strong.endUnd,"g").replace(/punctuation/g,F._punctuation).getRegex(),F.blockSkip=L(F._blockSkip,"g").getRegex(),F.overlapSkip=L(F._overlapSkip,"g").getRegex(),F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,F.autolink=L(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex(),F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,F.tag=L(F.tag).replace("comment",B._comment).replace("attribute",F._attribute).getRegex(),F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,F._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,F.link=L(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex(),F.reflink=L(F.reflink).replace("label",F._label).getRegex(),F.reflinkSearch=L(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex(),F.normal=P({},F),F.pedantic=P({},F.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:L(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:L(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()}),F.gfm=P({},F.normal,{escape:L(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),F.gfm.url=L(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex(),F.breaks=P({},F.gfm,{br:L(F.br).replace("{2,}","*").getRegex(),text:L(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var M={block:B,inline:F},N=t.defaults,W=M.block,X=M.inline;function G(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function V(e){for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}var H=function(){function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||N,this.options.tokenizer=this.options.tokenizer||new E,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:W.normal,inline:X.normal};this.options.pedantic?(t.block=W.pedantic,t.inline=X.pedantic):this.options.gfm&&(t.block=W.gfm,this.options.breaks?t.inline=X.breaks:t.inline=X.gfm),this.tokenizer.rules=t}n.lex=function(e,t){return new n(t).lex(e)};var e,t,r,i=n.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,t,n){var r,i,s,l;for(void 0===t&&(t=[]),void 0===n&&(n=!0),e=e.replace(/^ +$/gm,"");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((l=t[t.length-1]).raw+="\n"+r.raw,l.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),s=r.items.length,i=0;i<s;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((l=t[t.length-1]).raw+="\n"+r.raw,l.text+="\n"+r.text);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},i.inline=function(e){for(var t,n,r,i,s,l=e.length,a=0;a<l;a++)switch((s=e[a]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},r=s.header.length,t=0;t<r;t++)s.tokens.header[t]=[],this.inlineTokens(s.header[t],s.tokens.header[t]);for(r=s.cells.length,t=0;t<r;t++)for(i=s.cells[t],s.tokens.cells[t]=[],n=0;n<i.length;n++)s.tokens.cells[t][n]=[],this.inlineTokens(i[n],s.tokens.cells[t][n]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(r=s.items.length,t=0;t<r;t++)this.inline(s.items[t].tokens)}return e},i.inlineTokens=function(e,t,n,r,i){var s;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i="");var l,a=e;if(this.tokens.links){var o=Object.keys(this.tokens.links);if(0<o.length)for(;null!=(l=this.tokenizer.rules.inline.reflinkSearch.exec(a));)o.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(l=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(s=this.tokenizer.escape(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.tag(e,n,r))e=e.substring(s.raw.length),n=s.inLink,r=s.inRawBlock,t.push(s);else if(s=this.tokenizer.link(e))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,r)),t.push(s);else if(s=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,r)),t.push(s);else if(s=this.tokenizer.strong(e,a,i))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.em(e,a,i))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.codespan(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.br(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.del(e))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],n,r),t.push(s);else if(s=this.tokenizer.autolink(e,V))e=e.substring(s.raw.length),t.push(s);else if(n||!(s=this.tokenizer.url(e,V))){if(s=this.tokenizer.inlineText(e,r,G))e=e.substring(s.raw.length),i=s.raw.slice(-1),t.push(s);else if(e){var c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}else e=e.substring(s.raw.length),t.push(s);return t},e=n,r=[{key:"rules",get:function(){return{block:W,inline:X}}}],(t=null)&&s(e.prototype,t),r&&s(e,r),n}(),J=t.defaults,K=S,Q=_,Y=function(){function e(e){this.options=e||J}var t=e.prototype;return t.code=function(e,t,n){var r,i=(t||"").match(/\S*/)[0];return!this.options.highlight||null!=(r=this.options.highlight(e,i))&&r!==e&&(n=!0,e=r),i?'<pre><code class="'+this.options.langPrefix+Q(i,!0)+'">'+(n?e:Q(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Q(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=K(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+Q(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=K(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ee=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),te=function(){function e(){this.seen={}}return e.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t))for(var n=t;this.seen[n]++,t=n+"-"+this.seen[n],this.seen.hasOwnProperty(t););return this.seen[t]=0,t},e}(),ne=t.defaults,re=y,ie=function(){function n(e){this.options=e||ne,this.options.renderer=this.options.renderer||new Y,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ee,this.slugger=new te}n.parse=function(e,t){return new n(t).parse(e)};var e=n.prototype;return e.parse=function(e,t){void 0===t&&(t=!0);for(var n,r,i,s,l,a,o,c,u,p,h,g,f,d,k,b,m,x="",v=e.length,w=0;w<v;w++)switch((u=e[w]).type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(u.tokens),u.depth,re(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(a=o="",i=u.header.length,n=0;n<i;n++)a+=this.renderer.tablecell(this.parseInline(u.tokens.header[n]),{header:!0,align:u.align[n]});for(o+=this.renderer.tablerow(a),c="",i=u.cells.length,n=0;n<i;n++){for(a="",s=(l=u.tokens.cells[n]).length,r=0;r<s;r++)a+=this.renderer.tablecell(this.parseInline(l[r]),{header:!1,align:u.align[r]});c+=this.renderer.tablerow(a)}x+=this.renderer.table(o,c);continue;case"blockquote":c=this.parse(u.tokens),x+=this.renderer.blockquote(c);continue;case"list":for(p=u.ordered,h=u.start,g=u.loose,i=u.items.length,c="",n=0;n<i;n++)k=(d=u.items[n]).checked,b=d.task,f="",d.task&&(m=this.renderer.checkbox(k),g?0<d.tokens.length&&"text"===d.tokens[0].type?(d.tokens[0].text=m+" "+d.tokens[0].text,d.tokens[0].tokens&&0<d.tokens[0].tokens.length&&"text"===d.tokens[0].tokens[0].type&&(d.tokens[0].tokens[0].text=m+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:m}):f+=m),f+=this.parse(d.tokens,g),c+=this.renderer.listitem(f,b,k);x+=this.renderer.list(c,p,h);continue;case"html":x+=this.renderer.html(u.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(c=u.tokens?this.parseInline(u.tokens):u.text;w+1<v&&"text"===e[w+1].type;)c+="\n"+((u=e[++w]).tokens?this.parseInline(u.tokens):u.text);x+=t?this.renderer.paragraph(c):c;continue;default:var _='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(_);throw new Error(_)}return x},e.parseInline=function(e,t){t=t||this.renderer;for(var n,r="",i=e.length,s=0;s<i;s++)switch((n=e[s]).type){case"escape":r+=t.text(n.text);break;case"html":r+=t.html(n.text);break;case"link":r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":r+=t.image(n.href,n.title,n.text);break;case"strong":r+=t.strong(this.parseInline(n.tokens,t));break;case"em":r+=t.em(this.parseInline(n.tokens,t));break;case"codespan":r+=t.codespan(n.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(n.tokens,t));break;case"text":r+=t.text(n.text);break;default:var l='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(l);throw new Error(l)}return r},n}(),se=A,le=I,ae=_,oe=t.getDefaults,ce=t.changeDefaults,ue=t.defaults;function pe(e,n,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof n&&(r=n,n=null),n=se({},pe.defaults,n||{}),le(n),r){var i,s=n.highlight;try{i=H.lex(e,n)}catch(e){return r(e)}var l=function(t){var e;if(!t)try{e=ie.parse(i,n)}catch(e){t=e}return n.highlight=s,t?r(t):r(null,e)};if(!s||s.length<3)return l();if(delete n.highlight,!i.length)return l();var a=0;return pe.walkTokens(i,function(n){"code"===n.type&&(a++,setTimeout(function(){s(n.text,n.lang,function(e,t){if(e)return l(e);null!=t&&t!==n.text&&(n.text=t,n.escaped=!0),0===--a&&l()})},0))}),void(0===a&&l())}try{var t=H.lex(e,n);return n.walkTokens&&pe.walkTokens(t,n.walkTokens),ie.parse(t,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+ae(e.message+"",!0)+"</pre>";throw e}}return pe.options=pe.setOptions=function(e){return se(pe.defaults,e),ce(pe.defaults),pe},pe.getDefaults=oe,pe.defaults=ue,pe.use=function(a){var t,n=se({},a);a.renderer&&function(){function e(i){var s=l[i];l[i]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.renderer[i].apply(l,t);return!1===r&&(r=s.apply(l,t)),r}}var l=pe.defaults.renderer||new Y;for(var t in a.renderer)e(t);n.renderer=l}(),a.tokenizer&&function(){function e(i){var s=l[i];l[i]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.tokenizer[i].apply(l,t);return!1===r&&(r=s.apply(l,t)),r}}var l=pe.defaults.tokenizer||new E;for(var t in a.tokenizer)e(t);n.tokenizer=l}(),a.walkTokens&&(t=pe.defaults.walkTokens,n.walkTokens=function(e){a.walkTokens(e),t&&t(e)}),pe.setOptions(n)},pe.walkTokens=function(e,t){for(var n,r=g(e);!(n=r()).done;){var i=n.value;switch(t(i),i.type){case"table":for(var s,l=g(i.tokens.header);!(s=l()).done;){var a=s.value;pe.walkTokens(a,t)}for(var o,c=g(i.tokens.cells);!(o=c()).done;)for(var u,p=g(o.value);!(u=p()).done;){var h=u.value;pe.walkTokens(h,t)}break;case"list":pe.walkTokens(i.items,t);break;default:i.tokens&&pe.walkTokens(i.tokens,t)}}},pe.Parser=ie,pe.parser=ie.parse,pe.Renderer=Y,pe.TextRenderer=ee,pe.Lexer=H,pe.lexer=H.lex,pe.Tokenizer=E,pe.Slugger=te,pe.parse=pe});/*! jQuery v3.6.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
</script>
</head>
<body onload="$tm.ev_boot()">
<nav><h1>CardMemo2</h1> <label><input id="kwd" type="search" oninput="$tm.ev_findkwd()" placeholder="search"></label>
</nav>

<div class="card kwd_pad" id="kwd_show"></div>

<section id="eTopTag" class="card sec_pad">
</section>

<footer id="eFter" class="footer"></footer>
</body></html>
